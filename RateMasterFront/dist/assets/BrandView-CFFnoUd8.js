import{_ as z,D,r as i,j as $,c as l,n as q,d as k,e as w,t as C,a as t,u as I,k as x,v as V,b as m,w as v,C as p,p as P,q as S,o,g as j}from"./index-gYmHc71o.js";const U={class:"content container-fluid mt-5"},F={key:0,class:"bi bi-check-circle-fill"},L={key:1,class:"bi bi-exclamation-triangle-fill"},O={key:2,class:"bi bi-x-circle-fill"},R={class:"d-flex align-items-center mb-4"},G={class:"table table-striped table-bordered"},H={key:0},J={key:1},K={key:0},Q={key:1},W={__name:"BrandView",setup(X){const f=new D("brands"),N=j(),u=i([]),b=i(""),r=i(null),c=i(""),_=i(null),d=i("success"),y=i(!1);$(()=>{g()});const g=async()=>{u.value=await f.getAll()},n=(a,e="success")=>{_.value=a,d.value=e,y.value=!0,setTimeout(()=>y.value=!1,3e3)},A=async()=>{const a=b.value.trim();if(!a){n("Por favor, insira um nome válido para a marca.","warning");return}try{await f.insert({name:a}),await g(),b.value="",n("Marca adicionada com sucesso!","success")}catch(e){console.error(e),n("Erro ao adicionar a marca.","danger")}},h=async a=>{if(confirm("Tem certeza de que deseja remover esta marca?"))try{await f.delete(a),u.value=u.value.filter(e=>e.id!==a),n("Marca removida com sucesso!","success")}catch(e){console.error(e),n("Erro ao remover a marca.","danger")}},M=a=>{r.value=a.id,c.value=a.name},E=()=>{r.value=null,c.value=""},T=async()=>{const a=c.value.trim();if(!a){n("Por favor, insira um nome válido para a marca.","warning");return}try{await f.update(r.value,{name:a});const e=u.value.findIndex(s=>s.id===r.value);e!==-1&&(u.value[e].name=a),r.value=null,c.value="",n("Marca atualizada com sucesso!","success")}catch(e){console.error(e),n("Erro ao atualizar a marca.","danger")}};return(a,e)=>(o(),l("div",U,[y.value?(o(),l("div",{key:0,class:q(`alert alert-${d.value} alert-dismissible fade show custom-alert`),role:"alert"},[d.value==="success"?(o(),l("i",F)):k("",!0),d.value==="warning"?(o(),l("i",L)):k("",!0),d.value==="danger"?(o(),l("i",O)):k("",!0),w(" "+C(_.value)+" ",1),t("button",{type:"button",class:"btn-close",onClick:e[0]||(e[0]=s=>y.value=!1)})],2)):k("",!0),t("button",{type:"button",class:"btn pb-3 back-button",onClick:e[1]||(e[1]=s=>I(N).push("/myProfile"))}," ← Voltar para os produtos "),t("div",R,[x(t("input",{"onUpdate:modelValue":e[2]||(e[2]=s=>b.value=s),type:"text",class:"form-control form-control-sm w-auto",placeholder:"Nova marca"},null,512),[[V,b.value]]),m(p,{class:"btn btn-sm ms-2",onClick:A},{default:v(()=>e[4]||(e[4]=[w("Adicionar")])),_:1})]),t("table",G,[e[9]||(e[9]=t("thead",null,[t("tr",null,[t("th",{scope:"col"},"Nome"),t("th",{scope:"col"},"Ações")])],-1)),t("tbody",null,[(o(!0),l(P,null,S(u.value,s=>(o(),l("tr",{key:s.id},[t("td",null,[r.value===s.id?(o(),l("div",H,[x(t("input",{"onUpdate:modelValue":e[3]||(e[3]=B=>c.value=B),type:"text",class:"form-control form-control-sm"},null,512),[[V,c.value]])])):(o(),l("div",J,C(s.name),1))]),t("td",null,[r.value===s.id?(o(),l("div",K,[m(p,{onClick:T,type:"button",class:"btn ms-2 me-2"},{default:v(()=>e[5]||(e[5]=[w(" Salvar ")])),_:1}),m(p,{onClick:E,type:"button",class:"btn ms-2 me-2"},{default:v(()=>e[6]||(e[6]=[w(" Cancelar ")])),_:1})])):(o(),l("div",Q,[m(p,{onClick:()=>M(s),type:"button",class:"btn ms-2 me-2"},{default:v(()=>e[7]||(e[7]=[t("i",{class:"bi bi-pencil-square"},null,-1)])),_:2},1032,["onClick"]),m(p,{onClick:B=>h(s.id),type:"button",class:"btn ms-2 me-2"},{default:v(()=>e[8]||(e[8]=[t("i",{class:"bi bi-trash-fill"},null,-1)])),_:2},1032,["onClick"])]))])]))),128))])])]))}},Z=z(W,[["__scopeId","data-v-9602d9c2"]]);export{Z as default};
