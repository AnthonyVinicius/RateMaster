const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/LoginView-D4RWmTUq.js","assets/LoginService-xdsZZkMq.js","assets/LoginView-DJnqKCEN.css","assets/ProductReviewsView-DWIFNSB1.js","assets/ProductReviewsView-BdwWbMN4.css","assets/RegisterUserView-CO5BACkA.js","assets/RegisterUserView-DDog7jz6.css","assets/RegisterProductView-BB-ph7XE.js","assets/RegisterProductView-D6GwhU8b.css","assets/BrandView-CFFnoUd8.js","assets/BrandView-3Z1m-H9H.css","assets/UpdateProductsView-CPH-lLL-.js","assets/UpdateProductsView-CmIuaH41.css","assets/ProductDetailsView-D4qUrSol.js","assets/ProductDetailsView-BPORvsEq.css","assets/MyProfileView-AvGbK5yk.js","assets/MyProfileView-BjfQWTxJ.css","assets/UnauthorizedView-Cqgh_u9C.js","assets/UnauthorizedView-CXEbXlVa.css"])))=>i.map(i=>d[i]);
(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();/**
* @vue/shared v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function jd(t){const e=Object.create(null);for(const n of t.split(","))e[n]=1;return n=>n in e}const _t={},vo=[],Dr=()=>{},oI=()=>!1,lu=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),Hd=t=>t.startsWith("onUpdate:"),on=Object.assign,qd=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},aI=Object.prototype.hasOwnProperty,lt=(t,e)=>aI.call(t,e),Oe=Array.isArray,yo=t=>gl(t)==="[object Map]",Ho=t=>gl(t)==="[object Set]",mm=t=>gl(t)==="[object Date]",xe=t=>typeof t=="function",$t=t=>typeof t=="string",pr=t=>typeof t=="symbol",vt=t=>t!==null&&typeof t=="object",H_=t=>(vt(t)||xe(t))&&xe(t.then)&&xe(t.catch),q_=Object.prototype.toString,gl=t=>q_.call(t),lI=t=>gl(t).slice(8,-1),W_=t=>gl(t)==="[object Object]",Wd=t=>$t(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,Ua=jd(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),cu=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},cI=/-(\w)/g,tr=cu(t=>t.replace(cI,(e,n)=>n?n.toUpperCase():"")),uI=/\B([A-Z])/g,Hs=cu(t=>t.replace(uI,"-$1").toLowerCase()),uu=cu(t=>t.charAt(0).toUpperCase()+t.slice(1)),Ah=cu(t=>t?`on${uu(t)}`:""),$i=(t,e)=>!Object.is(t,e),yc=(t,...e)=>{for(let n=0;n<t.length;n++)t[n](...e)},K_=(t,e,n,r=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:r,value:n})},Vc=t=>{const e=parseFloat(t);return isNaN(e)?t:e};let gm;const hu=()=>gm||(gm=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Kd(t){if(Oe(t)){const e={};for(let n=0;n<t.length;n++){const r=t[n],i=$t(r)?pI(r):Kd(r);if(i)for(const s in i)e[s]=i[s]}return e}else if($t(t)||vt(t))return t}const hI=/;(?![^(]*\))/g,dI=/:([^]+)/,fI=/\/\*[^]*?\*\//g;function pI(t){const e={};return t.replace(fI,"").split(hI).forEach(n=>{if(n){const r=n.split(dI);r.length>1&&(e[r[0].trim()]=r[1].trim())}}),e}function zd(t){let e="";if($t(t))e=t;else if(Oe(t))for(let n=0;n<t.length;n++){const r=zd(t[n]);r&&(e+=r+" ")}else if(vt(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}const mI="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",gI=jd(mI);function z_(t){return!!t||t===""}function _I(t,e){if(t.length!==e.length)return!1;let n=!0;for(let r=0;n&&r<t.length;r++)n=xs(t[r],e[r]);return n}function xs(t,e){if(t===e)return!0;let n=mm(t),r=mm(e);if(n||r)return n&&r?t.getTime()===e.getTime():!1;if(n=pr(t),r=pr(e),n||r)return t===e;if(n=Oe(t),r=Oe(e),n||r)return n&&r?_I(t,e):!1;if(n=vt(t),r=vt(e),n||r){if(!n||!r)return!1;const i=Object.keys(t).length,s=Object.keys(e).length;if(i!==s)return!1;for(const o in t){const c=t.hasOwnProperty(o),u=e.hasOwnProperty(o);if(c&&!u||!c&&u||!xs(t[o],e[o]))return!1}}return String(t)===String(e)}function Gd(t,e){return t.findIndex(n=>xs(n,e))}const G_=t=>!!(t&&t.__v_isRef===!0),Q_=t=>$t(t)?t:t==null?"":Oe(t)||vt(t)&&(t.toString===q_||!xe(t.toString))?G_(t)?Q_(t.value):JSON.stringify(t,Y_,2):String(t),Y_=(t,e)=>G_(e)?Y_(t,e.value):yo(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[r,i],s)=>(n[bh(r,s)+" =>"]=i,n),{})}:Ho(e)?{[`Set(${e.size})`]:[...e.values()].map(n=>bh(n))}:pr(e)?bh(e):vt(e)&&!Oe(e)&&!W_(e)?String(e):e,bh=(t,e="")=>{var n;return pr(t)?`Symbol(${(n=t.description)!=null?n:e})`:t};/**
* @vue/reactivity v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Hn;class vI{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=Hn,!e&&Hn&&(this.index=(Hn.scopes||(Hn.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].pause();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].resume();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].resume()}}run(e){if(this._active){const n=Hn;try{return Hn=this,e()}finally{Hn=n}}}on(){Hn=this}off(){Hn=this.parent}stop(e){if(this._active){this._active=!1;let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(this.effects.length=0,n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.cleanups.length=0,this.scopes){for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0}}}function yI(){return Hn}let Tt;const Ih=new WeakSet;class X_{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,Hn&&Hn.active&&Hn.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,Ih.has(this)&&(Ih.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||Z_(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,_m(this),ev(this);const e=Tt,n=hr;Tt=this,hr=!0;try{return this.fn()}finally{tv(this),Tt=e,hr=n,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)Xd(e);this.deps=this.depsTail=void 0,_m(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?Ih.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){Jh(this)&&this.run()}get dirty(){return Jh(this)}}let J_=0,Ba,ja;function Z_(t,e=!1){if(t.flags|=8,e){t.next=ja,ja=t;return}t.next=Ba,Ba=t}function Qd(){J_++}function Yd(){if(--J_>0)return;if(ja){let e=ja;for(ja=void 0;e;){const n=e.next;e.next=void 0,e.flags&=-9,e=n}}let t;for(;Ba;){let e=Ba;for(Ba=void 0;e;){const n=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(r){t||(t=r)}e=n}}if(t)throw t}function ev(t){for(let e=t.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function tv(t){let e,n=t.depsTail,r=n;for(;r;){const i=r.prevDep;r.version===-1?(r===n&&(n=i),Xd(r),EI(r)):e=r,r.dep.activeLink=r.prevActiveLink,r.prevActiveLink=void 0,r=i}t.deps=e,t.depsTail=n}function Jh(t){for(let e=t.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(nv(e.dep.computed)||e.dep.version!==e.version))return!0;return!!t._dirty}function nv(t){if(t.flags&4&&!(t.flags&16)||(t.flags&=-17,t.globalVersion===Ja))return;t.globalVersion=Ja;const e=t.dep;if(t.flags|=2,e.version>0&&!t.isSSR&&t.deps&&!Jh(t)){t.flags&=-3;return}const n=Tt,r=hr;Tt=t,hr=!0;try{ev(t);const i=t.fn(t._value);(e.version===0||$i(i,t._value))&&(t._value=i,e.version++)}catch(i){throw e.version++,i}finally{Tt=n,hr=r,tv(t),t.flags&=-3}}function Xd(t,e=!1){const{dep:n,prevSub:r,nextSub:i}=t;if(r&&(r.nextSub=i,t.prevSub=void 0),i&&(i.prevSub=r,t.nextSub=void 0),n.subs===t&&(n.subs=r,!r&&n.computed)){n.computed.flags&=-5;for(let s=n.computed.deps;s;s=s.nextDep)Xd(s,!0)}!e&&!--n.sc&&n.map&&n.map.delete(n.key)}function EI(t){const{prevDep:e,nextDep:n}=t;e&&(e.nextDep=n,t.prevDep=void 0),n&&(n.prevDep=e,t.nextDep=void 0)}let hr=!0;const rv=[];function Zi(){rv.push(hr),hr=!1}function es(){const t=rv.pop();hr=t===void 0?!0:t}function _m(t){const{cleanup:e}=t;if(t.cleanup=void 0,e){const n=Tt;Tt=void 0;try{e()}finally{Tt=n}}}let Ja=0;class TI{constructor(e,n){this.sub=e,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class Jd{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(e){if(!Tt||!hr||Tt===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==Tt)n=this.activeLink=new TI(Tt,this),Tt.deps?(n.prevDep=Tt.depsTail,Tt.depsTail.nextDep=n,Tt.depsTail=n):Tt.deps=Tt.depsTail=n,iv(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const r=n.nextDep;r.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=r),n.prevDep=Tt.depsTail,n.nextDep=void 0,Tt.depsTail.nextDep=n,Tt.depsTail=n,Tt.deps===n&&(Tt.deps=r)}return n}trigger(e){this.version++,Ja++,this.notify(e)}notify(e){Qd();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{Yd()}}}function iv(t){if(t.dep.sc++,t.sub.flags&4){const e=t.dep.computed;if(e&&!t.dep.subs){e.flags|=20;for(let r=e.deps;r;r=r.nextDep)iv(r)}const n=t.dep.subs;n!==t&&(t.prevSub=n,n&&(n.nextSub=t)),t.dep.subs=t}}const kc=new WeakMap,Vs=Symbol(""),Zh=Symbol(""),Za=Symbol("");function Tn(t,e,n){if(hr&&Tt){let r=kc.get(t);r||kc.set(t,r=new Map);let i=r.get(n);i||(r.set(n,i=new Jd),i.map=r,i.key=n),i.track()}}function ti(t,e,n,r,i,s){const o=kc.get(t);if(!o){Ja++;return}const c=u=>{u&&u.trigger()};if(Qd(),e==="clear")o.forEach(c);else{const u=Oe(t),h=u&&Wd(n);if(u&&n==="length"){const p=Number(r);o.forEach((_,y)=>{(y==="length"||y===Za||!pr(y)&&y>=p)&&c(_)})}else switch((n!==void 0||o.has(void 0))&&c(o.get(n)),h&&c(o.get(Za)),e){case"add":u?h&&c(o.get("length")):(c(o.get(Vs)),yo(t)&&c(o.get(Zh)));break;case"delete":u||(c(o.get(Vs)),yo(t)&&c(o.get(Zh)));break;case"set":yo(t)&&c(o.get(Vs));break}}Yd()}function wI(t,e){const n=kc.get(t);return n&&n.get(e)}function co(t){const e=st(t);return e===t?e:(Tn(e,"iterate",Za),Zn(t)?e:e.map(wn))}function du(t){return Tn(t=st(t),"iterate",Za),t}const AI={__proto__:null,[Symbol.iterator](){return Sh(this,Symbol.iterator,wn)},concat(...t){return co(this).concat(...t.map(e=>Oe(e)?co(e):e))},entries(){return Sh(this,"entries",t=>(t[1]=wn(t[1]),t))},every(t,e){return Yr(this,"every",t,e,void 0,arguments)},filter(t,e){return Yr(this,"filter",t,e,n=>n.map(wn),arguments)},find(t,e){return Yr(this,"find",t,e,wn,arguments)},findIndex(t,e){return Yr(this,"findIndex",t,e,void 0,arguments)},findLast(t,e){return Yr(this,"findLast",t,e,wn,arguments)},findLastIndex(t,e){return Yr(this,"findLastIndex",t,e,void 0,arguments)},forEach(t,e){return Yr(this,"forEach",t,e,void 0,arguments)},includes(...t){return Rh(this,"includes",t)},indexOf(...t){return Rh(this,"indexOf",t)},join(t){return co(this).join(t)},lastIndexOf(...t){return Rh(this,"lastIndexOf",t)},map(t,e){return Yr(this,"map",t,e,void 0,arguments)},pop(){return Sa(this,"pop")},push(...t){return Sa(this,"push",t)},reduce(t,...e){return vm(this,"reduce",t,e)},reduceRight(t,...e){return vm(this,"reduceRight",t,e)},shift(){return Sa(this,"shift")},some(t,e){return Yr(this,"some",t,e,void 0,arguments)},splice(...t){return Sa(this,"splice",t)},toReversed(){return co(this).toReversed()},toSorted(t){return co(this).toSorted(t)},toSpliced(...t){return co(this).toSpliced(...t)},unshift(...t){return Sa(this,"unshift",t)},values(){return Sh(this,"values",wn)}};function Sh(t,e,n){const r=du(t),i=r[e]();return r!==t&&!Zn(t)&&(i._next=i.next,i.next=()=>{const s=i._next();return s.value&&(s.value=n(s.value)),s}),i}const bI=Array.prototype;function Yr(t,e,n,r,i,s){const o=du(t),c=o!==t&&!Zn(t),u=o[e];if(u!==bI[e]){const _=u.apply(t,s);return c?wn(_):_}let h=n;o!==t&&(c?h=function(_,y){return n.call(this,wn(_),y,t)}:n.length>2&&(h=function(_,y){return n.call(this,_,y,t)}));const p=u.call(o,h,r);return c&&i?i(p):p}function vm(t,e,n,r){const i=du(t);let s=n;return i!==t&&(Zn(t)?n.length>3&&(s=function(o,c,u){return n.call(this,o,c,u,t)}):s=function(o,c,u){return n.call(this,o,wn(c),u,t)}),i[e](s,...r)}function Rh(t,e,n){const r=st(t);Tn(r,"iterate",Za);const i=r[e](...n);return(i===-1||i===!1)&&nf(n[0])?(n[0]=st(n[0]),r[e](...n)):i}function Sa(t,e,n=[]){Zi(),Qd();const r=st(t)[e].apply(t,n);return Yd(),es(),r}const II=jd("__proto__,__v_isRef,__isVue"),sv=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(pr));function SI(t){pr(t)||(t=String(t));const e=st(this);return Tn(e,"has",t),e.hasOwnProperty(t)}class ov{constructor(e=!1,n=!1){this._isReadonly=e,this._isShallow=n}get(e,n,r){if(n==="__v_skip")return e.__v_skip;const i=this._isReadonly,s=this._isShallow;if(n==="__v_isReactive")return!i;if(n==="__v_isReadonly")return i;if(n==="__v_isShallow")return s;if(n==="__v_raw")return r===(i?s?xI:uv:s?cv:lv).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(r)?e:void 0;const o=Oe(e);if(!i){let u;if(o&&(u=AI[n]))return u;if(n==="hasOwnProperty")return SI}const c=Reflect.get(e,n,Nt(e)?e:r);return(pr(n)?sv.has(n):II(n))||(i||Tn(e,"get",n),s)?c:Nt(c)?o&&Wd(n)?c:c.value:vt(c)?i?ef(c):Wi(c):c}}class av extends ov{constructor(e=!1){super(!1,e)}set(e,n,r,i){let s=e[n];if(!this._isShallow){const u=Ms(s);if(!Zn(r)&&!Ms(r)&&(s=st(s),r=st(r)),!Oe(e)&&Nt(s)&&!Nt(r))return u?!1:(s.value=r,!0)}const o=Oe(e)&&Wd(n)?Number(n)<e.length:lt(e,n),c=Reflect.set(e,n,r,Nt(e)?e:i);return e===st(i)&&(o?$i(r,s)&&ti(e,"set",n,r):ti(e,"add",n,r)),c}deleteProperty(e,n){const r=lt(e,n);e[n];const i=Reflect.deleteProperty(e,n);return i&&r&&ti(e,"delete",n,void 0),i}has(e,n){const r=Reflect.has(e,n);return(!pr(n)||!sv.has(n))&&Tn(e,"has",n),r}ownKeys(e){return Tn(e,"iterate",Oe(e)?"length":Vs),Reflect.ownKeys(e)}}class RI extends ov{constructor(e=!1){super(!0,e)}set(e,n){return!0}deleteProperty(e,n){return!0}}const CI=new av,PI=new RI,OI=new av(!0);const ed=t=>t,ac=t=>Reflect.getPrototypeOf(t);function NI(t,e,n){return function(...r){const i=this.__v_raw,s=st(i),o=yo(s),c=t==="entries"||t===Symbol.iterator&&o,u=t==="keys"&&o,h=i[t](...r),p=n?ed:e?td:wn;return!e&&Tn(s,"iterate",u?Zh:Vs),{next(){const{value:_,done:y}=h.next();return y?{value:_,done:y}:{value:c?[p(_[0]),p(_[1])]:p(_),done:y}},[Symbol.iterator](){return this}}}}function lc(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function DI(t,e){const n={get(i){const s=this.__v_raw,o=st(s),c=st(i);t||($i(i,c)&&Tn(o,"get",i),Tn(o,"get",c));const{has:u}=ac(o),h=e?ed:t?td:wn;if(u.call(o,i))return h(s.get(i));if(u.call(o,c))return h(s.get(c));s!==o&&s.get(i)},get size(){const i=this.__v_raw;return!t&&Tn(st(i),"iterate",Vs),Reflect.get(i,"size",i)},has(i){const s=this.__v_raw,o=st(s),c=st(i);return t||($i(i,c)&&Tn(o,"has",i),Tn(o,"has",c)),i===c?s.has(i):s.has(i)||s.has(c)},forEach(i,s){const o=this,c=o.__v_raw,u=st(c),h=e?ed:t?td:wn;return!t&&Tn(u,"iterate",Vs),c.forEach((p,_)=>i.call(s,h(p),h(_),o))}};return on(n,t?{add:lc("add"),set:lc("set"),delete:lc("delete"),clear:lc("clear")}:{add(i){!e&&!Zn(i)&&!Ms(i)&&(i=st(i));const s=st(this);return ac(s).has.call(s,i)||(s.add(i),ti(s,"add",i,i)),this},set(i,s){!e&&!Zn(s)&&!Ms(s)&&(s=st(s));const o=st(this),{has:c,get:u}=ac(o);let h=c.call(o,i);h||(i=st(i),h=c.call(o,i));const p=u.call(o,i);return o.set(i,s),h?$i(s,p)&&ti(o,"set",i,s):ti(o,"add",i,s),this},delete(i){const s=st(this),{has:o,get:c}=ac(s);let u=o.call(s,i);u||(i=st(i),u=o.call(s,i)),c&&c.call(s,i);const h=s.delete(i);return u&&ti(s,"delete",i,void 0),h},clear(){const i=st(this),s=i.size!==0,o=i.clear();return s&&ti(i,"clear",void 0,void 0),o}}),["keys","values","entries",Symbol.iterator].forEach(i=>{n[i]=NI(i,t,e)}),n}function Zd(t,e){const n=DI(t,e);return(r,i,s)=>i==="__v_isReactive"?!t:i==="__v_isReadonly"?t:i==="__v_raw"?r:Reflect.get(lt(n,i)&&i in r?n:r,i,s)}const VI={get:Zd(!1,!1)},kI={get:Zd(!1,!0)},LI={get:Zd(!0,!1)};const lv=new WeakMap,cv=new WeakMap,uv=new WeakMap,xI=new WeakMap;function MI(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function FI(t){return t.__v_skip||!Object.isExtensible(t)?0:MI(lI(t))}function Wi(t){return Ms(t)?t:tf(t,!1,CI,VI,lv)}function hv(t){return tf(t,!1,OI,kI,cv)}function ef(t){return tf(t,!0,PI,LI,uv)}function tf(t,e,n,r,i){if(!vt(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const s=i.get(t);if(s)return s;const o=FI(t);if(o===0)return t;const c=new Proxy(t,o===2?r:n);return i.set(t,c),c}function Eo(t){return Ms(t)?Eo(t.__v_raw):!!(t&&t.__v_isReactive)}function Ms(t){return!!(t&&t.__v_isReadonly)}function Zn(t){return!!(t&&t.__v_isShallow)}function nf(t){return t?!!t.__v_raw:!1}function st(t){const e=t&&t.__v_raw;return e?st(e):t}function $I(t){return!lt(t,"__v_skip")&&Object.isExtensible(t)&&K_(t,"__v_skip",!0),t}const wn=t=>vt(t)?Wi(t):t,td=t=>vt(t)?ef(t):t;function Nt(t){return t?t.__v_isRef===!0:!1}function Pn(t){return fv(t,!1)}function dv(t){return fv(t,!0)}function fv(t,e){return Nt(t)?t:new UI(t,e)}class UI{constructor(e,n){this.dep=new Jd,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?e:st(e),this._value=n?e:wn(e),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(e){const n=this._rawValue,r=this.__v_isShallow||Zn(e)||Ms(e);e=r?e:st(e),$i(e,n)&&(this._rawValue=e,this._value=r?e:wn(e),this.dep.trigger())}}function Ye(t){return Nt(t)?t.value:t}function Re(t){return xe(t)?t():Ye(t)}const BI={get:(t,e,n)=>e==="__v_raw"?t:Ye(Reflect.get(t,e,n)),set:(t,e,n,r)=>{const i=t[e];return Nt(i)&&!Nt(n)?(i.value=n,!0):Reflect.set(t,e,n,r)}};function pv(t){return Eo(t)?t:new Proxy(t,BI)}class jI{constructor(e,n,r){this._object=e,this._key=n,this._defaultValue=r,this.__v_isRef=!0,this._value=void 0}get value(){const e=this._object[this._key];return this._value=e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return wI(st(this._object),this._key)}}class HI{constructor(e){this._getter=e,this.__v_isRef=!0,this.__v_isReadonly=!0,this._value=void 0}get value(){return this._value=this._getter()}}function Os(t,e,n){return Nt(t)?t:xe(t)?new HI(t):vt(t)&&arguments.length>1?qI(t,e,n):Pn(t)}function qI(t,e,n){const r=t[e];return Nt(r)?r:new jI(t,e,n)}class WI{constructor(e,n,r){this.fn=e,this.setter=n,this._value=void 0,this.dep=new Jd(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Ja-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=r}notify(){if(this.flags|=16,!(this.flags&8)&&Tt!==this)return Z_(this,!0),!0}get value(){const e=this.dep.track();return nv(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function KI(t,e,n=!1){let r,i;return xe(t)?r=t:(r=t.get,i=t.set),new WI(r,i,n)}const cc={},Lc=new WeakMap;let Cs;function zI(t,e=!1,n=Cs){if(n){let r=Lc.get(n);r||Lc.set(n,r=[]),r.push(t)}}function GI(t,e,n=_t){const{immediate:r,deep:i,once:s,scheduler:o,augmentJob:c,call:u}=n,h=ee=>i?ee:Zn(ee)||i===!1||i===0?ni(ee,1):ni(ee);let p,_,y,T,x=!1,H=!1;if(Nt(t)?(_=()=>t.value,x=Zn(t)):Eo(t)?(_=()=>h(t),x=!0):Oe(t)?(H=!0,x=t.some(ee=>Eo(ee)||Zn(ee)),_=()=>t.map(ee=>{if(Nt(ee))return ee.value;if(Eo(ee))return h(ee);if(xe(ee))return u?u(ee,2):ee()})):xe(t)?e?_=u?()=>u(t,2):t:_=()=>{if(y){Zi();try{y()}finally{es()}}const ee=Cs;Cs=p;try{return u?u(t,3,[T]):t(T)}finally{Cs=ee}}:_=Dr,e&&i){const ee=_,be=i===!0?1/0:i;_=()=>ni(ee(),be)}const U=yI(),X=()=>{p.stop(),U&&U.active&&qd(U.effects,p)};if(s&&e){const ee=e;e=(...be)=>{ee(...be),X()}}let z=H?new Array(t.length).fill(cc):cc;const ne=ee=>{if(!(!(p.flags&1)||!p.dirty&&!ee))if(e){const be=p.run();if(i||x||(H?be.some((ge,R)=>$i(ge,z[R])):$i(be,z))){y&&y();const ge=Cs;Cs=p;try{const R=[be,z===cc?void 0:H&&z[0]===cc?[]:z,T];u?u(e,3,R):e(...R),z=be}finally{Cs=ge}}}else p.run()};return c&&c(ne),p=new X_(_),p.scheduler=o?()=>o(ne,!1):ne,T=ee=>zI(ee,!1,p),y=p.onStop=()=>{const ee=Lc.get(p);if(ee){if(u)u(ee,4);else for(const be of ee)be();Lc.delete(p)}},e?r?ne(!0):z=p.run():o?o(ne.bind(null,!0),!0):p.run(),X.pause=p.pause.bind(p),X.resume=p.resume.bind(p),X.stop=X,X}function ni(t,e=1/0,n){if(e<=0||!vt(t)||t.__v_skip||(n=n||new Set,n.has(t)))return t;if(n.add(t),e--,Nt(t))ni(t.value,e,n);else if(Oe(t))for(let r=0;r<t.length;r++)ni(t[r],e,n);else if(Ho(t)||yo(t))t.forEach(r=>{ni(r,e,n)});else if(W_(t)){for(const r in t)ni(t[r],e,n);for(const r of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,r)&&ni(t[r],e,n)}return t}/**
* @vue/runtime-core v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function _l(t,e,n,r){try{return r?t(...r):t()}catch(i){fu(i,e,n)}}function Mr(t,e,n,r){if(xe(t)){const i=_l(t,e,n,r);return i&&H_(i)&&i.catch(s=>{fu(s,e,n)}),i}if(Oe(t)){const i=[];for(let s=0;s<t.length;s++)i.push(Mr(t[s],e,n,r));return i}}function fu(t,e,n,r=!0){const i=e?e.vnode:null,{errorHandler:s,throwUnhandledErrorInProduction:o}=e&&e.appContext.config||_t;if(e){let c=e.parent;const u=e.proxy,h=`https://vuejs.org/error-reference/#runtime-${n}`;for(;c;){const p=c.ec;if(p){for(let _=0;_<p.length;_++)if(p[_](t,u,h)===!1)return}c=c.parent}if(s){Zi(),_l(s,null,10,[t,u,h]),es();return}}QI(t,n,i,r,o)}function QI(t,e,n,r=!0,i=!1){if(i)throw t;console.error(t)}const On=[];let Cr=-1;const To=[];let Ni=null,uo=0;const mv=Promise.resolve();let xc=null;function qn(t){const e=xc||mv;return t?e.then(this?t.bind(this):t):e}function YI(t){let e=Cr+1,n=On.length;for(;e<n;){const r=e+n>>>1,i=On[r],s=el(i);s<t||s===t&&i.flags&2?e=r+1:n=r}return e}function rf(t){if(!(t.flags&1)){const e=el(t),n=On[On.length-1];!n||!(t.flags&2)&&e>=el(n)?On.push(t):On.splice(YI(e),0,t),t.flags|=1,gv()}}function gv(){xc||(xc=mv.then(vv))}function XI(t){Oe(t)?To.push(...t):Ni&&t.id===-1?Ni.splice(uo+1,0,t):t.flags&1||(To.push(t),t.flags|=1),gv()}function ym(t,e,n=Cr+1){for(;n<On.length;n++){const r=On[n];if(r&&r.flags&2){if(t&&r.id!==t.uid)continue;On.splice(n,1),n--,r.flags&4&&(r.flags&=-2),r(),r.flags&4||(r.flags&=-2)}}}function _v(t){if(To.length){const e=[...new Set(To)].sort((n,r)=>el(n)-el(r));if(To.length=0,Ni){Ni.push(...e);return}for(Ni=e,uo=0;uo<Ni.length;uo++){const n=Ni[uo];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}Ni=null,uo=0}}const el=t=>t.id==null?t.flags&2?-1:1/0:t.id;function vv(t){try{for(Cr=0;Cr<On.length;Cr++){const e=On[Cr];e&&!(e.flags&8)&&(e.flags&4&&(e.flags&=-2),_l(e,e.i,e.i?15:14),e.flags&4||(e.flags&=-2))}}finally{for(;Cr<On.length;Cr++){const e=On[Cr];e&&(e.flags&=-2)}Cr=-1,On.length=0,_v(),xc=null,(On.length||To.length)&&vv()}}let sn=null,yv=null;function Mc(t){const e=sn;return sn=t,yv=t&&t.type.__scopeId||null,e}function wt(t,e=sn,n){if(!e||t._n)return t;const r=(...i)=>{r._d&&Cm(-1);const s=Mc(e);let o;try{o=t(...i)}finally{Mc(s),r._d&&Cm(1)}return o};return r._n=!0,r._c=!0,r._d=!0,r}function sx(t,e){if(sn===null)return t;const n=vu(sn),r=t.dirs||(t.dirs=[]);for(let i=0;i<e.length;i++){let[s,o,c,u=_t]=e[i];s&&(xe(s)&&(s={mounted:s,updated:s}),s.deep&&ni(o),r.push({dir:s,instance:n,value:o,oldValue:void 0,arg:c,modifiers:u}))}return t}function Ss(t,e,n,r){const i=t.dirs,s=e&&e.dirs;for(let o=0;o<i.length;o++){const c=i[o];s&&(c.oldValue=s[o].value);let u=c.dir[r];u&&(Zi(),Mr(u,n,8,[t.el,c,t,e]),es())}}const JI=Symbol("_vte"),ZI=t=>t.__isTeleport;function sf(t,e){t.shapeFlag&6&&t.component?(t.transition=e,sf(t.component.subTree,e)):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}/*! #__NO_SIDE_EFFECTS__ */function vl(t,e){return xe(t)?on({name:t.name},e,{setup:t}):t}function Ev(t){t.ids=[t.ids[0]+t.ids[2]+++"-",0,0]}function Fc(t,e,n,r,i=!1){if(Oe(t)){t.forEach((x,H)=>Fc(x,e&&(Oe(e)?e[H]:e),n,r,i));return}if(wo(r)&&!i){r.shapeFlag&512&&r.type.__asyncResolved&&r.component.subTree.component&&Fc(t,e,n,r.component.subTree);return}const s=r.shapeFlag&4?vu(r.component):r.el,o=i?null:s,{i:c,r:u}=t,h=e&&e.r,p=c.refs===_t?c.refs={}:c.refs,_=c.setupState,y=st(_),T=_===_t?()=>!1:x=>lt(y,x);if(h!=null&&h!==u&&($t(h)?(p[h]=null,T(h)&&(_[h]=null)):Nt(h)&&(h.value=null)),xe(u))_l(u,c,12,[o,p]);else{const x=$t(u),H=Nt(u);if(x||H){const U=()=>{if(t.f){const X=x?T(u)?_[u]:p[u]:u.value;i?Oe(X)&&qd(X,s):Oe(X)?X.includes(s)||X.push(s):x?(p[u]=[s],T(u)&&(_[u]=p[u])):(u.value=[s],t.k&&(p[t.k]=u.value))}else x?(p[u]=o,T(u)&&(_[u]=o)):H&&(u.value=o,t.k&&(p[t.k]=o))};o?(U.id=-1,jn(U,n)):U()}}}hu().requestIdleCallback;hu().cancelIdleCallback;const wo=t=>!!t.type.__asyncLoader,Tv=t=>t.type.__isKeepAlive;function e0(t,e){wv(t,"a",e)}function t0(t,e){wv(t,"da",e)}function wv(t,e,n=hn){const r=t.__wdc||(t.__wdc=()=>{let i=n;for(;i;){if(i.isDeactivated)return;i=i.parent}return t()});if(pu(e,r,n),n){let i=n.parent;for(;i&&i.parent;)Tv(i.parent.vnode)&&n0(r,e,n,i),i=i.parent}}function n0(t,e,n,r){const i=pu(e,t,r,!0);bv(()=>{qd(r[e],i)},n)}function pu(t,e,n=hn,r=!1){if(n){const i=n[t]||(n[t]=[]),s=e.__weh||(e.__weh=(...o)=>{Zi();const c=yl(n),u=Mr(e,n,t,o);return c(),es(),u});return r?i.unshift(s):i.push(s),s}}const pi=t=>(e,n=hn)=>{(!rl||t==="sp")&&pu(t,(...r)=>e(...r),n)},r0=pi("bm"),of=pi("m"),i0=pi("bu"),s0=pi("u"),Av=pi("bum"),bv=pi("um"),o0=pi("sp"),a0=pi("rtg"),l0=pi("rtc");function c0(t,e=hn){pu("ec",t,e)}const Iv="components";function u0(t,e){return Rv(Iv,t,!0,e)||t}const Sv=Symbol.for("v-ndc");function af(t){return $t(t)?Rv(Iv,t,!1)||t:t||Sv}function Rv(t,e,n=!0,r=!1){const i=sn||hn;if(i){const s=i.type;{const c=X0(s,!1);if(c&&(c===e||c===tr(e)||c===uu(tr(e))))return s}const o=Em(i[t]||s[t],e)||Em(i.appContext[t],e);return!o&&r?s:o}}function Em(t,e){return t&&(t[e]||t[tr(e)]||t[uu(tr(e))])}function ox(t,e,n,r){let i;const s=n,o=Oe(t);if(o||$t(t)){const c=o&&Eo(t);let u=!1;c&&(u=!Zn(t),t=du(t)),i=new Array(t.length);for(let h=0,p=t.length;h<p;h++)i[h]=e(u?wn(t[h]):t[h],h,void 0,s)}else if(typeof t=="number"){i=new Array(t);for(let c=0;c<t;c++)i[c]=e(c+1,c,void 0,s)}else if(vt(t))if(t[Symbol.iterator])i=Array.from(t,(c,u)=>e(c,u,void 0,s));else{const c=Object.keys(t);i=new Array(c.length);for(let u=0,h=c.length;u<h;u++){const p=c[u];i[u]=e(t[p],p,u,s)}}else i=[];return i}function ks(t,e,n={},r,i){if(sn.ce||sn.parent&&wo(sn.parent)&&sn.parent.ce)return e!=="default"&&(n.name=e),Mn(),Uc(Kn,null,[nt("slot",n,r)],64);let s=t[e];s&&s._c&&(s._d=!1),Mn();const o=s&&Cv(s(n)),c=n.key||o&&o.key,u=Uc(Kn,{key:(c&&!pr(c)?c:`_${e}`)+(!o&&r?"_fb":"")},o||[],o&&t._===1?64:-2);return!i&&u.scopeId&&(u.slotScopeIds=[u.scopeId+"-s"]),s&&s._c&&(s._d=!0),u}function Cv(t){return t.some(e=>nl(e)?!(e.type===Ki||e.type===Kn&&!Cv(e.children)):!0)?t:null}const nd=t=>t?Gv(t)?vu(t):nd(t.parent):null,Ha=on(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>nd(t.parent),$root:t=>nd(t.root),$host:t=>t.ce,$emit:t=>t.emit,$options:t=>lf(t),$forceUpdate:t=>t.f||(t.f=()=>{rf(t.update)}),$nextTick:t=>t.n||(t.n=qn.bind(t.proxy)),$watch:t=>D0.bind(t)}),Ch=(t,e)=>t!==_t&&!t.__isScriptSetup&&lt(t,e),h0={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:n,setupState:r,data:i,props:s,accessCache:o,type:c,appContext:u}=t;let h;if(e[0]!=="$"){const T=o[e];if(T!==void 0)switch(T){case 1:return r[e];case 2:return i[e];case 4:return n[e];case 3:return s[e]}else{if(Ch(r,e))return o[e]=1,r[e];if(i!==_t&&lt(i,e))return o[e]=2,i[e];if((h=t.propsOptions[0])&&lt(h,e))return o[e]=3,s[e];if(n!==_t&&lt(n,e))return o[e]=4,n[e];rd&&(o[e]=0)}}const p=Ha[e];let _,y;if(p)return e==="$attrs"&&Tn(t.attrs,"get",""),p(t);if((_=c.__cssModules)&&(_=_[e]))return _;if(n!==_t&&lt(n,e))return o[e]=4,n[e];if(y=u.config.globalProperties,lt(y,e))return y[e]},set({_:t},e,n){const{data:r,setupState:i,ctx:s}=t;return Ch(i,e)?(i[e]=n,!0):r!==_t&&lt(r,e)?(r[e]=n,!0):lt(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(s[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:r,appContext:i,propsOptions:s}},o){let c;return!!n[o]||t!==_t&&lt(t,o)||Ch(e,o)||(c=s[0])&&lt(c,o)||lt(r,o)||lt(Ha,o)||lt(i.config.globalProperties,o)},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:lt(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}};function Tm(t){return Oe(t)?t.reduce((e,n)=>(e[n]=null,e),{}):t}let rd=!0;function d0(t){const e=lf(t),n=t.proxy,r=t.ctx;rd=!1,e.beforeCreate&&wm(e.beforeCreate,t,"bc");const{data:i,computed:s,methods:o,watch:c,provide:u,inject:h,created:p,beforeMount:_,mounted:y,beforeUpdate:T,updated:x,activated:H,deactivated:U,beforeDestroy:X,beforeUnmount:z,destroyed:ne,unmounted:ee,render:be,renderTracked:ge,renderTriggered:R,errorCaptured:w,serverPrefetch:b,expose:P,inheritAttrs:O,components:V,directives:I,filters:Ze}=e;if(h&&f0(h,r,null),o)for(const he in o){const Ve=o[he];xe(Ve)&&(r[he]=Ve.bind(n))}if(i){const he=i.call(n,n);vt(he)&&(t.data=Wi(he))}if(rd=!0,s)for(const he in s){const Ve=s[he],yt=xe(Ve)?Ve.bind(n,n):xe(Ve.get)?Ve.get.bind(n,n):Dr,Dt=!xe(Ve)&&xe(Ve.set)?Ve.set.bind(n):Dr,Ut=Ue({get:yt,set:Dt});Object.defineProperty(r,he,{enumerable:!0,configurable:!0,get:()=>Ut.value,set:it=>Ut.value=it})}if(c)for(const he in c)Pv(c[he],r,n,he);if(u){const he=xe(u)?u.call(n):u;Reflect.ownKeys(he).forEach(Ve=>{Ui(Ve,he[Ve])})}p&&wm(p,t,"c");function Me(he,Ve){Oe(Ve)?Ve.forEach(yt=>he(yt.bind(n))):Ve&&he(Ve.bind(n))}if(Me(r0,_),Me(of,y),Me(i0,T),Me(s0,x),Me(e0,H),Me(t0,U),Me(c0,w),Me(l0,ge),Me(a0,R),Me(Av,z),Me(bv,ee),Me(o0,b),Oe(P))if(P.length){const he=t.exposed||(t.exposed={});P.forEach(Ve=>{Object.defineProperty(he,Ve,{get:()=>n[Ve],set:yt=>n[Ve]=yt})})}else t.exposed||(t.exposed={});be&&t.render===Dr&&(t.render=be),O!=null&&(t.inheritAttrs=O),V&&(t.components=V),I&&(t.directives=I),b&&Ev(t)}function f0(t,e,n=Dr){Oe(t)&&(t=id(t));for(const r in t){const i=t[r];let s;vt(i)?"default"in i?s=Fn(i.from||r,i.default,!0):s=Fn(i.from||r):s=Fn(i),Nt(s)?Object.defineProperty(e,r,{enumerable:!0,configurable:!0,get:()=>s.value,set:o=>s.value=o}):e[r]=s}}function wm(t,e,n){Mr(Oe(t)?t.map(r=>r.bind(e.proxy)):t.bind(e.proxy),e,n)}function Pv(t,e,n,r){let i=r.includes(".")?jv(n,r):()=>n[r];if($t(t)){const s=e[t];xe(s)&&dr(i,s)}else if(xe(t))dr(i,t.bind(n));else if(vt(t))if(Oe(t))t.forEach(s=>Pv(s,e,n,r));else{const s=xe(t.handler)?t.handler.bind(n):e[t.handler];xe(s)&&dr(i,s,t)}}function lf(t){const e=t.type,{mixins:n,extends:r}=e,{mixins:i,optionsCache:s,config:{optionMergeStrategies:o}}=t.appContext,c=s.get(e);let u;return c?u=c:!i.length&&!n&&!r?u=e:(u={},i.length&&i.forEach(h=>$c(u,h,o,!0)),$c(u,e,o)),vt(e)&&s.set(e,u),u}function $c(t,e,n,r=!1){const{mixins:i,extends:s}=e;s&&$c(t,s,n,!0),i&&i.forEach(o=>$c(t,o,n,!0));for(const o in e)if(!(r&&o==="expose")){const c=p0[o]||n&&n[o];t[o]=c?c(t[o],e[o]):e[o]}return t}const p0={data:Am,props:bm,emits:bm,methods:Na,computed:Na,beforeCreate:Cn,created:Cn,beforeMount:Cn,mounted:Cn,beforeUpdate:Cn,updated:Cn,beforeDestroy:Cn,beforeUnmount:Cn,destroyed:Cn,unmounted:Cn,activated:Cn,deactivated:Cn,errorCaptured:Cn,serverPrefetch:Cn,components:Na,directives:Na,watch:g0,provide:Am,inject:m0};function Am(t,e){return e?t?function(){return on(xe(t)?t.call(this,this):t,xe(e)?e.call(this,this):e)}:e:t}function m0(t,e){return Na(id(t),id(e))}function id(t){if(Oe(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function Cn(t,e){return t?[...new Set([].concat(t,e))]:e}function Na(t,e){return t?on(Object.create(null),t,e):e}function bm(t,e){return t?Oe(t)&&Oe(e)?[...new Set([...t,...e])]:on(Object.create(null),Tm(t),Tm(e??{})):e}function g0(t,e){if(!t)return e;if(!e)return t;const n=on(Object.create(null),t);for(const r in e)n[r]=Cn(t[r],e[r]);return n}function Ov(){return{app:null,config:{isNativeTag:oI,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let _0=0;function v0(t,e){return function(r,i=null){xe(r)||(r=on({},r)),i!=null&&!vt(i)&&(i=null);const s=Ov(),o=new WeakSet,c=[];let u=!1;const h=s.app={_uid:_0++,_component:r,_props:i,_container:null,_context:s,_instance:null,version:Z0,get config(){return s.config},set config(p){},use(p,..._){return o.has(p)||(p&&xe(p.install)?(o.add(p),p.install(h,..._)):xe(p)&&(o.add(p),p(h,..._))),h},mixin(p){return s.mixins.includes(p)||s.mixins.push(p),h},component(p,_){return _?(s.components[p]=_,h):s.components[p]},directive(p,_){return _?(s.directives[p]=_,h):s.directives[p]},mount(p,_,y){if(!u){const T=h._ceVNode||nt(r,i);return T.appContext=s,y===!0?y="svg":y===!1&&(y=void 0),_&&e?e(T,p):t(T,p,y),u=!0,h._container=p,p.__vue_app__=h,vu(T.component)}},onUnmount(p){c.push(p)},unmount(){u&&(Mr(c,h._instance,16),t(null,h._container),delete h._container.__vue_app__)},provide(p,_){return s.provides[p]=_,h},runWithContext(p){const _=Ao;Ao=h;try{return p()}finally{Ao=_}}};return h}}let Ao=null;function Ui(t,e){if(hn){let n=hn.provides;const r=hn.parent&&hn.parent.provides;r===n&&(n=hn.provides=Object.create(r)),n[t]=e}}function Fn(t,e,n=!1){const r=hn||sn;if(r||Ao){const i=Ao?Ao._context.provides:r?r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:void 0;if(i&&t in i)return i[t];if(arguments.length>1)return n&&xe(e)?e.call(r&&r.proxy):e}}const Nv={},Dv=()=>Object.create(Nv),Vv=t=>Object.getPrototypeOf(t)===Nv;function y0(t,e,n,r=!1){const i={},s=Dv();t.propsDefaults=Object.create(null),kv(t,e,i,s);for(const o in t.propsOptions[0])o in i||(i[o]=void 0);n?t.props=r?i:hv(i):t.type.props?t.props=i:t.props=s,t.attrs=s}function E0(t,e,n,r){const{props:i,attrs:s,vnode:{patchFlag:o}}=t,c=st(i),[u]=t.propsOptions;let h=!1;if((r||o>0)&&!(o&16)){if(o&8){const p=t.vnode.dynamicProps;for(let _=0;_<p.length;_++){let y=p[_];if(mu(t.emitsOptions,y))continue;const T=e[y];if(u)if(lt(s,y))T!==s[y]&&(s[y]=T,h=!0);else{const x=tr(y);i[x]=sd(u,c,x,T,t,!1)}else T!==s[y]&&(s[y]=T,h=!0)}}}else{kv(t,e,i,s)&&(h=!0);let p;for(const _ in c)(!e||!lt(e,_)&&((p=Hs(_))===_||!lt(e,p)))&&(u?n&&(n[_]!==void 0||n[p]!==void 0)&&(i[_]=sd(u,c,_,void 0,t,!0)):delete i[_]);if(s!==c)for(const _ in s)(!e||!lt(e,_))&&(delete s[_],h=!0)}h&&ti(t.attrs,"set","")}function kv(t,e,n,r){const[i,s]=t.propsOptions;let o=!1,c;if(e)for(let u in e){if(Ua(u))continue;const h=e[u];let p;i&&lt(i,p=tr(u))?!s||!s.includes(p)?n[p]=h:(c||(c={}))[p]=h:mu(t.emitsOptions,u)||(!(u in r)||h!==r[u])&&(r[u]=h,o=!0)}if(s){const u=st(n),h=c||_t;for(let p=0;p<s.length;p++){const _=s[p];n[_]=sd(i,u,_,h[_],t,!lt(h,_))}}return o}function sd(t,e,n,r,i,s){const o=t[n];if(o!=null){const c=lt(o,"default");if(c&&r===void 0){const u=o.default;if(o.type!==Function&&!o.skipFactory&&xe(u)){const{propsDefaults:h}=i;if(n in h)r=h[n];else{const p=yl(i);r=h[n]=u.call(null,e),p()}}else r=u;i.ce&&i.ce._setProp(n,r)}o[0]&&(s&&!c?r=!1:o[1]&&(r===""||r===Hs(n))&&(r=!0))}return r}const T0=new WeakMap;function Lv(t,e,n=!1){const r=n?T0:e.propsCache,i=r.get(t);if(i)return i;const s=t.props,o={},c=[];let u=!1;if(!xe(t)){const p=_=>{u=!0;const[y,T]=Lv(_,e,!0);on(o,y),T&&c.push(...T)};!n&&e.mixins.length&&e.mixins.forEach(p),t.extends&&p(t.extends),t.mixins&&t.mixins.forEach(p)}if(!s&&!u)return vt(t)&&r.set(t,vo),vo;if(Oe(s))for(let p=0;p<s.length;p++){const _=tr(s[p]);Im(_)&&(o[_]=_t)}else if(s)for(const p in s){const _=tr(p);if(Im(_)){const y=s[p],T=o[_]=Oe(y)||xe(y)?{type:y}:on({},y),x=T.type;let H=!1,U=!0;if(Oe(x))for(let X=0;X<x.length;++X){const z=x[X],ne=xe(z)&&z.name;if(ne==="Boolean"){H=!0;break}else ne==="String"&&(U=!1)}else H=xe(x)&&x.name==="Boolean";T[0]=H,T[1]=U,(H||lt(T,"default"))&&c.push(_)}}const h=[o,c];return vt(t)&&r.set(t,h),h}function Im(t){return t[0]!=="$"&&!Ua(t)}const xv=t=>t[0]==="_"||t==="$stable",cf=t=>Oe(t)?t.map(Pr):[Pr(t)],w0=(t,e,n)=>{if(e._n)return e;const r=wt((...i)=>cf(e(...i)),n);return r._c=!1,r},Mv=(t,e,n)=>{const r=t._ctx;for(const i in t){if(xv(i))continue;const s=t[i];if(xe(s))e[i]=w0(i,s,r);else if(s!=null){const o=cf(s);e[i]=()=>o}}},Fv=(t,e)=>{const n=cf(e);t.slots.default=()=>n},$v=(t,e,n)=>{for(const r in e)(n||r!=="_")&&(t[r]=e[r])},A0=(t,e,n)=>{const r=t.slots=Dv();if(t.vnode.shapeFlag&32){const i=e._;i?($v(r,e,n),n&&K_(r,"_",i,!0)):Mv(e,r)}else e&&Fv(t,e)},b0=(t,e,n)=>{const{vnode:r,slots:i}=t;let s=!0,o=_t;if(r.shapeFlag&32){const c=e._;c?n&&c===1?s=!1:$v(i,e,n):(s=!e.$stable,Mv(e,i)),o=e}else e&&(Fv(t,e),o={default:1});if(s)for(const c in i)!xv(c)&&o[c]==null&&delete i[c]},jn=$0;function I0(t){return S0(t)}function S0(t,e){const n=hu();n.__VUE__=!0;const{insert:r,remove:i,patchProp:s,createElement:o,createText:c,createComment:u,setText:h,setElementText:p,parentNode:_,nextSibling:y,setScopeId:T=Dr,insertStaticContent:x}=t,H=(A,S,$,Q=null,L=null,Z=null,ae=void 0,ie=null,se=!!S.dynamicChildren)=>{if(A===S)return;A&&!Ra(A,S)&&(Q=B(A),it(A,L,Z,!0),A=null),S.patchFlag===-2&&(se=!1,S.dynamicChildren=null);const{type:te,ref:we,shapeFlag:ue}=S;switch(te){case gu:U(A,S,$,Q);break;case Ki:X(A,S,$,Q);break;case Ec:A==null&&z(S,$,Q,ae);break;case Kn:V(A,S,$,Q,L,Z,ae,ie,se);break;default:ue&1?be(A,S,$,Q,L,Z,ae,ie,se):ue&6?I(A,S,$,Q,L,Z,ae,ie,se):(ue&64||ue&128)&&te.process(A,S,$,Q,L,Z,ae,ie,se,de)}we!=null&&L&&Fc(we,A&&A.ref,Z,S||A,!S)},U=(A,S,$,Q)=>{if(A==null)r(S.el=c(S.children),$,Q);else{const L=S.el=A.el;S.children!==A.children&&h(L,S.children)}},X=(A,S,$,Q)=>{A==null?r(S.el=u(S.children||""),$,Q):S.el=A.el},z=(A,S,$,Q)=>{[A.el,A.anchor]=x(A.children,S,$,Q,A.el,A.anchor)},ne=({el:A,anchor:S},$,Q)=>{let L;for(;A&&A!==S;)L=y(A),r(A,$,Q),A=L;r(S,$,Q)},ee=({el:A,anchor:S})=>{let $;for(;A&&A!==S;)$=y(A),i(A),A=$;i(S)},be=(A,S,$,Q,L,Z,ae,ie,se)=>{S.type==="svg"?ae="svg":S.type==="math"&&(ae="mathml"),A==null?ge(S,$,Q,L,Z,ae,ie,se):b(A,S,L,Z,ae,ie,se)},ge=(A,S,$,Q,L,Z,ae,ie)=>{let se,te;const{props:we,shapeFlag:ue,transition:Ee,dirs:pe}=A;if(se=A.el=o(A.type,Z,we&&we.is,we),ue&8?p(se,A.children):ue&16&&w(A.children,se,null,Q,L,Ph(A,Z),ae,ie),pe&&Ss(A,null,Q,"created"),R(se,A,A.scopeId,ae,Q),we){for(const Xe in we)Xe!=="value"&&!Ua(Xe)&&s(se,Xe,null,we[Xe],Z,Q);"value"in we&&s(se,"value",null,we.value,Z),(te=we.onVnodeBeforeMount)&&Rr(te,Q,A)}pe&&Ss(A,null,Q,"beforeMount");const Ie=R0(L,Ee);Ie&&Ee.beforeEnter(se),r(se,S,$),((te=we&&we.onVnodeMounted)||Ie||pe)&&jn(()=>{te&&Rr(te,Q,A),Ie&&Ee.enter(se),pe&&Ss(A,null,Q,"mounted")},L)},R=(A,S,$,Q,L)=>{if($&&T(A,$),Q)for(let Z=0;Z<Q.length;Z++)T(A,Q[Z]);if(L){let Z=L.subTree;if(S===Z||qv(Z.type)&&(Z.ssContent===S||Z.ssFallback===S)){const ae=L.vnode;R(A,ae,ae.scopeId,ae.slotScopeIds,L.parent)}}},w=(A,S,$,Q,L,Z,ae,ie,se=0)=>{for(let te=se;te<A.length;te++){const we=A[te]=ie?Di(A[te]):Pr(A[te]);H(null,we,S,$,Q,L,Z,ae,ie)}},b=(A,S,$,Q,L,Z,ae)=>{const ie=S.el=A.el;let{patchFlag:se,dynamicChildren:te,dirs:we}=S;se|=A.patchFlag&16;const ue=A.props||_t,Ee=S.props||_t;let pe;if($&&Rs($,!1),(pe=Ee.onVnodeBeforeUpdate)&&Rr(pe,$,S,A),we&&Ss(S,A,$,"beforeUpdate"),$&&Rs($,!0),(ue.innerHTML&&Ee.innerHTML==null||ue.textContent&&Ee.textContent==null)&&p(ie,""),te?P(A.dynamicChildren,te,ie,$,Q,Ph(S,L),Z):ae||Ve(A,S,ie,null,$,Q,Ph(S,L),Z,!1),se>0){if(se&16)O(ie,ue,Ee,$,L);else if(se&2&&ue.class!==Ee.class&&s(ie,"class",null,Ee.class,L),se&4&&s(ie,"style",ue.style,Ee.style,L),se&8){const Ie=S.dynamicProps;for(let Xe=0;Xe<Ie.length;Xe++){const qe=Ie[Xe],Vt=ue[qe],k=Ee[qe];(k!==Vt||qe==="value")&&s(ie,qe,Vt,k,L,$)}}se&1&&A.children!==S.children&&p(ie,S.children)}else!ae&&te==null&&O(ie,ue,Ee,$,L);((pe=Ee.onVnodeUpdated)||we)&&jn(()=>{pe&&Rr(pe,$,S,A),we&&Ss(S,A,$,"updated")},Q)},P=(A,S,$,Q,L,Z,ae)=>{for(let ie=0;ie<S.length;ie++){const se=A[ie],te=S[ie],we=se.el&&(se.type===Kn||!Ra(se,te)||se.shapeFlag&70)?_(se.el):$;H(se,te,we,null,Q,L,Z,ae,!0)}},O=(A,S,$,Q,L)=>{if(S!==$){if(S!==_t)for(const Z in S)!Ua(Z)&&!(Z in $)&&s(A,Z,S[Z],null,L,Q);for(const Z in $){if(Ua(Z))continue;const ae=$[Z],ie=S[Z];ae!==ie&&Z!=="value"&&s(A,Z,ie,ae,L,Q)}"value"in $&&s(A,"value",S.value,$.value,L)}},V=(A,S,$,Q,L,Z,ae,ie,se)=>{const te=S.el=A?A.el:c(""),we=S.anchor=A?A.anchor:c("");let{patchFlag:ue,dynamicChildren:Ee,slotScopeIds:pe}=S;pe&&(ie=ie?ie.concat(pe):pe),A==null?(r(te,$,Q),r(we,$,Q),w(S.children||[],$,we,L,Z,ae,ie,se)):ue>0&&ue&64&&Ee&&A.dynamicChildren?(P(A.dynamicChildren,Ee,$,L,Z,ae,ie),(S.key!=null||L&&S===L.subTree)&&Uv(A,S,!0)):Ve(A,S,$,we,L,Z,ae,ie,se)},I=(A,S,$,Q,L,Z,ae,ie,se)=>{S.slotScopeIds=ie,A==null?S.shapeFlag&512?L.ctx.activate(S,$,Q,ae,se):Ze(S,$,Q,L,Z,ae,se):ut(A,S,se)},Ze=(A,S,$,Q,L,Z,ae)=>{const ie=A.component=K0(A,Q,L);if(Tv(A)&&(ie.ctx.renderer=de),z0(ie,!1,ae),ie.asyncDep){if(L&&L.registerDep(ie,Me,ae),!A.el){const se=ie.subTree=nt(Ki);X(null,se,S,$)}}else Me(ie,A,S,$,L,Z,ae)},ut=(A,S,$)=>{const Q=S.component=A.component;if(M0(A,S,$))if(Q.asyncDep&&!Q.asyncResolved){he(Q,S,$);return}else Q.next=S,Q.update();else S.el=A.el,Q.vnode=S},Me=(A,S,$,Q,L,Z,ae)=>{const ie=()=>{if(A.isMounted){let{next:ue,bu:Ee,u:pe,parent:Ie,vnode:Xe}=A;{const W=Bv(A);if(W){ue&&(ue.el=Xe.el,he(A,ue,ae)),W.asyncDep.then(()=>{A.isUnmounted||ie()});return}}let qe=ue,Vt;Rs(A,!1),ue?(ue.el=Xe.el,he(A,ue,ae)):ue=Xe,Ee&&yc(Ee),(Vt=ue.props&&ue.props.onVnodeBeforeUpdate)&&Rr(Vt,Ie,ue,Xe),Rs(A,!0);const k=Oh(A),D=A.subTree;A.subTree=k,H(D,k,_(D.el),B(D),A,L,Z),ue.el=k.el,qe===null&&F0(A,k.el),pe&&jn(pe,L),(Vt=ue.props&&ue.props.onVnodeUpdated)&&jn(()=>Rr(Vt,Ie,ue,Xe),L)}else{let ue;const{el:Ee,props:pe}=S,{bm:Ie,m:Xe,parent:qe,root:Vt,type:k}=A,D=wo(S);if(Rs(A,!1),Ie&&yc(Ie),!D&&(ue=pe&&pe.onVnodeBeforeMount)&&Rr(ue,qe,S),Rs(A,!0),Ee&&Pe){const W=()=>{A.subTree=Oh(A),Pe(Ee,A.subTree,A,L,null)};D&&k.__asyncHydrate?k.__asyncHydrate(Ee,A,W):W()}else{Vt.ce&&Vt.ce._injectChildStyle(k);const W=A.subTree=Oh(A);H(null,W,$,Q,A,L,Z),S.el=W.el}if(Xe&&jn(Xe,L),!D&&(ue=pe&&pe.onVnodeMounted)){const W=S;jn(()=>Rr(ue,qe,W),L)}(S.shapeFlag&256||qe&&wo(qe.vnode)&&qe.vnode.shapeFlag&256)&&A.a&&jn(A.a,L),A.isMounted=!0,S=$=Q=null}};A.scope.on();const se=A.effect=new X_(ie);A.scope.off();const te=A.update=se.run.bind(se),we=A.job=se.runIfDirty.bind(se);we.i=A,we.id=A.uid,se.scheduler=()=>rf(we),Rs(A,!0),te()},he=(A,S,$)=>{S.component=A;const Q=A.vnode.props;A.vnode=S,A.next=null,E0(A,S.props,Q,$),b0(A,S.children,$),Zi(),ym(A),es()},Ve=(A,S,$,Q,L,Z,ae,ie,se=!1)=>{const te=A&&A.children,we=A?A.shapeFlag:0,ue=S.children,{patchFlag:Ee,shapeFlag:pe}=S;if(Ee>0){if(Ee&128){Dt(te,ue,$,Q,L,Z,ae,ie,se);return}else if(Ee&256){yt(te,ue,$,Q,L,Z,ae,ie,se);return}}pe&8?(we&16&&fe(te,L,Z),ue!==te&&p($,ue)):we&16?pe&16?Dt(te,ue,$,Q,L,Z,ae,ie,se):fe(te,L,Z,!0):(we&8&&p($,""),pe&16&&w(ue,$,Q,L,Z,ae,ie,se))},yt=(A,S,$,Q,L,Z,ae,ie,se)=>{A=A||vo,S=S||vo;const te=A.length,we=S.length,ue=Math.min(te,we);let Ee;for(Ee=0;Ee<ue;Ee++){const pe=S[Ee]=se?Di(S[Ee]):Pr(S[Ee]);H(A[Ee],pe,$,null,L,Z,ae,ie,se)}te>we?fe(A,L,Z,!0,!1,ue):w(S,$,Q,L,Z,ae,ie,se,ue)},Dt=(A,S,$,Q,L,Z,ae,ie,se)=>{let te=0;const we=S.length;let ue=A.length-1,Ee=we-1;for(;te<=ue&&te<=Ee;){const pe=A[te],Ie=S[te]=se?Di(S[te]):Pr(S[te]);if(Ra(pe,Ie))H(pe,Ie,$,null,L,Z,ae,ie,se);else break;te++}for(;te<=ue&&te<=Ee;){const pe=A[ue],Ie=S[Ee]=se?Di(S[Ee]):Pr(S[Ee]);if(Ra(pe,Ie))H(pe,Ie,$,null,L,Z,ae,ie,se);else break;ue--,Ee--}if(te>ue){if(te<=Ee){const pe=Ee+1,Ie=pe<we?S[pe].el:Q;for(;te<=Ee;)H(null,S[te]=se?Di(S[te]):Pr(S[te]),$,Ie,L,Z,ae,ie,se),te++}}else if(te>Ee)for(;te<=ue;)it(A[te],L,Z,!0),te++;else{const pe=te,Ie=te,Xe=new Map;for(te=Ie;te<=Ee;te++){const ye=S[te]=se?Di(S[te]):Pr(S[te]);ye.key!=null&&Xe.set(ye.key,te)}let qe,Vt=0;const k=Ee-Ie+1;let D=!1,W=0;const le=new Array(k);for(te=0;te<k;te++)le[te]=0;for(te=pe;te<=ue;te++){const ye=A[te];if(Vt>=k){it(ye,L,Z,!0);continue}let ve;if(ye.key!=null)ve=Xe.get(ye.key);else for(qe=Ie;qe<=Ee;qe++)if(le[qe-Ie]===0&&Ra(ye,S[qe])){ve=qe;break}ve===void 0?it(ye,L,Z,!0):(le[ve-Ie]=te+1,ve>=W?W=ve:D=!0,H(ye,S[ve],$,null,L,Z,ae,ie,se),Vt++)}const Ae=D?C0(le):vo;for(qe=Ae.length-1,te=k-1;te>=0;te--){const ye=Ie+te,ve=S[ye],et=ye+1<we?S[ye+1].el:Q;le[te]===0?H(null,ve,$,et,L,Z,ae,ie,se):D&&(qe<0||te!==Ae[qe]?Ut(ve,$,et,2):qe--)}}},Ut=(A,S,$,Q,L=null)=>{const{el:Z,type:ae,transition:ie,children:se,shapeFlag:te}=A;if(te&6){Ut(A.component.subTree,S,$,Q);return}if(te&128){A.suspense.move(S,$,Q);return}if(te&64){ae.move(A,S,$,de);return}if(ae===Kn){r(Z,S,$);for(let ue=0;ue<se.length;ue++)Ut(se[ue],S,$,Q);r(A.anchor,S,$);return}if(ae===Ec){ne(A,S,$);return}if(Q!==2&&te&1&&ie)if(Q===0)ie.beforeEnter(Z),r(Z,S,$),jn(()=>ie.enter(Z),L);else{const{leave:ue,delayLeave:Ee,afterLeave:pe}=ie,Ie=()=>r(Z,S,$),Xe=()=>{ue(Z,()=>{Ie(),pe&&pe()})};Ee?Ee(Z,Ie,Xe):Xe()}else r(Z,S,$)},it=(A,S,$,Q=!1,L=!1)=>{const{type:Z,props:ae,ref:ie,children:se,dynamicChildren:te,shapeFlag:we,patchFlag:ue,dirs:Ee,cacheIndex:pe}=A;if(ue===-2&&(L=!1),ie!=null&&Fc(ie,null,$,A,!0),pe!=null&&(S.renderCache[pe]=void 0),we&256){S.ctx.deactivate(A);return}const Ie=we&1&&Ee,Xe=!wo(A);let qe;if(Xe&&(qe=ae&&ae.onVnodeBeforeUnmount)&&Rr(qe,S,A),we&6)Xt(A.component,$,Q);else{if(we&128){A.suspense.unmount($,Q);return}Ie&&Ss(A,null,S,"beforeUnmount"),we&64?A.type.remove(A,S,$,de,Q):te&&!te.hasOnce&&(Z!==Kn||ue>0&&ue&64)?fe(te,S,$,!1,!0):(Z===Kn&&ue&384||!L&&we&16)&&fe(se,S,$),Q&&ht(A)}(Xe&&(qe=ae&&ae.onVnodeUnmounted)||Ie)&&jn(()=>{qe&&Rr(qe,S,A),Ie&&Ss(A,null,S,"unmounted")},$)},ht=A=>{const{type:S,el:$,anchor:Q,transition:L}=A;if(S===Kn){gt($,Q);return}if(S===Ec){ee(A);return}const Z=()=>{i($),L&&!L.persisted&&L.afterLeave&&L.afterLeave()};if(A.shapeFlag&1&&L&&!L.persisted){const{leave:ae,delayLeave:ie}=L,se=()=>ae($,Z);ie?ie(A.el,Z,se):se()}else Z()},gt=(A,S)=>{let $;for(;A!==S;)$=y(A),i(A),A=$;i(S)},Xt=(A,S,$)=>{const{bum:Q,scope:L,job:Z,subTree:ae,um:ie,m:se,a:te}=A;Sm(se),Sm(te),Q&&yc(Q),L.stop(),Z&&(Z.flags|=8,it(ae,A,S,$)),ie&&jn(ie,S),jn(()=>{A.isUnmounted=!0},S),S&&S.pendingBranch&&!S.isUnmounted&&A.asyncDep&&!A.asyncResolved&&A.suspenseId===S.pendingId&&(S.deps--,S.deps===0&&S.resolve())},fe=(A,S,$,Q=!1,L=!1,Z=0)=>{for(let ae=Z;ae<A.length;ae++)it(A[ae],S,$,Q,L)},B=A=>{if(A.shapeFlag&6)return B(A.component.subTree);if(A.shapeFlag&128)return A.suspense.next();const S=y(A.anchor||A.el),$=S&&S[JI];return $?y($):S};let N=!1;const J=(A,S,$)=>{A==null?S._vnode&&it(S._vnode,null,null,!0):H(S._vnode||null,A,S,null,null,null,$),S._vnode=A,N||(N=!0,ym(),_v(),N=!1)},de={p:H,um:it,m:Ut,r:ht,mt:Ze,mc:w,pc:Ve,pbc:P,n:B,o:t};let Ne,Pe;return{render:J,hydrate:Ne,createApp:v0(J,Ne)}}function Ph({type:t,props:e},n){return n==="svg"&&t==="foreignObject"||n==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:n}function Rs({effect:t,job:e},n){n?(t.flags|=32,e.flags|=4):(t.flags&=-33,e.flags&=-5)}function R0(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function Uv(t,e,n=!1){const r=t.children,i=e.children;if(Oe(r)&&Oe(i))for(let s=0;s<r.length;s++){const o=r[s];let c=i[s];c.shapeFlag&1&&!c.dynamicChildren&&((c.patchFlag<=0||c.patchFlag===32)&&(c=i[s]=Di(i[s]),c.el=o.el),!n&&c.patchFlag!==-2&&Uv(o,c)),c.type===gu&&(c.el=o.el)}}function C0(t){const e=t.slice(),n=[0];let r,i,s,o,c;const u=t.length;for(r=0;r<u;r++){const h=t[r];if(h!==0){if(i=n[n.length-1],t[i]<h){e[r]=i,n.push(r);continue}for(s=0,o=n.length-1;s<o;)c=s+o>>1,t[n[c]]<h?s=c+1:o=c;h<t[n[s]]&&(s>0&&(e[r]=n[s-1]),n[s]=r)}}for(s=n.length,o=n[s-1];s-- >0;)n[s]=o,o=e[o];return n}function Bv(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:Bv(e)}function Sm(t){if(t)for(let e=0;e<t.length;e++)t[e].flags|=8}const P0=Symbol.for("v-scx"),O0=()=>Fn(P0);function N0(t,e){return uf(t,null,e)}function dr(t,e,n){return uf(t,e,n)}function uf(t,e,n=_t){const{immediate:r,deep:i,flush:s,once:o}=n,c=on({},n),u=e&&r||!e&&s!=="post";let h;if(rl){if(s==="sync"){const T=O0();h=T.__watcherHandles||(T.__watcherHandles=[])}else if(!u){const T=()=>{};return T.stop=Dr,T.resume=Dr,T.pause=Dr,T}}const p=hn;c.call=(T,x,H)=>Mr(T,p,x,H);let _=!1;s==="post"?c.scheduler=T=>{jn(T,p&&p.suspense)}:s!=="sync"&&(_=!0,c.scheduler=(T,x)=>{x?T():rf(T)}),c.augmentJob=T=>{e&&(T.flags|=4),_&&(T.flags|=2,p&&(T.id=p.uid,T.i=p))};const y=GI(t,e,c);return rl&&(h?h.push(y):u&&y()),y}function D0(t,e,n){const r=this.proxy,i=$t(t)?t.includes(".")?jv(r,t):()=>r[t]:t.bind(r,r);let s;xe(e)?s=e:(s=e.handler,n=e);const o=yl(this),c=uf(i,s.bind(r),n);return o(),c}function jv(t,e){const n=e.split(".");return()=>{let r=t;for(let i=0;i<n.length&&r;i++)r=r[n[i]];return r}}const V0=(t,e)=>e==="modelValue"||e==="model-value"?t.modelModifiers:t[`${e}Modifiers`]||t[`${tr(e)}Modifiers`]||t[`${Hs(e)}Modifiers`];function k0(t,e,...n){if(t.isUnmounted)return;const r=t.vnode.props||_t;let i=n;const s=e.startsWith("update:"),o=s&&V0(r,e.slice(7));o&&(o.trim&&(i=n.map(p=>$t(p)?p.trim():p)),o.number&&(i=n.map(Vc)));let c,u=r[c=Ah(e)]||r[c=Ah(tr(e))];!u&&s&&(u=r[c=Ah(Hs(e))]),u&&Mr(u,t,6,i);const h=r[c+"Once"];if(h){if(!t.emitted)t.emitted={};else if(t.emitted[c])return;t.emitted[c]=!0,Mr(h,t,6,i)}}function Hv(t,e,n=!1){const r=e.emitsCache,i=r.get(t);if(i!==void 0)return i;const s=t.emits;let o={},c=!1;if(!xe(t)){const u=h=>{const p=Hv(h,e,!0);p&&(c=!0,on(o,p))};!n&&e.mixins.length&&e.mixins.forEach(u),t.extends&&u(t.extends),t.mixins&&t.mixins.forEach(u)}return!s&&!c?(vt(t)&&r.set(t,null),null):(Oe(s)?s.forEach(u=>o[u]=null):on(o,s),vt(t)&&r.set(t,o),o)}function mu(t,e){return!t||!lu(e)?!1:(e=e.slice(2).replace(/Once$/,""),lt(t,e[0].toLowerCase()+e.slice(1))||lt(t,Hs(e))||lt(t,e))}function Oh(t){const{type:e,vnode:n,proxy:r,withProxy:i,propsOptions:[s],slots:o,attrs:c,emit:u,render:h,renderCache:p,props:_,data:y,setupState:T,ctx:x,inheritAttrs:H}=t,U=Mc(t);let X,z;try{if(n.shapeFlag&4){const ee=i||r,be=ee;X=Pr(h.call(be,ee,p,_,T,y,x)),z=c}else{const ee=e;X=Pr(ee.length>1?ee(_,{attrs:c,slots:o,emit:u}):ee(_,null)),z=e.props?c:L0(c)}}catch(ee){qa.length=0,fu(ee,t,1),X=nt(Ki)}let ne=X;if(z&&H!==!1){const ee=Object.keys(z),{shapeFlag:be}=ne;ee.length&&be&7&&(s&&ee.some(Hd)&&(z=x0(z,s)),ne=Po(ne,z,!1,!0))}return n.dirs&&(ne=Po(ne,null,!1,!0),ne.dirs=ne.dirs?ne.dirs.concat(n.dirs):n.dirs),n.transition&&sf(ne,n.transition),X=ne,Mc(U),X}const L0=t=>{let e;for(const n in t)(n==="class"||n==="style"||lu(n))&&((e||(e={}))[n]=t[n]);return e},x0=(t,e)=>{const n={};for(const r in t)(!Hd(r)||!(r.slice(9)in e))&&(n[r]=t[r]);return n};function M0(t,e,n){const{props:r,children:i,component:s}=t,{props:o,children:c,patchFlag:u}=e,h=s.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&u>=0){if(u&1024)return!0;if(u&16)return r?Rm(r,o,h):!!o;if(u&8){const p=e.dynamicProps;for(let _=0;_<p.length;_++){const y=p[_];if(o[y]!==r[y]&&!mu(h,y))return!0}}}else return(i||c)&&(!c||!c.$stable)?!0:r===o?!1:r?o?Rm(r,o,h):!0:!!o;return!1}function Rm(t,e,n){const r=Object.keys(e);if(r.length!==Object.keys(t).length)return!0;for(let i=0;i<r.length;i++){const s=r[i];if(e[s]!==t[s]&&!mu(n,s))return!0}return!1}function F0({vnode:t,parent:e},n){for(;e;){const r=e.subTree;if(r.suspense&&r.suspense.activeBranch===t&&(r.el=t.el),r===t)(t=e.vnode).el=n,e=e.parent;else break}}const qv=t=>t.__isSuspense;function $0(t,e){e&&e.pendingBranch?Oe(t)?e.effects.push(...t):e.effects.push(t):XI(t)}const Kn=Symbol.for("v-fgt"),gu=Symbol.for("v-txt"),Ki=Symbol.for("v-cmt"),Ec=Symbol.for("v-stc"),qa=[];let zn=null;function Mn(t=!1){qa.push(zn=t?null:[])}function U0(){qa.pop(),zn=qa[qa.length-1]||null}let tl=1;function Cm(t,e=!1){tl+=t,t<0&&zn&&e&&(zn.hasOnce=!0)}function Wv(t){return t.dynamicChildren=tl>0?zn||vo:null,U0(),tl>0&&zn&&zn.push(t),t}function Or(t,e,n,r,i,s){return Wv(Ce(t,e,n,r,i,s,!0))}function Uc(t,e,n,r,i){return Wv(nt(t,e,n,r,i,!0))}function nl(t){return t?t.__v_isVNode===!0:!1}function Ra(t,e){return t.type===e.type&&t.key===e.key}const Kv=({key:t})=>t??null,Tc=({ref:t,ref_key:e,ref_for:n})=>(typeof t=="number"&&(t=""+t),t!=null?$t(t)||Nt(t)||xe(t)?{i:sn,r:t,k:e,f:!!n}:t:null);function Ce(t,e=null,n=null,r=0,i=null,s=t===Kn?0:1,o=!1,c=!1){const u={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&Kv(e),ref:e&&Tc(e),scopeId:yv,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:s,patchFlag:r,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:sn};return c?(hf(u,n),s&128&&t.normalize(u)):n&&(u.shapeFlag|=$t(n)?8:16),tl>0&&!o&&zn&&(u.patchFlag>0||s&6)&&u.patchFlag!==32&&zn.push(u),u}const nt=B0;function B0(t,e=null,n=null,r=0,i=null,s=!1){if((!t||t===Sv)&&(t=Ki),nl(t)){const c=Po(t,e,!0);return n&&hf(c,n),tl>0&&!s&&zn&&(c.shapeFlag&6?zn[zn.indexOf(t)]=c:zn.push(c)),c.patchFlag=-2,c}if(J0(t)&&(t=t.__vccOpts),e){e=j0(e);let{class:c,style:u}=e;c&&!$t(c)&&(e.class=zd(c)),vt(u)&&(nf(u)&&!Oe(u)&&(u=on({},u)),e.style=Kd(u))}const o=$t(t)?1:qv(t)?128:ZI(t)?64:vt(t)?4:xe(t)?2:0;return Ce(t,e,n,r,i,o,s,!0)}function j0(t){return t?nf(t)||Vv(t)?on({},t):t:null}function Po(t,e,n=!1,r=!1){const{props:i,ref:s,patchFlag:o,children:c,transition:u}=t,h=e?H0(i||{},e):i,p={__v_isVNode:!0,__v_skip:!0,type:t.type,props:h,key:h&&Kv(h),ref:e&&e.ref?n&&s?Oe(s)?s.concat(Tc(e)):[s,Tc(e)]:Tc(e):s,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:c,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==Kn?o===-1?16:o|16:o,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:u,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&Po(t.ssContent),ssFallback:t.ssFallback&&Po(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return u&&r&&sf(p,u.clone(p)),p}function Gt(t=" ",e=0){return nt(gu,null,t,e)}function zv(t,e){const n=nt(Ec,null,t);return n.staticCount=e,n}function Nh(t="",e=!1){return e?(Mn(),Uc(Ki,null,t)):nt(Ki,null,t)}function Pr(t){return t==null||typeof t=="boolean"?nt(Ki):Oe(t)?nt(Kn,null,t.slice()):nl(t)?Di(t):nt(gu,null,String(t))}function Di(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:Po(t)}function hf(t,e){let n=0;const{shapeFlag:r}=t;if(e==null)e=null;else if(Oe(e))n=16;else if(typeof e=="object")if(r&65){const i=e.default;i&&(i._c&&(i._d=!1),hf(t,i()),i._c&&(i._d=!0));return}else{n=32;const i=e._;!i&&!Vv(e)?e._ctx=sn:i===3&&sn&&(sn.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else xe(e)?(e={default:e,_ctx:sn},n=32):(e=String(e),r&64?(n=16,e=[Gt(e)]):n=8);t.children=e,t.shapeFlag|=n}function H0(...t){const e={};for(let n=0;n<t.length;n++){const r=t[n];for(const i in r)if(i==="class")e.class!==r.class&&(e.class=zd([e.class,r.class]));else if(i==="style")e.style=Kd([e.style,r.style]);else if(lu(i)){const s=e[i],o=r[i];o&&s!==o&&!(Oe(s)&&s.includes(o))&&(e[i]=s?[].concat(s,o):o)}else i!==""&&(e[i]=r[i])}return e}function Rr(t,e,n,r=null){Mr(t,e,7,[n,r])}const q0=Ov();let W0=0;function K0(t,e,n){const r=t.type,i=(e?e.appContext:t.appContext)||q0,s={uid:W0++,vnode:t,type:r,parent:e,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new vI(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(i.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Lv(r,i),emitsOptions:Hv(r,i),emit:null,emitted:null,propsDefaults:_t,inheritAttrs:r.inheritAttrs,ctx:_t,data:_t,props:_t,attrs:_t,slots:_t,refs:_t,setupState:_t,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return s.ctx={_:s},s.root=e?e.root:s,s.emit=k0.bind(null,s),t.ce&&t.ce(s),s}let hn=null;const _u=()=>hn||sn;let Bc,od;{const t=hu(),e=(n,r)=>{let i;return(i=t[n])||(i=t[n]=[]),i.push(r),s=>{i.length>1?i.forEach(o=>o(s)):i[0](s)}};Bc=e("__VUE_INSTANCE_SETTERS__",n=>hn=n),od=e("__VUE_SSR_SETTERS__",n=>rl=n)}const yl=t=>{const e=hn;return Bc(t),t.scope.on(),()=>{t.scope.off(),Bc(e)}},Pm=()=>{hn&&hn.scope.off(),Bc(null)};function Gv(t){return t.vnode.shapeFlag&4}let rl=!1;function z0(t,e=!1,n=!1){e&&od(e);const{props:r,children:i}=t.vnode,s=Gv(t);y0(t,r,s,e),A0(t,i,n);const o=s?G0(t,e):void 0;return e&&od(!1),o}function G0(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,h0);const{setup:r}=n;if(r){Zi();const i=t.setupContext=r.length>1?Y0(t):null,s=yl(t),o=_l(r,t,0,[t.props,i]),c=H_(o);if(es(),s(),(c||t.sp)&&!wo(t)&&Ev(t),c){if(o.then(Pm,Pm),e)return o.then(u=>{Om(t,u,e)}).catch(u=>{fu(u,t,0)});t.asyncDep=o}else Om(t,o,e)}else Qv(t,e)}function Om(t,e,n){xe(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:vt(e)&&(t.setupState=pv(e)),Qv(t,n)}let Nm;function Qv(t,e,n){const r=t.type;if(!t.render){if(!e&&Nm&&!r.render){const i=r.template||lf(t).template;if(i){const{isCustomElement:s,compilerOptions:o}=t.appContext.config,{delimiters:c,compilerOptions:u}=r,h=on(on({isCustomElement:s,delimiters:c},o),u);r.render=Nm(i,h)}}t.render=r.render||Dr}{const i=yl(t);Zi();try{d0(t)}finally{es(),i()}}}const Q0={get(t,e){return Tn(t,"get",""),t[e]}};function Y0(t){const e=n=>{t.exposed=n||{}};return{attrs:new Proxy(t.attrs,Q0),slots:t.slots,emit:t.emit,expose:e}}function vu(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(pv($I(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in Ha)return Ha[n](t)},has(e,n){return n in e||n in Ha}})):t.proxy}function X0(t,e=!0){return xe(t)?t.displayName||t.name:t.name||e&&t.__name}function J0(t){return xe(t)&&"__vccOpts"in t}const Ue=(t,e)=>KI(t,e,rl);function Oo(t,e,n){const r=arguments.length;return r===2?vt(e)&&!Oe(e)?nl(e)?nt(t,null,[e]):nt(t,e):nt(t,null,e):(r>3?n=Array.prototype.slice.call(arguments,2):r===3&&nl(n)&&(n=[n]),nt(t,e,n))}const Z0="3.5.13";/**
* @vue/runtime-dom v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let ad;const Dm=typeof window<"u"&&window.trustedTypes;if(Dm)try{ad=Dm.createPolicy("vue",{createHTML:t=>t})}catch{}const Yv=ad?t=>ad.createHTML(t):t=>t,eS="http://www.w3.org/2000/svg",tS="http://www.w3.org/1998/Math/MathML",ei=typeof document<"u"?document:null,Vm=ei&&ei.createElement("template"),nS={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,r)=>{const i=e==="svg"?ei.createElementNS(eS,t):e==="mathml"?ei.createElementNS(tS,t):n?ei.createElement(t,{is:n}):ei.createElement(t);return t==="select"&&r&&r.multiple!=null&&i.setAttribute("multiple",r.multiple),i},createText:t=>ei.createTextNode(t),createComment:t=>ei.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>ei.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,r,i,s){const o=n?n.previousSibling:e.lastChild;if(i&&(i===s||i.nextSibling))for(;e.insertBefore(i.cloneNode(!0),n),!(i===s||!(i=i.nextSibling)););else{Vm.innerHTML=Yv(r==="svg"?`<svg>${t}</svg>`:r==="mathml"?`<math>${t}</math>`:t);const c=Vm.content;if(r==="svg"||r==="mathml"){const u=c.firstChild;for(;u.firstChild;)c.appendChild(u.firstChild);c.removeChild(u)}e.insertBefore(c,n)}return[o?o.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}},rS=Symbol("_vtc");function iS(t,e,n){const r=t[rS];r&&(e=(e?[e,...r]:[...r]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}const km=Symbol("_vod"),sS=Symbol("_vsh"),oS=Symbol(""),aS=/(^|;)\s*display\s*:/;function lS(t,e,n){const r=t.style,i=$t(n);let s=!1;if(n&&!i){if(e)if($t(e))for(const o of e.split(";")){const c=o.slice(0,o.indexOf(":")).trim();n[c]==null&&wc(r,c,"")}else for(const o in e)n[o]==null&&wc(r,o,"");for(const o in n)o==="display"&&(s=!0),wc(r,o,n[o])}else if(i){if(e!==n){const o=r[oS];o&&(n+=";"+o),r.cssText=n,s=aS.test(n)}}else e&&t.removeAttribute("style");km in t&&(t[km]=s?r.display:"",t[sS]&&(r.display="none"))}const Lm=/\s*!important$/;function wc(t,e,n){if(Oe(n))n.forEach(r=>wc(t,e,r));else if(n==null&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const r=cS(t,e);Lm.test(n)?t.setProperty(Hs(r),n.replace(Lm,""),"important"):t[r]=n}}const xm=["Webkit","Moz","ms"],Dh={};function cS(t,e){const n=Dh[e];if(n)return n;let r=tr(e);if(r!=="filter"&&r in t)return Dh[e]=r;r=uu(r);for(let i=0;i<xm.length;i++){const s=xm[i]+r;if(s in t)return Dh[e]=s}return e}const Mm="http://www.w3.org/1999/xlink";function Fm(t,e,n,r,i,s=gI(e)){r&&e.startsWith("xlink:")?n==null?t.removeAttributeNS(Mm,e.slice(6,e.length)):t.setAttributeNS(Mm,e,n):n==null||s&&!z_(n)?t.removeAttribute(e):t.setAttribute(e,s?"":pr(n)?String(n):n)}function $m(t,e,n,r,i){if(e==="innerHTML"||e==="textContent"){n!=null&&(t[e]=e==="innerHTML"?Yv(n):n);return}const s=t.tagName;if(e==="value"&&s!=="PROGRESS"&&!s.includes("-")){const c=s==="OPTION"?t.getAttribute("value")||"":t.value,u=n==null?t.type==="checkbox"?"on":"":String(n);(c!==u||!("_value"in t))&&(t.value=u),n==null&&t.removeAttribute(e),t._value=n;return}let o=!1;if(n===""||n==null){const c=typeof t[e];c==="boolean"?n=z_(n):n==null&&c==="string"?(n="",o=!0):c==="number"&&(n=0,o=!0)}try{t[e]=n}catch{}o&&t.removeAttribute(i||e)}function ri(t,e,n,r){t.addEventListener(e,n,r)}function uS(t,e,n,r){t.removeEventListener(e,n,r)}const Um=Symbol("_vei");function hS(t,e,n,r,i=null){const s=t[Um]||(t[Um]={}),o=s[e];if(r&&o)o.value=r;else{const[c,u]=dS(e);if(r){const h=s[e]=mS(r,i);ri(t,c,h,u)}else o&&(uS(t,c,o,u),s[e]=void 0)}}const Bm=/(?:Once|Passive|Capture)$/;function dS(t){let e;if(Bm.test(t)){e={};let r;for(;r=t.match(Bm);)t=t.slice(0,t.length-r[0].length),e[r[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):Hs(t.slice(2)),e]}let Vh=0;const fS=Promise.resolve(),pS=()=>Vh||(fS.then(()=>Vh=0),Vh=Date.now());function mS(t,e){const n=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=n.attached)return;Mr(gS(r,n.value),e,5,[r])};return n.value=t,n.attached=pS(),n}function gS(t,e){if(Oe(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(r=>i=>!i._stopped&&r&&r(i))}else return e}const jm=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,_S=(t,e,n,r,i,s)=>{const o=i==="svg";e==="class"?iS(t,r,o):e==="style"?lS(t,n,r):lu(e)?Hd(e)||hS(t,e,n,r,s):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):vS(t,e,r,o))?($m(t,e,r),!t.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&Fm(t,e,r,o,s,e!=="value")):t._isVueCE&&(/[A-Z]/.test(e)||!$t(r))?$m(t,tr(e),r,s,e):(e==="true-value"?t._trueValue=r:e==="false-value"&&(t._falseValue=r),Fm(t,e,r,o))};function vS(t,e,n,r){if(r)return!!(e==="innerHTML"||e==="textContent"||e in t&&jm(e)&&xe(n));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const i=t.tagName;if(i==="IMG"||i==="VIDEO"||i==="CANVAS"||i==="SOURCE")return!1}return jm(e)&&$t(n)?!1:e in t}const zi=t=>{const e=t.props["onUpdate:modelValue"]||!1;return Oe(e)?n=>yc(e,n):e};function yS(t){t.target.composing=!0}function Hm(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const er=Symbol("_assign"),qm={created(t,{modifiers:{lazy:e,trim:n,number:r}},i){t[er]=zi(i);const s=r||i.props&&i.props.type==="number";ri(t,e?"change":"input",o=>{if(o.target.composing)return;let c=t.value;n&&(c=c.trim()),s&&(c=Vc(c)),t[er](c)}),n&&ri(t,"change",()=>{t.value=t.value.trim()}),e||(ri(t,"compositionstart",yS),ri(t,"compositionend",Hm),ri(t,"change",Hm))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,oldValue:n,modifiers:{lazy:r,trim:i,number:s}},o){if(t[er]=zi(o),t.composing)return;const c=(s||t.type==="number")&&!/^0\d/.test(t.value)?Vc(t.value):t.value,u=e??"";c!==u&&(document.activeElement===t&&t.type!=="range"&&(r&&e===n||i&&t.value.trim()===u)||(t.value=u))}},ES={deep:!0,created(t,e,n){t[er]=zi(n),ri(t,"change",()=>{const r=t._modelValue,i=No(t),s=t.checked,o=t[er];if(Oe(r)){const c=Gd(r,i),u=c!==-1;if(s&&!u)o(r.concat(i));else if(!s&&u){const h=[...r];h.splice(c,1),o(h)}}else if(Ho(r)){const c=new Set(r);s?c.add(i):c.delete(i),o(c)}else o(Xv(t,s))})},mounted:Wm,beforeUpdate(t,e,n){t[er]=zi(n),Wm(t,e,n)}};function Wm(t,{value:e,oldValue:n},r){t._modelValue=e;let i;if(Oe(e))i=Gd(e,r.props.value)>-1;else if(Ho(e))i=e.has(r.props.value);else{if(e===n)return;i=xs(e,Xv(t,!0))}t.checked!==i&&(t.checked=i)}const TS={created(t,{value:e},n){t.checked=xs(e,n.props.value),t[er]=zi(n),ri(t,"change",()=>{t[er](No(t))})},beforeUpdate(t,{value:e,oldValue:n},r){t[er]=zi(r),e!==n&&(t.checked=xs(e,r.props.value))}},wS={deep:!0,created(t,{value:e,modifiers:{number:n}},r){const i=Ho(e);ri(t,"change",()=>{const s=Array.prototype.filter.call(t.options,o=>o.selected).map(o=>n?Vc(No(o)):No(o));t[er](t.multiple?i?new Set(s):s:s[0]),t._assigning=!0,qn(()=>{t._assigning=!1})}),t[er]=zi(r)},mounted(t,{value:e}){Km(t,e)},beforeUpdate(t,e,n){t[er]=zi(n)},updated(t,{value:e}){t._assigning||Km(t,e)}};function Km(t,e){const n=t.multiple,r=Oe(e);if(!(n&&!r&&!Ho(e))){for(let i=0,s=t.options.length;i<s;i++){const o=t.options[i],c=No(o);if(n)if(r){const u=typeof c;u==="string"||u==="number"?o.selected=e.some(h=>String(h)===String(c)):o.selected=Gd(e,c)>-1}else o.selected=e.has(c);else if(xs(No(o),e)){t.selectedIndex!==i&&(t.selectedIndex=i);return}}!n&&t.selectedIndex!==-1&&(t.selectedIndex=-1)}}function No(t){return"_value"in t?t._value:t.value}function Xv(t,e){const n=e?"_trueValue":"_falseValue";return n in t?t[n]:e}const ax={created(t,e,n){uc(t,e,n,null,"created")},mounted(t,e,n){uc(t,e,n,null,"mounted")},beforeUpdate(t,e,n,r){uc(t,e,n,r,"beforeUpdate")},updated(t,e,n,r){uc(t,e,n,r,"updated")}};function AS(t,e){switch(t){case"SELECT":return wS;case"TEXTAREA":return qm;default:switch(e){case"checkbox":return ES;case"radio":return TS;default:return qm}}}function uc(t,e,n,r,i){const o=AS(t.tagName,n.props&&n.props.type)[i];o&&o(t,e,n,r)}const bS=on({patchProp:_S},nS);let zm;function IS(){return zm||(zm=I0(bS))}const SS=(...t)=>{const e=IS().createApp(...t),{mount:n}=e;return e.mount=r=>{const i=CS(r);if(!i)return;const s=e._component;!xe(s)&&!s.render&&!s.template&&(s.template=i.innerHTML),i.nodeType===1&&(i.textContent="");const o=n(i,!1,RS(i));return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),o},e};function RS(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function CS(t){return $t(t)?document.querySelector(t):t}/*!
  * vue-router v4.4.5
  * (c) 2024 Eduardo San Martin Morote
  * @license MIT
  */const ho=typeof document<"u";function Jv(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function PS(t){return t.__esModule||t[Symbol.toStringTag]==="Module"||t.default&&Jv(t.default)}const ft=Object.assign;function kh(t,e){const n={};for(const r in e){const i=e[r];n[r]=mr(i)?i.map(t):t(i)}return n}const Wa=()=>{},mr=Array.isArray,Zv=/#/g,OS=/&/g,NS=/\//g,DS=/=/g,VS=/\?/g,ey=/\+/g,kS=/%5B/g,LS=/%5D/g,ty=/%5E/g,xS=/%60/g,ny=/%7B/g,MS=/%7C/g,ry=/%7D/g,FS=/%20/g;function df(t){return encodeURI(""+t).replace(MS,"|").replace(kS,"[").replace(LS,"]")}function $S(t){return df(t).replace(ny,"{").replace(ry,"}").replace(ty,"^")}function ld(t){return df(t).replace(ey,"%2B").replace(FS,"+").replace(Zv,"%23").replace(OS,"%26").replace(xS,"`").replace(ny,"{").replace(ry,"}").replace(ty,"^")}function US(t){return ld(t).replace(DS,"%3D")}function BS(t){return df(t).replace(Zv,"%23").replace(VS,"%3F")}function jS(t){return t==null?"":BS(t).replace(NS,"%2F")}function il(t){try{return decodeURIComponent(""+t)}catch{}return""+t}const HS=/\/$/,qS=t=>t.replace(HS,"");function Lh(t,e,n="/"){let r,i={},s="",o="";const c=e.indexOf("#");let u=e.indexOf("?");return c<u&&c>=0&&(u=-1),u>-1&&(r=e.slice(0,u),s=e.slice(u+1,c>-1?c:e.length),i=t(s)),c>-1&&(r=r||e.slice(0,c),o=e.slice(c,e.length)),r=GS(r??e,n),{fullPath:r+(s&&"?")+s+o,path:r,query:i,hash:il(o)}}function WS(t,e){const n=e.query?t(e.query):"";return e.path+(n&&"?")+n+(e.hash||"")}function Gm(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function KS(t,e,n){const r=e.matched.length-1,i=n.matched.length-1;return r>-1&&r===i&&Do(e.matched[r],n.matched[i])&&iy(e.params,n.params)&&t(e.query)===t(n.query)&&e.hash===n.hash}function Do(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function iy(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(!zS(t[n],e[n]))return!1;return!0}function zS(t,e){return mr(t)?Qm(t,e):mr(e)?Qm(e,t):t===e}function Qm(t,e){return mr(e)?t.length===e.length&&t.every((n,r)=>n===e[r]):t.length===1&&t[0]===e}function GS(t,e){if(t.startsWith("/"))return t;if(!t)return e;const n=e.split("/"),r=t.split("/"),i=r[r.length-1];(i===".."||i===".")&&r.push("");let s=n.length-1,o,c;for(o=0;o<r.length;o++)if(c=r[o],c!==".")if(c==="..")s>1&&s--;else break;return n.slice(0,s).join("/")+"/"+r.slice(o).join("/")}const Pi={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var sl;(function(t){t.pop="pop",t.push="push"})(sl||(sl={}));var Ka;(function(t){t.back="back",t.forward="forward",t.unknown=""})(Ka||(Ka={}));function QS(t){if(!t)if(ho){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),qS(t)}const YS=/^[^#]+#/;function XS(t,e){return t.replace(YS,"#")+e}function JS(t,e){const n=document.documentElement.getBoundingClientRect(),r=t.getBoundingClientRect();return{behavior:e.behavior,left:r.left-n.left-(e.left||0),top:r.top-n.top-(e.top||0)}}const yu=()=>({left:window.scrollX,top:window.scrollY});function ZS(t){let e;if("el"in t){const n=t.el,r=typeof n=="string"&&n.startsWith("#"),i=typeof n=="string"?r?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!i)return;e=JS(i,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.scrollX,e.top!=null?e.top:window.scrollY)}function Ym(t,e){return(history.state?history.state.position-e:-1)+t}const cd=new Map;function eR(t,e){cd.set(t,e)}function tR(t){const e=cd.get(t);return cd.delete(t),e}let nR=()=>location.protocol+"//"+location.host;function sy(t,e){const{pathname:n,search:r,hash:i}=e,s=t.indexOf("#");if(s>-1){let c=i.includes(t.slice(s))?t.slice(s).length:1,u=i.slice(c);return u[0]!=="/"&&(u="/"+u),Gm(u,"")}return Gm(n,t)+r+i}function rR(t,e,n,r){let i=[],s=[],o=null;const c=({state:y})=>{const T=sy(t,location),x=n.value,H=e.value;let U=0;if(y){if(n.value=T,e.value=y,o&&o===x){o=null;return}U=H?y.position-H.position:0}else r(T);i.forEach(X=>{X(n.value,x,{delta:U,type:sl.pop,direction:U?U>0?Ka.forward:Ka.back:Ka.unknown})})};function u(){o=n.value}function h(y){i.push(y);const T=()=>{const x=i.indexOf(y);x>-1&&i.splice(x,1)};return s.push(T),T}function p(){const{history:y}=window;y.state&&y.replaceState(ft({},y.state,{scroll:yu()}),"")}function _(){for(const y of s)y();s=[],window.removeEventListener("popstate",c),window.removeEventListener("beforeunload",p)}return window.addEventListener("popstate",c),window.addEventListener("beforeunload",p,{passive:!0}),{pauseListeners:u,listen:h,destroy:_}}function Xm(t,e,n,r=!1,i=!1){return{back:t,current:e,forward:n,replaced:r,position:window.history.length,scroll:i?yu():null}}function iR(t){const{history:e,location:n}=window,r={value:sy(t,n)},i={value:e.state};i.value||s(r.value,{back:null,current:r.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function s(u,h,p){const _=t.indexOf("#"),y=_>-1?(n.host&&document.querySelector("base")?t:t.slice(_))+u:nR()+t+u;try{e[p?"replaceState":"pushState"](h,"",y),i.value=h}catch(T){console.error(T),n[p?"replace":"assign"](y)}}function o(u,h){const p=ft({},e.state,Xm(i.value.back,u,i.value.forward,!0),h,{position:i.value.position});s(u,p,!0),r.value=u}function c(u,h){const p=ft({},i.value,e.state,{forward:u,scroll:yu()});s(p.current,p,!0);const _=ft({},Xm(r.value,u,null),{position:p.position+1},h);s(u,_,!1),r.value=u}return{location:r,state:i,push:c,replace:o}}function sR(t){t=QS(t);const e=iR(t),n=rR(t,e.state,e.location,e.replace);function r(s,o=!0){o||n.pauseListeners(),history.go(s)}const i=ft({location:"",base:t,go:r,createHref:XS.bind(null,t)},e,n);return Object.defineProperty(i,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(i,"state",{enumerable:!0,get:()=>e.state.value}),i}function oR(t){return typeof t=="string"||t&&typeof t=="object"}function oy(t){return typeof t=="string"||typeof t=="symbol"}const ay=Symbol("");var Jm;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(Jm||(Jm={}));function Vo(t,e){return ft(new Error,{type:t,[ay]:!0},e)}function Xr(t,e){return t instanceof Error&&ay in t&&(e==null||!!(t.type&e))}const Zm="[^/]+?",aR={sensitive:!1,strict:!1,start:!0,end:!0},lR=/[.+*?^${}()[\]/\\]/g;function cR(t,e){const n=ft({},aR,e),r=[];let i=n.start?"^":"";const s=[];for(const h of t){const p=h.length?[]:[90];n.strict&&!h.length&&(i+="/");for(let _=0;_<h.length;_++){const y=h[_];let T=40+(n.sensitive?.25:0);if(y.type===0)_||(i+="/"),i+=y.value.replace(lR,"\\$&"),T+=40;else if(y.type===1){const{value:x,repeatable:H,optional:U,regexp:X}=y;s.push({name:x,repeatable:H,optional:U});const z=X||Zm;if(z!==Zm){T+=10;try{new RegExp(`(${z})`)}catch(ee){throw new Error(`Invalid custom RegExp for param "${x}" (${z}): `+ee.message)}}let ne=H?`((?:${z})(?:/(?:${z}))*)`:`(${z})`;_||(ne=U&&h.length<2?`(?:/${ne})`:"/"+ne),U&&(ne+="?"),i+=ne,T+=20,U&&(T+=-8),H&&(T+=-20),z===".*"&&(T+=-50)}p.push(T)}r.push(p)}if(n.strict&&n.end){const h=r.length-1;r[h][r[h].length-1]+=.7000000000000001}n.strict||(i+="/?"),n.end?i+="$":n.strict&&(i+="(?:/|$)");const o=new RegExp(i,n.sensitive?"":"i");function c(h){const p=h.match(o),_={};if(!p)return null;for(let y=1;y<p.length;y++){const T=p[y]||"",x=s[y-1];_[x.name]=T&&x.repeatable?T.split("/"):T}return _}function u(h){let p="",_=!1;for(const y of t){(!_||!p.endsWith("/"))&&(p+="/"),_=!1;for(const T of y)if(T.type===0)p+=T.value;else if(T.type===1){const{value:x,repeatable:H,optional:U}=T,X=x in h?h[x]:"";if(mr(X)&&!H)throw new Error(`Provided param "${x}" is an array but it is not repeatable (* or + modifiers)`);const z=mr(X)?X.join("/"):X;if(!z)if(U)y.length<2&&(p.endsWith("/")?p=p.slice(0,-1):_=!0);else throw new Error(`Missing required param "${x}"`);p+=z}}return p||"/"}return{re:o,score:r,keys:s,parse:c,stringify:u}}function uR(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=e[n]-t[n];if(r)return r;n++}return t.length<e.length?t.length===1&&t[0]===80?-1:1:t.length>e.length?e.length===1&&e[0]===80?1:-1:0}function ly(t,e){let n=0;const r=t.score,i=e.score;for(;n<r.length&&n<i.length;){const s=uR(r[n],i[n]);if(s)return s;n++}if(Math.abs(i.length-r.length)===1){if(eg(r))return 1;if(eg(i))return-1}return i.length-r.length}function eg(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const hR={type:0,value:""},dR=/[a-zA-Z0-9_]/;function fR(t){if(!t)return[[]];if(t==="/")return[[hR]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(T){throw new Error(`ERR (${n})/"${h}": ${T}`)}let n=0,r=n;const i=[];let s;function o(){s&&i.push(s),s=[]}let c=0,u,h="",p="";function _(){h&&(n===0?s.push({type:0,value:h}):n===1||n===2||n===3?(s.length>1&&(u==="*"||u==="+")&&e(`A repeatable param (${h}) must be alone in its segment. eg: '/:ids+.`),s.push({type:1,value:h,regexp:p,repeatable:u==="*"||u==="+",optional:u==="*"||u==="?"})):e("Invalid state to consume buffer"),h="")}function y(){h+=u}for(;c<t.length;){if(u=t[c++],u==="\\"&&n!==2){r=n,n=4;continue}switch(n){case 0:u==="/"?(h&&_(),o()):u===":"?(_(),n=1):y();break;case 4:y(),n=r;break;case 1:u==="("?n=2:dR.test(u)?y():(_(),n=0,u!=="*"&&u!=="?"&&u!=="+"&&c--);break;case 2:u===")"?p[p.length-1]=="\\"?p=p.slice(0,-1)+u:n=3:p+=u;break;case 3:_(),n=0,u!=="*"&&u!=="?"&&u!=="+"&&c--,p="";break;default:e("Unknown state");break}}return n===2&&e(`Unfinished custom RegExp for param "${h}"`),_(),o(),i}function pR(t,e,n){const r=cR(fR(t.path),n),i=ft(r,{record:t,parent:e,children:[],alias:[]});return e&&!i.record.aliasOf==!e.record.aliasOf&&e.children.push(i),i}function mR(t,e){const n=[],r=new Map;e=ig({strict:!1,end:!0,sensitive:!1},e);function i(_){return r.get(_)}function s(_,y,T){const x=!T,H=ng(_);H.aliasOf=T&&T.record;const U=ig(e,_),X=[H];if("alias"in _){const ee=typeof _.alias=="string"?[_.alias]:_.alias;for(const be of ee)X.push(ng(ft({},H,{components:T?T.record.components:H.components,path:be,aliasOf:T?T.record:H})))}let z,ne;for(const ee of X){const{path:be}=ee;if(y&&be[0]!=="/"){const ge=y.record.path,R=ge[ge.length-1]==="/"?"":"/";ee.path=y.record.path+(be&&R+be)}if(z=pR(ee,y,U),T?T.alias.push(z):(ne=ne||z,ne!==z&&ne.alias.push(z),x&&_.name&&!rg(z)&&o(_.name)),cy(z)&&u(z),H.children){const ge=H.children;for(let R=0;R<ge.length;R++)s(ge[R],z,T&&T.children[R])}T=T||z}return ne?()=>{o(ne)}:Wa}function o(_){if(oy(_)){const y=r.get(_);y&&(r.delete(_),n.splice(n.indexOf(y),1),y.children.forEach(o),y.alias.forEach(o))}else{const y=n.indexOf(_);y>-1&&(n.splice(y,1),_.record.name&&r.delete(_.record.name),_.children.forEach(o),_.alias.forEach(o))}}function c(){return n}function u(_){const y=vR(_,n);n.splice(y,0,_),_.record.name&&!rg(_)&&r.set(_.record.name,_)}function h(_,y){let T,x={},H,U;if("name"in _&&_.name){if(T=r.get(_.name),!T)throw Vo(1,{location:_});U=T.record.name,x=ft(tg(y.params,T.keys.filter(ne=>!ne.optional).concat(T.parent?T.parent.keys.filter(ne=>ne.optional):[]).map(ne=>ne.name)),_.params&&tg(_.params,T.keys.map(ne=>ne.name))),H=T.stringify(x)}else if(_.path!=null)H=_.path,T=n.find(ne=>ne.re.test(H)),T&&(x=T.parse(H),U=T.record.name);else{if(T=y.name?r.get(y.name):n.find(ne=>ne.re.test(y.path)),!T)throw Vo(1,{location:_,currentLocation:y});U=T.record.name,x=ft({},y.params,_.params),H=T.stringify(x)}const X=[];let z=T;for(;z;)X.unshift(z.record),z=z.parent;return{name:U,path:H,params:x,matched:X,meta:_R(X)}}t.forEach(_=>s(_));function p(){n.length=0,r.clear()}return{addRoute:s,resolve:h,removeRoute:o,clearRoutes:p,getRoutes:c,getRecordMatcher:i}}function tg(t,e){const n={};for(const r of e)r in t&&(n[r]=t[r]);return n}function ng(t){const e={path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:t.aliasOf,beforeEnter:t.beforeEnter,props:gR(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}};return Object.defineProperty(e,"mods",{value:{}}),e}function gR(t){const e={},n=t.props||!1;if("component"in t)e.default=n;else for(const r in t.components)e[r]=typeof n=="object"?n[r]:n;return e}function rg(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function _R(t){return t.reduce((e,n)=>ft(e,n.meta),{})}function ig(t,e){const n={};for(const r in t)n[r]=r in e?e[r]:t[r];return n}function vR(t,e){let n=0,r=e.length;for(;n!==r;){const s=n+r>>1;ly(t,e[s])<0?r=s:n=s+1}const i=yR(t);return i&&(r=e.lastIndexOf(i,r-1)),r}function yR(t){let e=t;for(;e=e.parent;)if(cy(e)&&ly(t,e)===0)return e}function cy({record:t}){return!!(t.name||t.components&&Object.keys(t.components).length||t.redirect)}function ER(t){const e={};if(t===""||t==="?")return e;const r=(t[0]==="?"?t.slice(1):t).split("&");for(let i=0;i<r.length;++i){const s=r[i].replace(ey," "),o=s.indexOf("="),c=il(o<0?s:s.slice(0,o)),u=o<0?null:il(s.slice(o+1));if(c in e){let h=e[c];mr(h)||(h=e[c]=[h]),h.push(u)}else e[c]=u}return e}function sg(t){let e="";for(let n in t){const r=t[n];if(n=US(n),r==null){r!==void 0&&(e+=(e.length?"&":"")+n);continue}(mr(r)?r.map(s=>s&&ld(s)):[r&&ld(r)]).forEach(s=>{s!==void 0&&(e+=(e.length?"&":"")+n,s!=null&&(e+="="+s))})}return e}function TR(t){const e={};for(const n in t){const r=t[n];r!==void 0&&(e[n]=mr(r)?r.map(i=>i==null?null:""+i):r==null?r:""+r)}return e}const wR=Symbol(""),og=Symbol(""),Eu=Symbol(""),ff=Symbol(""),ud=Symbol("");function Ca(){let t=[];function e(r){return t.push(r),()=>{const i=t.indexOf(r);i>-1&&t.splice(i,1)}}function n(){t=[]}return{add:e,list:()=>t.slice(),reset:n}}function Vi(t,e,n,r,i,s=o=>o()){const o=r&&(r.enterCallbacks[i]=r.enterCallbacks[i]||[]);return()=>new Promise((c,u)=>{const h=y=>{y===!1?u(Vo(4,{from:n,to:e})):y instanceof Error?u(y):oR(y)?u(Vo(2,{from:e,to:y})):(o&&r.enterCallbacks[i]===o&&typeof y=="function"&&o.push(y),c())},p=s(()=>t.call(r&&r.instances[i],e,n,h));let _=Promise.resolve(p);t.length<3&&(_=_.then(h)),_.catch(y=>u(y))})}function xh(t,e,n,r,i=s=>s()){const s=[];for(const o of t)for(const c in o.components){let u=o.components[c];if(!(e!=="beforeRouteEnter"&&!o.instances[c]))if(Jv(u)){const p=(u.__vccOpts||u)[e];p&&s.push(Vi(p,n,r,o,c,i))}else{let h=u();s.push(()=>h.then(p=>{if(!p)throw new Error(`Couldn't resolve component "${c}" at "${o.path}"`);const _=PS(p)?p.default:p;o.mods[c]=p,o.components[c]=_;const T=(_.__vccOpts||_)[e];return T&&Vi(T,n,r,o,c,i)()}))}}return s}function ag(t){const e=Fn(Eu),n=Fn(ff),r=Ue(()=>{const u=Ye(t.to);return e.resolve(u)}),i=Ue(()=>{const{matched:u}=r.value,{length:h}=u,p=u[h-1],_=n.matched;if(!p||!_.length)return-1;const y=_.findIndex(Do.bind(null,p));if(y>-1)return y;const T=lg(u[h-2]);return h>1&&lg(p)===T&&_[_.length-1].path!==T?_.findIndex(Do.bind(null,u[h-2])):y}),s=Ue(()=>i.value>-1&&SR(n.params,r.value.params)),o=Ue(()=>i.value>-1&&i.value===n.matched.length-1&&iy(n.params,r.value.params));function c(u={}){return IR(u)?e[Ye(t.replace)?"replace":"push"](Ye(t.to)).catch(Wa):Promise.resolve()}return{route:r,href:Ue(()=>r.value.href),isActive:s,isExactActive:o,navigate:c}}const AR=vl({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:ag,setup(t,{slots:e}){const n=Wi(ag(t)),{options:r}=Fn(Eu),i=Ue(()=>({[cg(t.activeClass,r.linkActiveClass,"router-link-active")]:n.isActive,[cg(t.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const s=e.default&&e.default(n);return t.custom?s:Oo("a",{"aria-current":n.isExactActive?t.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:i.value},s)}}}),bR=AR;function IR(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function SR(t,e){for(const n in e){const r=e[n],i=t[n];if(typeof r=="string"){if(r!==i)return!1}else if(!mr(i)||i.length!==r.length||r.some((s,o)=>s!==i[o]))return!1}return!0}function lg(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const cg=(t,e,n)=>t??e??n,RR=vl({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:n}){const r=Fn(ud),i=Ue(()=>t.route||r.value),s=Fn(og,0),o=Ue(()=>{let h=Ye(s);const{matched:p}=i.value;let _;for(;(_=p[h])&&!_.components;)h++;return h}),c=Ue(()=>i.value.matched[o.value]);Ui(og,Ue(()=>o.value+1)),Ui(wR,c),Ui(ud,i);const u=Pn();return dr(()=>[u.value,c.value,t.name],([h,p,_],[y,T,x])=>{p&&(p.instances[_]=h,T&&T!==p&&h&&h===y&&(p.leaveGuards.size||(p.leaveGuards=T.leaveGuards),p.updateGuards.size||(p.updateGuards=T.updateGuards))),h&&p&&(!T||!Do(p,T)||!y)&&(p.enterCallbacks[_]||[]).forEach(H=>H(h))},{flush:"post"}),()=>{const h=i.value,p=t.name,_=c.value,y=_&&_.components[p];if(!y)return ug(n.default,{Component:y,route:h});const T=_.props[p],x=T?T===!0?h.params:typeof T=="function"?T(h):T:null,U=Oo(y,ft({},x,e,{onVnodeUnmounted:X=>{X.component.isUnmounted&&(_.instances[p]=null)},ref:u}));return ug(n.default,{Component:U,route:h})||U}}});function ug(t,e){if(!t)return null;const n=t(e);return n.length===1?n[0]:n}const uy=RR;function CR(t){const e=mR(t.routes,t),n=t.parseQuery||ER,r=t.stringifyQuery||sg,i=t.history,s=Ca(),o=Ca(),c=Ca(),u=dv(Pi);let h=Pi;ho&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const p=kh.bind(null,B=>""+B),_=kh.bind(null,jS),y=kh.bind(null,il);function T(B,N){let J,de;return oy(B)?(J=e.getRecordMatcher(B),de=N):de=B,e.addRoute(de,J)}function x(B){const N=e.getRecordMatcher(B);N&&e.removeRoute(N)}function H(){return e.getRoutes().map(B=>B.record)}function U(B){return!!e.getRecordMatcher(B)}function X(B,N){if(N=ft({},N||u.value),typeof B=="string"){const S=Lh(n,B,N.path),$=e.resolve({path:S.path},N),Q=i.createHref(S.fullPath);return ft(S,$,{params:y($.params),hash:il(S.hash),redirectedFrom:void 0,href:Q})}let J;if(B.path!=null)J=ft({},B,{path:Lh(n,B.path,N.path).path});else{const S=ft({},B.params);for(const $ in S)S[$]==null&&delete S[$];J=ft({},B,{params:_(S)}),N.params=_(N.params)}const de=e.resolve(J,N),Ne=B.hash||"";de.params=p(y(de.params));const Pe=WS(r,ft({},B,{hash:$S(Ne),path:de.path})),A=i.createHref(Pe);return ft({fullPath:Pe,hash:Ne,query:r===sg?TR(B.query):B.query||{}},de,{redirectedFrom:void 0,href:A})}function z(B){return typeof B=="string"?Lh(n,B,u.value.path):ft({},B)}function ne(B,N){if(h!==B)return Vo(8,{from:N,to:B})}function ee(B){return R(B)}function be(B){return ee(ft(z(B),{replace:!0}))}function ge(B){const N=B.matched[B.matched.length-1];if(N&&N.redirect){const{redirect:J}=N;let de=typeof J=="function"?J(B):J;return typeof de=="string"&&(de=de.includes("?")||de.includes("#")?de=z(de):{path:de},de.params={}),ft({query:B.query,hash:B.hash,params:de.path!=null?{}:B.params},de)}}function R(B,N){const J=h=X(B),de=u.value,Ne=B.state,Pe=B.force,A=B.replace===!0,S=ge(J);if(S)return R(ft(z(S),{state:typeof S=="object"?ft({},Ne,S.state):Ne,force:Pe,replace:A}),N||J);const $=J;$.redirectedFrom=N;let Q;return!Pe&&KS(r,de,J)&&(Q=Vo(16,{to:$,from:de}),Ut(de,de,!0,!1)),(Q?Promise.resolve(Q):P($,de)).catch(L=>Xr(L)?Xr(L,2)?L:Dt(L):Ve(L,$,de)).then(L=>{if(L){if(Xr(L,2))return R(ft({replace:A},z(L.to),{state:typeof L.to=="object"?ft({},Ne,L.to.state):Ne,force:Pe}),N||$)}else L=V($,de,!0,A,Ne);return O($,de,L),L})}function w(B,N){const J=ne(B,N);return J?Promise.reject(J):Promise.resolve()}function b(B){const N=gt.values().next().value;return N&&typeof N.runWithContext=="function"?N.runWithContext(B):B()}function P(B,N){let J;const[de,Ne,Pe]=PR(B,N);J=xh(de.reverse(),"beforeRouteLeave",B,N);for(const S of de)S.leaveGuards.forEach($=>{J.push(Vi($,B,N))});const A=w.bind(null,B,N);return J.push(A),fe(J).then(()=>{J=[];for(const S of s.list())J.push(Vi(S,B,N));return J.push(A),fe(J)}).then(()=>{J=xh(Ne,"beforeRouteUpdate",B,N);for(const S of Ne)S.updateGuards.forEach($=>{J.push(Vi($,B,N))});return J.push(A),fe(J)}).then(()=>{J=[];for(const S of Pe)if(S.beforeEnter)if(mr(S.beforeEnter))for(const $ of S.beforeEnter)J.push(Vi($,B,N));else J.push(Vi(S.beforeEnter,B,N));return J.push(A),fe(J)}).then(()=>(B.matched.forEach(S=>S.enterCallbacks={}),J=xh(Pe,"beforeRouteEnter",B,N,b),J.push(A),fe(J))).then(()=>{J=[];for(const S of o.list())J.push(Vi(S,B,N));return J.push(A),fe(J)}).catch(S=>Xr(S,8)?S:Promise.reject(S))}function O(B,N,J){c.list().forEach(de=>b(()=>de(B,N,J)))}function V(B,N,J,de,Ne){const Pe=ne(B,N);if(Pe)return Pe;const A=N===Pi,S=ho?history.state:{};J&&(de||A?i.replace(B.fullPath,ft({scroll:A&&S&&S.scroll},Ne)):i.push(B.fullPath,Ne)),u.value=B,Ut(B,N,J,A),Dt()}let I;function Ze(){I||(I=i.listen((B,N,J)=>{if(!Xt.listening)return;const de=X(B),Ne=ge(de);if(Ne){R(ft(Ne,{replace:!0}),de).catch(Wa);return}h=de;const Pe=u.value;ho&&eR(Ym(Pe.fullPath,J.delta),yu()),P(de,Pe).catch(A=>Xr(A,12)?A:Xr(A,2)?(R(A.to,de).then(S=>{Xr(S,20)&&!J.delta&&J.type===sl.pop&&i.go(-1,!1)}).catch(Wa),Promise.reject()):(J.delta&&i.go(-J.delta,!1),Ve(A,de,Pe))).then(A=>{A=A||V(de,Pe,!1),A&&(J.delta&&!Xr(A,8)?i.go(-J.delta,!1):J.type===sl.pop&&Xr(A,20)&&i.go(-1,!1)),O(de,Pe,A)}).catch(Wa)}))}let ut=Ca(),Me=Ca(),he;function Ve(B,N,J){Dt(B);const de=Me.list();return de.length?de.forEach(Ne=>Ne(B,N,J)):console.error(B),Promise.reject(B)}function yt(){return he&&u.value!==Pi?Promise.resolve():new Promise((B,N)=>{ut.add([B,N])})}function Dt(B){return he||(he=!B,Ze(),ut.list().forEach(([N,J])=>B?J(B):N()),ut.reset()),B}function Ut(B,N,J,de){const{scrollBehavior:Ne}=t;if(!ho||!Ne)return Promise.resolve();const Pe=!J&&tR(Ym(B.fullPath,0))||(de||!J)&&history.state&&history.state.scroll||null;return qn().then(()=>Ne(B,N,Pe)).then(A=>A&&ZS(A)).catch(A=>Ve(A,B,N))}const it=B=>i.go(B);let ht;const gt=new Set,Xt={currentRoute:u,listening:!0,addRoute:T,removeRoute:x,clearRoutes:e.clearRoutes,hasRoute:U,getRoutes:H,resolve:X,options:t,push:ee,replace:be,go:it,back:()=>it(-1),forward:()=>it(1),beforeEach:s.add,beforeResolve:o.add,afterEach:c.add,onError:Me.add,isReady:yt,install(B){const N=this;B.component("RouterLink",bR),B.component("RouterView",uy),B.config.globalProperties.$router=N,Object.defineProperty(B.config.globalProperties,"$route",{enumerable:!0,get:()=>Ye(u)}),ho&&!ht&&u.value===Pi&&(ht=!0,ee(i.location).catch(Ne=>{}));const J={};for(const Ne in Pi)Object.defineProperty(J,Ne,{get:()=>u.value[Ne],enumerable:!0});B.provide(Eu,N),B.provide(ff,hv(J)),B.provide(ud,u);const de=B.unmount;gt.add(B),B.unmount=function(){gt.delete(B),gt.size<1&&(h=Pi,I&&I(),I=null,u.value=Pi,ht=!1,he=!1),de()}}};function fe(B){return B.reduce((N,J)=>N.then(()=>b(J)),Promise.resolve())}return Xt}function PR(t,e){const n=[],r=[],i=[],s=Math.max(e.matched.length,t.matched.length);for(let o=0;o<s;o++){const c=e.matched[o];c&&(t.matched.find(h=>Do(h,c))?r.push(c):n.push(c));const u=t.matched[o];u&&(e.matched.find(h=>Do(h,u))||i.push(u))}return[n,r,i]}function OR(){return Fn(Eu)}function lx(t){return Fn(ff)}const hy="/assets/Icon-cwJ4n-A3.png";var hg={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dy=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},NR=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],c=t[n++],u=((i&7)<<18|(s&63)<<12|(o&63)<<6|c&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},fy={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,c=o?t[i+1]:0,u=i+2<t.length,h=u?t[i+2]:0,p=s>>2,_=(s&3)<<4|c>>4;let y=(c&15)<<2|h>>6,T=h&63;u||(T=64,o||(y=64)),r.push(n[p],n[_],n[y],n[T])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(dy(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):NR(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],c=i<t.length?n[t.charAt(i)]:0;++i;const h=i<t.length?n[t.charAt(i)]:64;++i;const _=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||c==null||h==null||_==null)throw new DR;const y=s<<2|c>>4;if(r.push(y),h!==64){const T=c<<4&240|h>>2;if(r.push(T),_!==64){const x=h<<6&192|_;r.push(x)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class DR extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const VR=function(t){const e=dy(t);return fy.encodeByteArray(e,!0)},jc=function(t){return VR(t).replace(/\./g,"")},py=function(t){try{return fy.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LR=()=>kR().__FIREBASE_DEFAULTS__,xR=()=>{if(typeof process>"u"||typeof hg>"u")return;const t=hg.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},MR=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&py(t[1]);return e&&JSON.parse(e)},Tu=()=>{try{return LR()||xR()||MR()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},my=t=>{var e,n;return(n=(e=Tu())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},FR=t=>{const e=my(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},gy=()=>{var t;return(t=Tu())===null||t===void 0?void 0:t.config},_y=t=>{var e;return(e=Tu())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $R{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UR(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[jc(JSON.stringify(n)),jc(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function BR(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(bn())}function jR(){var t;const e=(t=Tu())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function HR(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function qR(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function WR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function KR(){const t=bn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function zR(){return!jR()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function GR(){try{return typeof indexedDB=="object"}catch{return!1}}function QR(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YR="FirebaseError";class mi extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=YR,Object.setPrototypeOf(this,mi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,El.prototype.create)}}class El{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?XR(s,r):"Error",c=`${this.serviceName}: ${o} (${i}).`;return new mi(i,c,r)}}function XR(t,e){return t.replace(JR,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const JR=/\{\$([^}]+)}/g;function ZR(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function ol(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(dg(s)&&dg(o)){if(!ol(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function dg(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tl(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Da(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Va(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function eC(t,e){const n=new tC(t,e);return n.subscribe.bind(n)}class tC{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");nC(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Mh),i.error===void 0&&(i.error=Mh),i.complete===void 0&&(i.complete=Mh);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function nC(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Mh(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function an(t){return t&&t._delegate?t._delegate:t}class Fs{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ps="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rC{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new $R;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(sC(e))try{this.getOrInitializeService({instanceIdentifier:Ps})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Ps){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ps){return this.instances.has(e)}getOptions(e=Ps){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(s);r===c&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:iC(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ps){return this.component?this.component.multipleInstances?e:Ps:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function iC(t){return t===Ps?void 0:t}function sC(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oC{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new rC(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ze;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ze||(ze={}));const aC={debug:ze.DEBUG,verbose:ze.VERBOSE,info:ze.INFO,warn:ze.WARN,error:ze.ERROR,silent:ze.SILENT},lC=ze.INFO,cC={[ze.DEBUG]:"log",[ze.VERBOSE]:"log",[ze.INFO]:"info",[ze.WARN]:"warn",[ze.ERROR]:"error"},uC=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=cC[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class pf{constructor(e){this.name=e,this._logLevel=lC,this._logHandler=uC,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ze))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?aC[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ze.DEBUG,...e),this._logHandler(this,ze.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ze.VERBOSE,...e),this._logHandler(this,ze.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ze.INFO,...e),this._logHandler(this,ze.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ze.WARN,...e),this._logHandler(this,ze.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ze.ERROR,...e),this._logHandler(this,ze.ERROR,...e)}}const hC=(t,e)=>e.some(n=>t instanceof n);let fg,pg;function dC(){return fg||(fg=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function fC(){return pg||(pg=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const vy=new WeakMap,hd=new WeakMap,yy=new WeakMap,Fh=new WeakMap,mf=new WeakMap;function pC(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Bi(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&vy.set(n,t)}).catch(()=>{}),mf.set(e,t),e}function mC(t){if(hd.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});hd.set(t,e)}let dd={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return hd.get(t);if(e==="objectStoreNames")return t.objectStoreNames||yy.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Bi(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function gC(t){dd=t(dd)}function _C(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call($h(this),e,...n);return yy.set(r,e.sort?e.sort():[e]),Bi(r)}:fC().includes(t)?function(...e){return t.apply($h(this),e),Bi(vy.get(this))}:function(...e){return Bi(t.apply($h(this),e))}}function vC(t){return typeof t=="function"?_C(t):(t instanceof IDBTransaction&&mC(t),hC(t,dC())?new Proxy(t,dd):t)}function Bi(t){if(t instanceof IDBRequest)return pC(t);if(Fh.has(t))return Fh.get(t);const e=vC(t);return e!==t&&(Fh.set(t,e),mf.set(e,t)),e}const $h=t=>mf.get(t);function yC(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),c=Bi(o);return r&&o.addEventListener("upgradeneeded",u=>{r(Bi(o.result),u.oldVersion,u.newVersion,Bi(o.transaction),u)}),n&&o.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),c.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",h=>i(h.oldVersion,h.newVersion,h))}).catch(()=>{}),c}const EC=["get","getKey","getAll","getAllKeys","count"],TC=["put","add","delete","clear"],Uh=new Map;function mg(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Uh.get(e))return Uh.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=TC.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||EC.includes(n)))return;const s=async function(o,...c){const u=this.transaction(o,i?"readwrite":"readonly");let h=u.store;return r&&(h=h.index(c.shift())),(await Promise.all([h[n](...c),i&&u.done]))[0]};return Uh.set(e,s),s}gC(t=>({...t,get:(e,n,r)=>mg(e,n)||t.get(e,n,r),has:(e,n)=>!!mg(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wC{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(AC(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function AC(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const fd="@firebase/app",gg="0.10.16";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ci=new pf("@firebase/app"),bC="@firebase/app-compat",IC="@firebase/analytics-compat",SC="@firebase/analytics",RC="@firebase/app-check-compat",CC="@firebase/app-check",PC="@firebase/auth",OC="@firebase/auth-compat",NC="@firebase/database",DC="@firebase/data-connect",VC="@firebase/database-compat",kC="@firebase/functions",LC="@firebase/functions-compat",xC="@firebase/installations",MC="@firebase/installations-compat",FC="@firebase/messaging",$C="@firebase/messaging-compat",UC="@firebase/performance",BC="@firebase/performance-compat",jC="@firebase/remote-config",HC="@firebase/remote-config-compat",qC="@firebase/storage",WC="@firebase/storage-compat",KC="@firebase/firestore",zC="@firebase/vertexai",GC="@firebase/firestore-compat",QC="firebase",YC="11.0.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pd="[DEFAULT]",XC={[fd]:"fire-core",[bC]:"fire-core-compat",[SC]:"fire-analytics",[IC]:"fire-analytics-compat",[CC]:"fire-app-check",[RC]:"fire-app-check-compat",[PC]:"fire-auth",[OC]:"fire-auth-compat",[NC]:"fire-rtdb",[DC]:"fire-data-connect",[VC]:"fire-rtdb-compat",[kC]:"fire-fn",[LC]:"fire-fn-compat",[xC]:"fire-iid",[MC]:"fire-iid-compat",[FC]:"fire-fcm",[$C]:"fire-fcm-compat",[UC]:"fire-perf",[BC]:"fire-perf-compat",[jC]:"fire-rc",[HC]:"fire-rc-compat",[qC]:"fire-gcs",[WC]:"fire-gcs-compat",[KC]:"fire-fst",[GC]:"fire-fst-compat",[zC]:"fire-vertex","fire-js":"fire-js",[QC]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hc=new Map,JC=new Map,md=new Map;function _g(t,e){try{t.container.addComponent(e)}catch(n){ci.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function ko(t){const e=t.name;if(md.has(e))return ci.debug(`There were multiple attempts to register component ${e}.`),!1;md.set(e,t);for(const n of Hc.values())_g(n,t);for(const n of JC.values())_g(n,t);return!0}function gf(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Nr(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZC={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ji=new El("app","Firebase",ZC);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eP{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Fs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ji.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qo=YC;function Ey(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:pd,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw ji.create("bad-app-name",{appName:String(i)});if(n||(n=gy()),!n)throw ji.create("no-options");const s=Hc.get(i);if(s){if(ol(n,s.options)&&ol(r,s.config))return s;throw ji.create("duplicate-app",{appName:i})}const o=new oC(i);for(const u of md.values())o.addComponent(u);const c=new eP(n,r,o);return Hc.set(i,c),c}function Ty(t=pd){const e=Hc.get(t);if(!e&&t===pd&&gy())return Ey();if(!e)throw ji.create("no-app",{appName:t});return e}function Hi(t,e,n){var r;let i=(r=XC[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const c=[`Unable to register library "${i}" with version "${e}":`];s&&c.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&c.push("and"),o&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ci.warn(c.join(" "));return}ko(new Fs(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tP="firebase-heartbeat-database",nP=1,al="firebase-heartbeat-store";let Bh=null;function wy(){return Bh||(Bh=yC(tP,nP,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(al)}catch(n){console.warn(n)}}}}).catch(t=>{throw ji.create("idb-open",{originalErrorMessage:t.message})})),Bh}async function rP(t){try{const n=(await wy()).transaction(al),r=await n.objectStore(al).get(Ay(t));return await n.done,r}catch(e){if(e instanceof mi)ci.warn(e.message);else{const n=ji.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ci.warn(n.message)}}}async function vg(t,e){try{const r=(await wy()).transaction(al,"readwrite");await r.objectStore(al).put(e,Ay(t)),await r.done}catch(n){if(n instanceof mi)ci.warn(n.message);else{const r=ji.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});ci.warn(r.message)}}}function Ay(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iP=1024,sP=30*24*60*60*1e3;class oP{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new lP(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=yg();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const c=new Date(o.date).valueOf();return Date.now()-c<=sP}),this._storage.overwrite(this._heartbeatsCache))}catch(r){ci.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=yg(),{heartbeatsToSend:r,unsentEntries:i}=aP(this._heartbeatsCache.heartbeats),s=jc(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return ci.warn(n),""}}}function yg(){return new Date().toISOString().substring(0,10)}function aP(t,e=iP){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),Eg(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Eg(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class lP{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return GR()?QR().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await rP(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return vg(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return vg(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function Eg(t){return jc(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cP(t){ko(new Fs("platform-logger",e=>new wC(e),"PRIVATE")),ko(new Fs("heartbeat",e=>new oP(e),"PRIVATE")),Hi(fd,gg,t),Hi(fd,gg,"esm2017"),Hi("fire-js","")}cP("");function _f(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function by(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const uP=by,Iy=new El("auth","Firebase",by());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qc=new pf("@firebase/auth");function hP(t,...e){qc.logLevel<=ze.WARN&&qc.warn(`Auth (${qo}): ${t}`,...e)}function Ac(t,...e){qc.logLevel<=ze.ERROR&&qc.error(`Auth (${qo}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gr(t,...e){throw vf(t,...e)}function Vr(t,...e){return vf(t,...e)}function Sy(t,e,n){const r=Object.assign(Object.assign({},uP()),{[e]:n});return new El("auth","Firebase",r).create(e,{appName:t.name})}function ai(t){return Sy(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function vf(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return Iy.create(t,...e)}function De(t,e,...n){if(!t)throw vf(e,...n)}function ii(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Ac(e),new Error(e)}function ui(t,e){t||ii(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gd(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function dP(){return Tg()==="http:"||Tg()==="https:"}function Tg(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fP(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(dP()||qR()||"connection"in navigator)?navigator.onLine:!0}function pP(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wl{constructor(e,n){this.shortDelay=e,this.longDelay=n,ui(n>e,"Short delay should be less than long delay!"),this.isMobile=BR()||WR()}get(){return fP()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yf(t,e){ui(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ry{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ii("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ii("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ii("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mP={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gP=new wl(3e4,6e4);function ts(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function ns(t,e,n,r,i={}){return Cy(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const c=Tl(Object.assign({key:t.config.apiKey},o)).slice(1),u=await t._getAdditionalHeaders();u["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode);const h=Object.assign({method:e,headers:u},s);return HR()||(h.referrerPolicy="no-referrer"),Ry.fetch()(Py(t,t.config.apiHost,n,c),h)})}async function Cy(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},mP),e);try{const i=new vP(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw hc(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const c=s.ok?o.errorMessage:o.error.message,[u,h]=c.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw hc(t,"credential-already-in-use",o);if(u==="EMAIL_EXISTS")throw hc(t,"email-already-in-use",o);if(u==="USER_DISABLED")throw hc(t,"user-disabled",o);const p=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(h)throw Sy(t,p,h);gr(t,p)}}catch(i){if(i instanceof mi)throw i;gr(t,"network-request-failed",{message:String(i)})}}async function Al(t,e,n,r,i={}){const s=await ns(t,e,n,r,i);return"mfaPendingCredential"in s&&gr(t,"multi-factor-auth-required",{_serverResponse:s}),s}function Py(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?yf(t.config,i):`${t.config.apiScheme}://${i}`}function _P(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class vP{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Vr(this.auth,"network-request-failed")),gP.get())})}}function hc(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Vr(t,e,r);return i.customData._tokenResponse=n,i}function wg(t){return t!==void 0&&t.enterprise!==void 0}class yP{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return _P(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function EP(t,e){return ns(t,"GET","/v2/recaptchaConfig",ts(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TP(t,e){return ns(t,"POST","/v1/accounts:delete",e)}async function Oy(t,e){return ns(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function za(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function wP(t,e=!1){const n=an(t),r=await n.getIdToken(e),i=Ef(r);De(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:za(jh(i.auth_time)),issuedAtTime:za(jh(i.iat)),expirationTime:za(jh(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function jh(t){return Number(t)*1e3}function Ef(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Ac("JWT malformed, contained fewer than 3 sections"),null;try{const i=py(n);return i?JSON.parse(i):(Ac("Failed to decode base64 JWT payload"),null)}catch(i){return Ac("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function Ag(t){const e=Ef(t);return De(e,"internal-error"),De(typeof e.exp<"u","internal-error"),De(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ll(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof mi&&AP(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function AP({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bP{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _d{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=za(this.lastLoginAt),this.creationTime=za(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wc(t){var e;const n=t.auth,r=await t.getIdToken(),i=await ll(t,Oy(n,{idToken:r}));De(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?Ny(s.providerUserInfo):[],c=SP(t.providerData,o),u=t.isAnonymous,h=!(t.email&&s.passwordHash)&&!(c!=null&&c.length),p=u?h:!1,_={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:c,metadata:new _d(s.createdAt,s.lastLoginAt),isAnonymous:p};Object.assign(t,_)}async function IP(t){const e=an(t);await Wc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function SP(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function Ny(t){return t.map(e=>{var{providerId:n}=e,r=_f(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RP(t,e){const n=await Cy(t,{},async()=>{const r=Tl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=Py(t,i,"/v1/token",`key=${s}`),c=await t._getAdditionalHeaders();return c["Content-Type"]="application/x-www-form-urlencoded",Ry.fetch()(o,{method:"POST",headers:c,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function CP(t,e){return ns(t,"POST","/v2/accounts:revokeToken",ts(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){De(e.idToken,"internal-error"),De(typeof e.idToken<"u","internal-error"),De(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Ag(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){De(e.length!==0,"internal-error");const n=Ag(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(De(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await RP(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new bo;return r&&(De(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(De(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(De(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new bo,this.toJSON())}_performRefresh(){return ii("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oi(t,e){De(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class si{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=_f(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new bP(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new _d(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await ll(this,this.stsTokenManager.getToken(this.auth,e));return De(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return wP(this,e)}reload(){return IP(this)}_assign(e){this!==e&&(De(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new si(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){De(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Wc(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Nr(this.auth.app))return Promise.reject(ai(this.auth));const e=await this.getIdToken();return await ll(this,TP(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,c,u,h,p;const _=(r=n.displayName)!==null&&r!==void 0?r:void 0,y=(i=n.email)!==null&&i!==void 0?i:void 0,T=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,x=(o=n.photoURL)!==null&&o!==void 0?o:void 0,H=(c=n.tenantId)!==null&&c!==void 0?c:void 0,U=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,X=(h=n.createdAt)!==null&&h!==void 0?h:void 0,z=(p=n.lastLoginAt)!==null&&p!==void 0?p:void 0,{uid:ne,emailVerified:ee,isAnonymous:be,providerData:ge,stsTokenManager:R}=n;De(ne&&R,e,"internal-error");const w=bo.fromJSON(this.name,R);De(typeof ne=="string",e,"internal-error"),Oi(_,e.name),Oi(y,e.name),De(typeof ee=="boolean",e,"internal-error"),De(typeof be=="boolean",e,"internal-error"),Oi(T,e.name),Oi(x,e.name),Oi(H,e.name),Oi(U,e.name),Oi(X,e.name),Oi(z,e.name);const b=new si({uid:ne,auth:e,email:y,emailVerified:ee,displayName:_,isAnonymous:be,photoURL:x,phoneNumber:T,tenantId:H,stsTokenManager:w,createdAt:X,lastLoginAt:z});return ge&&Array.isArray(ge)&&(b.providerData=ge.map(P=>Object.assign({},P))),U&&(b._redirectEventId=U),b}static async _fromIdTokenResponse(e,n,r=!1){const i=new bo;i.updateFromServerResponse(n);const s=new si({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Wc(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];De(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?Ny(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),c=new bo;c.updateFromIdToken(r);const u=new si({uid:i.localId,auth:e,stsTokenManager:c,isAnonymous:o}),h={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new _d(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(u,h),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bg=new Map;function oi(t){ui(t instanceof Function,"Expected a class definition");let e=bg.get(t);return e?(ui(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,bg.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dy{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}Dy.type="NONE";const Ig=Dy;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bc(t,e,n){return`firebase:${t}:${e}:${n}`}class Io{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=bc(this.userKey,i.apiKey,s),this.fullPersistenceKey=bc("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?si._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Io(oi(Ig),e,r);const i=(await Promise.all(n.map(async h=>{if(await h._isAvailable())return h}))).filter(h=>h);let s=i[0]||oi(Ig);const o=bc(r,e.config.apiKey,e.name);let c=null;for(const h of n)try{const p=await h._get(o);if(p){const _=si._fromJSON(e,p);h!==s&&(c=_),s=h;break}}catch{}const u=i.filter(h=>h._shouldAllowMigration);return!s._shouldAllowMigration||!u.length?new Io(s,e,r):(s=u[0],c&&await s._set(o,c.toJSON()),await Promise.all(n.map(async h=>{if(h!==s)try{await h._remove(o)}catch{}})),new Io(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sg(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(xy(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Vy(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Fy(e))return"Blackberry";if($y(e))return"Webos";if(ky(e))return"Safari";if((e.includes("chrome/")||Ly(e))&&!e.includes("edge/"))return"Chrome";if(My(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function Vy(t=bn()){return/firefox\//i.test(t)}function ky(t=bn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Ly(t=bn()){return/crios\//i.test(t)}function xy(t=bn()){return/iemobile/i.test(t)}function My(t=bn()){return/android/i.test(t)}function Fy(t=bn()){return/blackberry/i.test(t)}function $y(t=bn()){return/webos/i.test(t)}function Tf(t=bn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function PP(t=bn()){var e;return Tf(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function OP(){return KR()&&document.documentMode===10}function Uy(t=bn()){return Tf(t)||My(t)||$y(t)||Fy(t)||/windows phone/i.test(t)||xy(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function By(t,e=[]){let n;switch(t){case"Browser":n=Sg(bn());break;case"Worker":n=`${Sg(bn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${qo}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NP{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,c)=>{try{const u=e(s);o(u)}catch(u){c(u)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DP(t,e={}){return ns(t,"GET","/v2/passwordPolicy",ts(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VP=6;class kP{constructor(e){var n,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:VP,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,c;const u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(n=u.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(s=u.containsUppercaseLetter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(o=u.containsNumericCharacter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(c=u.containsNonAlphanumericCharacter)!==null&&c!==void 0?c:!0),u}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LP{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Rg(this),this.idTokenSubscription=new Rg(this),this.beforeStateQueue=new NP(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Iy,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=oi(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await Io.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Oy(this,{idToken:e}),r=await si._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Nr(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(c,c))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,c=i==null?void 0:i._redirectEventId,u=await this.tryRedirectSignIn(e);(!o||o===c)&&(u!=null&&u.user)&&(i=u.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return De(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Wc(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=pP()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Nr(this.app))return Promise.reject(ai(this));const n=e?an(e):null;return n&&De(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&De(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Nr(this.app)?Promise.reject(ai(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Nr(this.app)?Promise.reject(ai(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(oi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await DP(this),n=new kP(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new El("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await CP(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&oi(e)||this._popupRedirectResolver;De(n,this,"argument-error"),this.redirectPersistenceManager=await Io.create(this,[oi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const c=this._isInitialized?Promise.resolve():this._initializationPromise;if(De(c,this,"internal-error"),c.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const u=e.addObserver(n,r,i);return()=>{o=!0,u()}}else{const u=e.addObserver(n);return()=>{o=!0,u()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return De(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=By(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&hP(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function qs(t){return an(t)}class Rg{constructor(e){this.auth=e,this.observer=null,this.addObserver=eC(n=>this.observer=n)}get next(){return De(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wu={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function xP(t){wu=t}function jy(t){return wu.loadJS(t)}function MP(){return wu.recaptchaEnterpriseScript}function FP(){return wu.gapiScript}function $P(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class UP{constructor(){this.enterprise=new BP}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class BP{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const jP="recaptcha-enterprise",Hy="NO_RECAPTCHA";class HP{constructor(e){this.type=jP,this.auth=qs(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,c)=>{EP(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)c(new Error("recaptcha Enterprise site key undefined"));else{const h=new yP(u);return s.tenantId==null?s._agentRecaptchaConfig=h:s._tenantRecaptchaConfigs[s.tenantId]=h,o(h.siteKey)}}).catch(u=>{c(u)})})}function i(s,o,c){const u=window.grecaptcha;wg(u)?u.enterprise.ready(()=>{u.enterprise.execute(s,{action:e}).then(h=>{o(h)}).catch(()=>{o(Hy)})}):c(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new UP().execute("siteKey",{action:"verify"}):new Promise((s,o)=>{r(this.auth).then(c=>{if(!n&&wg(window.grecaptcha))i(c,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let u=MP();u.length!==0&&(u+=c),jy(u).then(()=>{i(c,s,o)}).catch(h=>{o(h)})}}).catch(c=>{o(c)})})}}async function Cg(t,e,n,r=!1,i=!1){const s=new HP(t);let o;if(i)o=Hy;else try{o=await s.verify(n)}catch{o=await s.verify(n,!0)}const c=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in c){const u=c.phoneEnrollmentInfo.phoneNumber,h=c.phoneEnrollmentInfo.recaptchaToken;Object.assign(c,{phoneEnrollmentInfo:{phoneNumber:u,recaptchaToken:h,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in c){const u=c.phoneSignInInfo.recaptchaToken;Object.assign(c,{phoneSignInInfo:{recaptchaToken:u,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return c}return r?Object.assign(c,{captchaResp:o}):Object.assign(c,{captchaResponse:o}),Object.assign(c,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(c,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),c}async function vd(t,e,n,r,i){var s;if(!((s=t._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await Cg(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=await Cg(t,e,n,n==="getOobCode");return r(t,c)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qP(t,e){const n=gf(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(ol(s,e??{}))return i;gr(i,"already-initialized")}return n.initialize({options:e})}function WP(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(oi);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function KP(t,e,n){const r=qs(t);De(r._canInitEmulator,r,"emulator-config-failed"),De(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=qy(e),{host:o,port:c}=zP(e),u=c===null?"":`:${c}`;r.config.emulator={url:`${s}//${o}${u}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:c,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),GP()}function qy(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function zP(t){const e=qy(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:Pg(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:Pg(o)}}}function Pg(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function GP(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wf{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ii("not implemented")}_getIdTokenResponse(e){return ii("not implemented")}_linkToIdToken(e,n){return ii("not implemented")}_getReauthenticationResolver(e){return ii("not implemented")}}async function QP(t,e){return ns(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YP(t,e){return Al(t,"POST","/v1/accounts:signInWithPassword",ts(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XP(t,e){return Al(t,"POST","/v1/accounts:signInWithEmailLink",ts(t,e))}async function JP(t,e){return Al(t,"POST","/v1/accounts:signInWithEmailLink",ts(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cl extends wf{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new cl(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new cl(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return vd(e,n,"signInWithPassword",YP);case"emailLink":return XP(e,{email:this._email,oobCode:this._password});default:gr(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return vd(e,r,"signUpPassword",QP);case"emailLink":return JP(e,{idToken:n,email:this._email,oobCode:this._password});default:gr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function So(t,e){return Al(t,"POST","/v1/accounts:signInWithIdp",ts(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZP="http://localhost";class $s extends wf{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new $s(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):gr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=_f(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new $s(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return So(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,So(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,So(e,n)}buildRequest(){const e={requestUri:ZP,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Tl(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eO(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function tO(t){const e=Da(Va(t)).link,n=e?Da(Va(e)).deep_link_id:null,r=Da(Va(t)).deep_link_id;return(r?Da(Va(r)).link:null)||r||n||e||t}class Af{constructor(e){var n,r,i,s,o,c;const u=Da(Va(e)),h=(n=u.apiKey)!==null&&n!==void 0?n:null,p=(r=u.oobCode)!==null&&r!==void 0?r:null,_=eO((i=u.mode)!==null&&i!==void 0?i:null);De(h&&p&&_,"argument-error"),this.apiKey=h,this.operation=_,this.code=p,this.continueUrl=(s=u.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=u.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(c=u.tenantId)!==null&&c!==void 0?c:null}static parseLink(e){const n=tO(e);try{return new Af(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wo{constructor(){this.providerId=Wo.PROVIDER_ID}static credential(e,n){return cl._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Af.parseLink(n);return De(r,"argument-error"),cl._fromEmailAndCode(e,r.code,r.tenantId)}}Wo.PROVIDER_ID="password";Wo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Wo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wy{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bl extends Wy{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ki extends bl{constructor(){super("facebook.com")}static credential(e){return $s._fromParams({providerId:ki.PROVIDER_ID,signInMethod:ki.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ki.credentialFromTaggedObject(e)}static credentialFromError(e){return ki.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ki.credential(e.oauthAccessToken)}catch{return null}}}ki.FACEBOOK_SIGN_IN_METHOD="facebook.com";ki.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Li extends bl{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return $s._fromParams({providerId:Li.PROVIDER_ID,signInMethod:Li.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Li.credentialFromTaggedObject(e)}static credentialFromError(e){return Li.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Li.credential(n,r)}catch{return null}}}Li.GOOGLE_SIGN_IN_METHOD="google.com";Li.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xi extends bl{constructor(){super("github.com")}static credential(e){return $s._fromParams({providerId:xi.PROVIDER_ID,signInMethod:xi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return xi.credentialFromTaggedObject(e)}static credentialFromError(e){return xi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return xi.credential(e.oauthAccessToken)}catch{return null}}}xi.GITHUB_SIGN_IN_METHOD="github.com";xi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mi extends bl{constructor(){super("twitter.com")}static credential(e,n){return $s._fromParams({providerId:Mi.PROVIDER_ID,signInMethod:Mi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Mi.credentialFromTaggedObject(e)}static credentialFromError(e){return Mi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Mi.credential(n,r)}catch{return null}}}Mi.TWITTER_SIGN_IN_METHOD="twitter.com";Mi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nO(t,e){return Al(t,"POST","/v1/accounts:signUp",ts(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Us{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await si._fromIdTokenResponse(e,r,i),o=Og(r);return new Us({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=Og(r);return new Us({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function Og(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kc extends mi{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Kc.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Kc(e,n,r,i)}}function Ky(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Kc._fromErrorAndOperation(t,s,e,r):s})}async function rO(t,e,n=!1){const r=await ll(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Us._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iO(t,e,n=!1){const{auth:r}=t;if(Nr(r.app))return Promise.reject(ai(r));const i="reauthenticate";try{const s=await ll(t,Ky(r,i,e,t),n);De(s.idToken,r,"internal-error");const o=Ef(s.idToken);De(o,r,"internal-error");const{sub:c}=o;return De(t.uid===c,r,"user-mismatch"),Us._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&gr(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zy(t,e,n=!1){if(Nr(t.app))return Promise.reject(ai(t));const r="signIn",i=await Ky(t,r,e),s=await Us._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function sO(t,e){return zy(qs(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gy(t){const e=qs(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function cx(t,e,n){if(Nr(t.app))return Promise.reject(ai(t));const r=qs(t),o=await vd(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",nO).catch(u=>{throw u.code==="auth/password-does-not-meet-requirements"&&Gy(t),u}),c=await Us._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(c.user),c}function ux(t,e,n){return Nr(t.app)?Promise.reject(ai(t)):sO(an(t),Wo.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&Gy(t),r})}function oO(t,e,n,r){return an(t).onIdTokenChanged(e,n,r)}function aO(t,e,n){return an(t).beforeAuthStateChanged(e,n)}function Qy(t,e,n,r){return an(t).onAuthStateChanged(e,n,r)}function lO(t){return an(t).signOut()}const zc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yy{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(zc,"1"),this.storage.removeItem(zc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cO=1e3,uO=10;class Xy extends Yy{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Uy(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,c,u)=>{this.notifyListeners(o,u)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);OP()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,uO):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},cO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}Xy.type="LOCAL";const hO=Xy;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jy extends Yy{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}Jy.type="SESSION";const Zy=Jy;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dO(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Au{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Au(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const c=Array.from(o).map(async h=>h(n.origin,s)),u=await dO(c);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:u})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Au.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bf(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fO{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((c,u)=>{const h=bf("",20);i.port1.start();const p=setTimeout(()=>{u(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(_){const y=_;if(y.data.eventId===h)switch(y.data.status){case"ack":clearTimeout(p),s=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),c(y.data.response);break;default:clearTimeout(p),clearTimeout(s),u(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:h,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kr(){return window}function pO(t){kr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eE(){return typeof kr().WorkerGlobalScope<"u"&&typeof kr().importScripts=="function"}async function mO(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function gO(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function _O(){return eE()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tE="firebaseLocalStorageDb",vO=1,Gc="firebaseLocalStorage",nE="fbase_key";class Il{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function bu(t,e){return t.transaction([Gc],e?"readwrite":"readonly").objectStore(Gc)}function yO(){const t=indexedDB.deleteDatabase(tE);return new Il(t).toPromise()}function yd(){const t=indexedDB.open(tE,vO);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Gc,{keyPath:nE})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Gc)?e(r):(r.close(),await yO(),e(await yd()))})})}async function Ng(t,e,n){const r=bu(t,!0).put({[nE]:e,value:n});return new Il(r).toPromise()}async function EO(t,e){const n=bu(t,!1).get(e),r=await new Il(n).toPromise();return r===void 0?null:r.value}function Dg(t,e){const n=bu(t,!0).delete(e);return new Il(n).toPromise()}const TO=800,wO=3;class rE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await yd(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>wO)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return eE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Au._getInstance(_O()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await mO(),!this.activeServiceWorker)return;this.sender=new fO(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||gO()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await yd();return await Ng(e,zc,"1"),await Dg(e,zc),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>Ng(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>EO(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Dg(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=bu(i,!1).getAll();return new Il(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),TO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}rE.type="LOCAL";const AO=rE;new wl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bO(t,e){return e?oi(e):(De(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class If extends wf{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return So(e,this._buildIdpRequest())}_linkToIdToken(e,n){return So(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return So(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function IO(t){return zy(t.auth,new If(t),t.bypassAuthState)}function SO(t){const{auth:e,user:n}=t;return De(n,e,"internal-error"),iO(n,new If(t),t.bypassAuthState)}async function RO(t){const{auth:e,user:n}=t;return De(n,e,"internal-error"),rO(n,new If(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iE{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:c}=e;if(o){this.reject(o);return}const u={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(c)(u))}catch(h){this.reject(h)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return IO;case"linkViaPopup":case"linkViaRedirect":return RO;case"reauthViaPopup":case"reauthViaRedirect":return SO;default:gr(this.auth,"internal-error")}}resolve(e){ui(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ui(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CO=new wl(2e3,1e4);class _o extends iE{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,_o.currentPopupAction&&_o.currentPopupAction.cancel(),_o.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return De(e,this.auth,"internal-error"),e}async onExecution(){ui(this.filter.length===1,"Popup operations only handle one event");const e=bf();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Vr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Vr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,_o.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Vr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,CO.get())};e()}}_o.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PO="pendingRedirect",Ic=new Map;class OO extends iE{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Ic.get(this.auth._key());if(!e){try{const r=await NO(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Ic.set(this.auth._key(),e)}return this.bypassAuthState||Ic.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function NO(t,e){const n=kO(e),r=VO(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function DO(t,e){Ic.set(t._key(),e)}function VO(t){return oi(t._redirectPersistence)}function kO(t){return bc(PO,t.config.apiKey,t.name)}async function LO(t,e,n=!1){if(Nr(t.app))return Promise.reject(ai(t));const r=qs(t),i=bO(r,e),o=await new OO(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xO=10*60*1e3;class MO{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!FO(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!sE(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Vr(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=xO&&this.cachedEventUids.clear(),this.cachedEventUids.has(Vg(e))}saveEventToCache(e){this.cachedEventUids.add(Vg(e)),this.lastProcessedEventTime=Date.now()}}function Vg(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function sE({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function FO(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return sE(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $O(t,e={}){return ns(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UO=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,BO=/^https?/;async function jO(t){if(t.config.emulator)return;const{authorizedDomains:e}=await $O(t);for(const n of e)try{if(HO(n))return}catch{}gr(t,"unauthorized-domain")}function HO(t){const e=gd(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!BO.test(n))return!1;if(UO.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qO=new wl(3e4,6e4);function kg(){const t=kr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function WO(t){return new Promise((e,n)=>{var r,i,s;function o(){kg(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{kg(),n(Vr(t,"network-request-failed"))},timeout:qO.get()})}if(!((i=(r=kr().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=kr().gapi)===null||s===void 0)&&s.load)o();else{const c=$P("iframefcb");return kr()[c]=()=>{gapi.load?o():n(Vr(t,"network-request-failed"))},jy(`${FP()}?onload=${c}`).catch(u=>n(u))}}).catch(e=>{throw Sc=null,e})}let Sc=null;function KO(t){return Sc=Sc||WO(t),Sc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zO=new wl(5e3,15e3),GO="__/auth/iframe",QO="emulator/auth/iframe",YO={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},XO=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function JO(t){const e=t.config;De(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?yf(e,QO):`https://${t.config.authDomain}/${GO}`,r={apiKey:e.apiKey,appName:t.name,v:qo},i=XO.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Tl(r).slice(1)}`}async function ZO(t){const e=await KO(t),n=kr().gapi;return De(n,t,"internal-error"),e.open({where:document.body,url:JO(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:YO,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=Vr(t,"network-request-failed"),c=kr().setTimeout(()=>{s(o)},zO.get());function u(){kr().clearTimeout(c),i(r)}r.ping(u).then(u,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eN={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},tN=500,nN=600,rN="_blank",iN="http://localhost";class Lg{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function sN(t,e,n,r=tN,i=nN){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let c="";const u=Object.assign(Object.assign({},eN),{width:r.toString(),height:i.toString(),top:s,left:o}),h=bn().toLowerCase();n&&(c=Ly(h)?rN:n),Vy(h)&&(e=e||iN,u.scrollbars="yes");const p=Object.entries(u).reduce((y,[T,x])=>`${y}${T}=${x},`,"");if(PP(h)&&c!=="_self")return oN(e||"",c),new Lg(null);const _=window.open(e||"",c,p);De(_,t,"popup-blocked");try{_.focus()}catch{}return new Lg(_)}function oN(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aN="__/auth/handler",lN="emulator/auth/handler",cN=encodeURIComponent("fac");async function xg(t,e,n,r,i,s){De(t.config.authDomain,t,"auth-domain-config-required"),De(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:qo,eventId:i};if(e instanceof Wy){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",ZR(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[p,_]of Object.entries({}))o[p]=_}if(e instanceof bl){const p=e.getScopes().filter(_=>_!=="");p.length>0&&(o.scopes=p.join(","))}t.tenantId&&(o.tid=t.tenantId);const c=o;for(const p of Object.keys(c))c[p]===void 0&&delete c[p];const u=await t._getAppCheckToken(),h=u?`#${cN}=${encodeURIComponent(u)}`:"";return`${uN(t)}?${Tl(c).slice(1)}${h}`}function uN({config:t}){return t.emulator?yf(t,lN):`https://${t.authDomain}/${aN}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hh="webStorageSupport";class hN{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Zy,this._completeRedirectFn=LO,this._overrideRedirectResult=DO}async _openPopup(e,n,r,i){var s;ui((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await xg(e,n,r,gd(),i);return sN(e,o,bf())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await xg(e,n,r,gd(),i);return pO(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(ui(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await ZO(e),r=new MO(e);return n.register("authEvent",i=>(De(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Hh,{type:Hh},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[Hh];o!==void 0&&n(!!o),gr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=jO(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return Uy()||ky()||Tf()}}const dN=hN;var Mg="@firebase/auth",Fg="1.8.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fN{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){De(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pN(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function mN(t){ko(new Fs("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:c}=r.options;De(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const u={apiKey:o,authDomain:c,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:By(t)},h=new LP(r,i,s,u);return WP(h,n),h},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),ko(new Fs("auth-internal",e=>{const n=qs(e.getProvider("auth").getImmediate());return(r=>new fN(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Hi(Mg,Fg,pN(t)),Hi(Mg,Fg,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gN=5*60,_N=_y("authIdTokenMaxAge")||gN;let $g=null;const vN=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>_N)return;const i=n==null?void 0:n.token;$g!==i&&($g=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function yN(t=Ty()){const e=gf(t,"auth");if(e.isInitialized())return e.getImmediate();const n=qP(t,{popupRedirectResolver:dN,persistence:[AO,hO,Zy]}),r=_y("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const o=vN(s.toString());aO(n,o,()=>o(n.currentUser)),oO(n,c=>o(c))}}const i=my("auth");return i&&KP(n,`http://${i}`),n}function EN(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}xP({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=Vr("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",EN().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});mN("Browser");var TN="firebase",wN="11.0.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Hi(TN,wN,"app");var Ug=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ls,oE;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(R,w){function b(){}b.prototype=w.prototype,R.D=w.prototype,R.prototype=new b,R.prototype.constructor=R,R.C=function(P,O,V){for(var I=Array(arguments.length-2),Ze=2;Ze<arguments.length;Ze++)I[Ze-2]=arguments[Ze];return w.prototype[O].apply(P,I)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(R,w,b){b||(b=0);var P=Array(16);if(typeof w=="string")for(var O=0;16>O;++O)P[O]=w.charCodeAt(b++)|w.charCodeAt(b++)<<8|w.charCodeAt(b++)<<16|w.charCodeAt(b++)<<24;else for(O=0;16>O;++O)P[O]=w[b++]|w[b++]<<8|w[b++]<<16|w[b++]<<24;w=R.g[0],b=R.g[1],O=R.g[2];var V=R.g[3],I=w+(V^b&(O^V))+P[0]+3614090360&4294967295;w=b+(I<<7&4294967295|I>>>25),I=V+(O^w&(b^O))+P[1]+3905402710&4294967295,V=w+(I<<12&4294967295|I>>>20),I=O+(b^V&(w^b))+P[2]+606105819&4294967295,O=V+(I<<17&4294967295|I>>>15),I=b+(w^O&(V^w))+P[3]+3250441966&4294967295,b=O+(I<<22&4294967295|I>>>10),I=w+(V^b&(O^V))+P[4]+4118548399&4294967295,w=b+(I<<7&4294967295|I>>>25),I=V+(O^w&(b^O))+P[5]+1200080426&4294967295,V=w+(I<<12&4294967295|I>>>20),I=O+(b^V&(w^b))+P[6]+2821735955&4294967295,O=V+(I<<17&4294967295|I>>>15),I=b+(w^O&(V^w))+P[7]+4249261313&4294967295,b=O+(I<<22&4294967295|I>>>10),I=w+(V^b&(O^V))+P[8]+1770035416&4294967295,w=b+(I<<7&4294967295|I>>>25),I=V+(O^w&(b^O))+P[9]+2336552879&4294967295,V=w+(I<<12&4294967295|I>>>20),I=O+(b^V&(w^b))+P[10]+4294925233&4294967295,O=V+(I<<17&4294967295|I>>>15),I=b+(w^O&(V^w))+P[11]+2304563134&4294967295,b=O+(I<<22&4294967295|I>>>10),I=w+(V^b&(O^V))+P[12]+1804603682&4294967295,w=b+(I<<7&4294967295|I>>>25),I=V+(O^w&(b^O))+P[13]+4254626195&4294967295,V=w+(I<<12&4294967295|I>>>20),I=O+(b^V&(w^b))+P[14]+2792965006&4294967295,O=V+(I<<17&4294967295|I>>>15),I=b+(w^O&(V^w))+P[15]+1236535329&4294967295,b=O+(I<<22&4294967295|I>>>10),I=w+(O^V&(b^O))+P[1]+4129170786&4294967295,w=b+(I<<5&4294967295|I>>>27),I=V+(b^O&(w^b))+P[6]+3225465664&4294967295,V=w+(I<<9&4294967295|I>>>23),I=O+(w^b&(V^w))+P[11]+643717713&4294967295,O=V+(I<<14&4294967295|I>>>18),I=b+(V^w&(O^V))+P[0]+3921069994&4294967295,b=O+(I<<20&4294967295|I>>>12),I=w+(O^V&(b^O))+P[5]+3593408605&4294967295,w=b+(I<<5&4294967295|I>>>27),I=V+(b^O&(w^b))+P[10]+38016083&4294967295,V=w+(I<<9&4294967295|I>>>23),I=O+(w^b&(V^w))+P[15]+3634488961&4294967295,O=V+(I<<14&4294967295|I>>>18),I=b+(V^w&(O^V))+P[4]+3889429448&4294967295,b=O+(I<<20&4294967295|I>>>12),I=w+(O^V&(b^O))+P[9]+568446438&4294967295,w=b+(I<<5&4294967295|I>>>27),I=V+(b^O&(w^b))+P[14]+3275163606&4294967295,V=w+(I<<9&4294967295|I>>>23),I=O+(w^b&(V^w))+P[3]+4107603335&4294967295,O=V+(I<<14&4294967295|I>>>18),I=b+(V^w&(O^V))+P[8]+1163531501&4294967295,b=O+(I<<20&4294967295|I>>>12),I=w+(O^V&(b^O))+P[13]+2850285829&4294967295,w=b+(I<<5&4294967295|I>>>27),I=V+(b^O&(w^b))+P[2]+4243563512&4294967295,V=w+(I<<9&4294967295|I>>>23),I=O+(w^b&(V^w))+P[7]+1735328473&4294967295,O=V+(I<<14&4294967295|I>>>18),I=b+(V^w&(O^V))+P[12]+2368359562&4294967295,b=O+(I<<20&4294967295|I>>>12),I=w+(b^O^V)+P[5]+4294588738&4294967295,w=b+(I<<4&4294967295|I>>>28),I=V+(w^b^O)+P[8]+2272392833&4294967295,V=w+(I<<11&4294967295|I>>>21),I=O+(V^w^b)+P[11]+1839030562&4294967295,O=V+(I<<16&4294967295|I>>>16),I=b+(O^V^w)+P[14]+4259657740&4294967295,b=O+(I<<23&4294967295|I>>>9),I=w+(b^O^V)+P[1]+2763975236&4294967295,w=b+(I<<4&4294967295|I>>>28),I=V+(w^b^O)+P[4]+1272893353&4294967295,V=w+(I<<11&4294967295|I>>>21),I=O+(V^w^b)+P[7]+4139469664&4294967295,O=V+(I<<16&4294967295|I>>>16),I=b+(O^V^w)+P[10]+3200236656&4294967295,b=O+(I<<23&4294967295|I>>>9),I=w+(b^O^V)+P[13]+681279174&4294967295,w=b+(I<<4&4294967295|I>>>28),I=V+(w^b^O)+P[0]+3936430074&4294967295,V=w+(I<<11&4294967295|I>>>21),I=O+(V^w^b)+P[3]+3572445317&4294967295,O=V+(I<<16&4294967295|I>>>16),I=b+(O^V^w)+P[6]+76029189&4294967295,b=O+(I<<23&4294967295|I>>>9),I=w+(b^O^V)+P[9]+3654602809&4294967295,w=b+(I<<4&4294967295|I>>>28),I=V+(w^b^O)+P[12]+3873151461&4294967295,V=w+(I<<11&4294967295|I>>>21),I=O+(V^w^b)+P[15]+530742520&4294967295,O=V+(I<<16&4294967295|I>>>16),I=b+(O^V^w)+P[2]+3299628645&4294967295,b=O+(I<<23&4294967295|I>>>9),I=w+(O^(b|~V))+P[0]+4096336452&4294967295,w=b+(I<<6&4294967295|I>>>26),I=V+(b^(w|~O))+P[7]+1126891415&4294967295,V=w+(I<<10&4294967295|I>>>22),I=O+(w^(V|~b))+P[14]+2878612391&4294967295,O=V+(I<<15&4294967295|I>>>17),I=b+(V^(O|~w))+P[5]+4237533241&4294967295,b=O+(I<<21&4294967295|I>>>11),I=w+(O^(b|~V))+P[12]+1700485571&4294967295,w=b+(I<<6&4294967295|I>>>26),I=V+(b^(w|~O))+P[3]+2399980690&4294967295,V=w+(I<<10&4294967295|I>>>22),I=O+(w^(V|~b))+P[10]+4293915773&4294967295,O=V+(I<<15&4294967295|I>>>17),I=b+(V^(O|~w))+P[1]+2240044497&4294967295,b=O+(I<<21&4294967295|I>>>11),I=w+(O^(b|~V))+P[8]+1873313359&4294967295,w=b+(I<<6&4294967295|I>>>26),I=V+(b^(w|~O))+P[15]+4264355552&4294967295,V=w+(I<<10&4294967295|I>>>22),I=O+(w^(V|~b))+P[6]+2734768916&4294967295,O=V+(I<<15&4294967295|I>>>17),I=b+(V^(O|~w))+P[13]+1309151649&4294967295,b=O+(I<<21&4294967295|I>>>11),I=w+(O^(b|~V))+P[4]+4149444226&4294967295,w=b+(I<<6&4294967295|I>>>26),I=V+(b^(w|~O))+P[11]+3174756917&4294967295,V=w+(I<<10&4294967295|I>>>22),I=O+(w^(V|~b))+P[2]+718787259&4294967295,O=V+(I<<15&4294967295|I>>>17),I=b+(V^(O|~w))+P[9]+3951481745&4294967295,R.g[0]=R.g[0]+w&4294967295,R.g[1]=R.g[1]+(O+(I<<21&4294967295|I>>>11))&4294967295,R.g[2]=R.g[2]+O&4294967295,R.g[3]=R.g[3]+V&4294967295}r.prototype.u=function(R,w){w===void 0&&(w=R.length);for(var b=w-this.blockSize,P=this.B,O=this.h,V=0;V<w;){if(O==0)for(;V<=b;)i(this,R,V),V+=this.blockSize;if(typeof R=="string"){for(;V<w;)if(P[O++]=R.charCodeAt(V++),O==this.blockSize){i(this,P),O=0;break}}else for(;V<w;)if(P[O++]=R[V++],O==this.blockSize){i(this,P),O=0;break}}this.h=O,this.o+=w},r.prototype.v=function(){var R=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);R[0]=128;for(var w=1;w<R.length-8;++w)R[w]=0;var b=8*this.o;for(w=R.length-8;w<R.length;++w)R[w]=b&255,b/=256;for(this.u(R),R=Array(16),w=b=0;4>w;++w)for(var P=0;32>P;P+=8)R[b++]=this.g[w]>>>P&255;return R};function s(R,w){var b=c;return Object.prototype.hasOwnProperty.call(b,R)?b[R]:b[R]=w(R)}function o(R,w){this.h=w;for(var b=[],P=!0,O=R.length-1;0<=O;O--){var V=R[O]|0;P&&V==w||(b[O]=V,P=!1)}this.g=b}var c={};function u(R){return-128<=R&&128>R?s(R,function(w){return new o([w|0],0>w?-1:0)}):new o([R|0],0>R?-1:0)}function h(R){if(isNaN(R)||!isFinite(R))return _;if(0>R)return U(h(-R));for(var w=[],b=1,P=0;R>=b;P++)w[P]=R/b|0,b*=4294967296;return new o(w,0)}function p(R,w){if(R.length==0)throw Error("number format error: empty string");if(w=w||10,2>w||36<w)throw Error("radix out of range: "+w);if(R.charAt(0)=="-")return U(p(R.substring(1),w));if(0<=R.indexOf("-"))throw Error('number format error: interior "-" character');for(var b=h(Math.pow(w,8)),P=_,O=0;O<R.length;O+=8){var V=Math.min(8,R.length-O),I=parseInt(R.substring(O,O+V),w);8>V?(V=h(Math.pow(w,V)),P=P.j(V).add(h(I))):(P=P.j(b),P=P.add(h(I)))}return P}var _=u(0),y=u(1),T=u(16777216);t=o.prototype,t.m=function(){if(H(this))return-U(this).m();for(var R=0,w=1,b=0;b<this.g.length;b++){var P=this.i(b);R+=(0<=P?P:4294967296+P)*w,w*=4294967296}return R},t.toString=function(R){if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(x(this))return"0";if(H(this))return"-"+U(this).toString(R);for(var w=h(Math.pow(R,6)),b=this,P="";;){var O=ee(b,w).g;b=X(b,O.j(w));var V=((0<b.g.length?b.g[0]:b.h)>>>0).toString(R);if(b=O,x(b))return V+P;for(;6>V.length;)V="0"+V;P=V+P}},t.i=function(R){return 0>R?0:R<this.g.length?this.g[R]:this.h};function x(R){if(R.h!=0)return!1;for(var w=0;w<R.g.length;w++)if(R.g[w]!=0)return!1;return!0}function H(R){return R.h==-1}t.l=function(R){return R=X(this,R),H(R)?-1:x(R)?0:1};function U(R){for(var w=R.g.length,b=[],P=0;P<w;P++)b[P]=~R.g[P];return new o(b,~R.h).add(y)}t.abs=function(){return H(this)?U(this):this},t.add=function(R){for(var w=Math.max(this.g.length,R.g.length),b=[],P=0,O=0;O<=w;O++){var V=P+(this.i(O)&65535)+(R.i(O)&65535),I=(V>>>16)+(this.i(O)>>>16)+(R.i(O)>>>16);P=I>>>16,V&=65535,I&=65535,b[O]=I<<16|V}return new o(b,b[b.length-1]&-2147483648?-1:0)};function X(R,w){return R.add(U(w))}t.j=function(R){if(x(this)||x(R))return _;if(H(this))return H(R)?U(this).j(U(R)):U(U(this).j(R));if(H(R))return U(this.j(U(R)));if(0>this.l(T)&&0>R.l(T))return h(this.m()*R.m());for(var w=this.g.length+R.g.length,b=[],P=0;P<2*w;P++)b[P]=0;for(P=0;P<this.g.length;P++)for(var O=0;O<R.g.length;O++){var V=this.i(P)>>>16,I=this.i(P)&65535,Ze=R.i(O)>>>16,ut=R.i(O)&65535;b[2*P+2*O]+=I*ut,z(b,2*P+2*O),b[2*P+2*O+1]+=V*ut,z(b,2*P+2*O+1),b[2*P+2*O+1]+=I*Ze,z(b,2*P+2*O+1),b[2*P+2*O+2]+=V*Ze,z(b,2*P+2*O+2)}for(P=0;P<w;P++)b[P]=b[2*P+1]<<16|b[2*P];for(P=w;P<2*w;P++)b[P]=0;return new o(b,0)};function z(R,w){for(;(R[w]&65535)!=R[w];)R[w+1]+=R[w]>>>16,R[w]&=65535,w++}function ne(R,w){this.g=R,this.h=w}function ee(R,w){if(x(w))throw Error("division by zero");if(x(R))return new ne(_,_);if(H(R))return w=ee(U(R),w),new ne(U(w.g),U(w.h));if(H(w))return w=ee(R,U(w)),new ne(U(w.g),w.h);if(30<R.g.length){if(H(R)||H(w))throw Error("slowDivide_ only works with positive integers.");for(var b=y,P=w;0>=P.l(R);)b=be(b),P=be(P);var O=ge(b,1),V=ge(P,1);for(P=ge(P,2),b=ge(b,2);!x(P);){var I=V.add(P);0>=I.l(R)&&(O=O.add(b),V=I),P=ge(P,1),b=ge(b,1)}return w=X(R,O.j(w)),new ne(O,w)}for(O=_;0<=R.l(w);){for(b=Math.max(1,Math.floor(R.m()/w.m())),P=Math.ceil(Math.log(b)/Math.LN2),P=48>=P?1:Math.pow(2,P-48),V=h(b),I=V.j(w);H(I)||0<I.l(R);)b-=P,V=h(b),I=V.j(w);x(V)&&(V=y),O=O.add(V),R=X(R,I)}return new ne(O,R)}t.A=function(R){return ee(this,R).h},t.and=function(R){for(var w=Math.max(this.g.length,R.g.length),b=[],P=0;P<w;P++)b[P]=this.i(P)&R.i(P);return new o(b,this.h&R.h)},t.or=function(R){for(var w=Math.max(this.g.length,R.g.length),b=[],P=0;P<w;P++)b[P]=this.i(P)|R.i(P);return new o(b,this.h|R.h)},t.xor=function(R){for(var w=Math.max(this.g.length,R.g.length),b=[],P=0;P<w;P++)b[P]=this.i(P)^R.i(P);return new o(b,this.h^R.h)};function be(R){for(var w=R.g.length+1,b=[],P=0;P<w;P++)b[P]=R.i(P)<<1|R.i(P-1)>>>31;return new o(b,R.h)}function ge(R,w){var b=w>>5;w%=32;for(var P=R.g.length-b,O=[],V=0;V<P;V++)O[V]=0<w?R.i(V+b)>>>w|R.i(V+b+1)<<32-w:R.i(V+b);return new o(O,R.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,oE=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=h,o.fromString=p,Ls=o}).apply(typeof Ug<"u"?Ug:typeof self<"u"?self:typeof window<"u"?window:{});var dc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var aE,ka,lE,Rc,Ed,cE,uE,hE;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(a,d,g){return a==Array.prototype||a==Object.prototype||(a[d]=g.value),a};function n(a){a=[typeof globalThis=="object"&&globalThis,a,typeof window=="object"&&window,typeof self=="object"&&self,typeof dc=="object"&&dc];for(var d=0;d<a.length;++d){var g=a[d];if(g&&g.Math==Math)return g}throw Error("Cannot find global object")}var r=n(this);function i(a,d){if(d)e:{var g=r;a=a.split(".");for(var E=0;E<a.length-1;E++){var M=a[E];if(!(M in g))break e;g=g[M]}a=a[a.length-1],E=g[a],d=d(E),d!=E&&d!=null&&e(g,a,{configurable:!0,writable:!0,value:d})}}function s(a,d){a instanceof String&&(a+="");var g=0,E=!1,M={next:function(){if(!E&&g<a.length){var q=g++;return{value:d(q,a[q]),done:!1}}return E=!0,{done:!0,value:void 0}}};return M[Symbol.iterator]=function(){return M},M}i("Array.prototype.values",function(a){return a||function(){return s(this,function(d,g){return g})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},c=this||self;function u(a){var d=typeof a;return d=d!="object"?d:a?Array.isArray(a)?"array":d:"null",d=="array"||d=="object"&&typeof a.length=="number"}function h(a){var d=typeof a;return d=="object"&&a!=null||d=="function"}function p(a,d,g){return a.call.apply(a.bind,arguments)}function _(a,d,g){if(!a)throw Error();if(2<arguments.length){var E=Array.prototype.slice.call(arguments,2);return function(){var M=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(M,E),a.apply(d,M)}}return function(){return a.apply(d,arguments)}}function y(a,d,g){return y=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?p:_,y.apply(null,arguments)}function T(a,d){var g=Array.prototype.slice.call(arguments,1);return function(){var E=g.slice();return E.push.apply(E,arguments),a.apply(this,E)}}function x(a,d){function g(){}g.prototype=d.prototype,a.aa=d.prototype,a.prototype=new g,a.prototype.constructor=a,a.Qb=function(E,M,q){for(var ce=Array(arguments.length-2),at=2;at<arguments.length;at++)ce[at-2]=arguments[at];return d.prototype[M].apply(E,ce)}}function H(a){const d=a.length;if(0<d){const g=Array(d);for(let E=0;E<d;E++)g[E]=a[E];return g}return[]}function U(a,d){for(let g=1;g<arguments.length;g++){const E=arguments[g];if(u(E)){const M=a.length||0,q=E.length||0;a.length=M+q;for(let ce=0;ce<q;ce++)a[M+ce]=E[ce]}else a.push(E)}}class X{constructor(d,g){this.i=d,this.j=g,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function z(a){return/^[\s\xa0]*$/.test(a)}function ne(){var a=c.navigator;return a&&(a=a.userAgent)?a:""}function ee(a){return ee[" "](a),a}ee[" "]=function(){};var be=ne().indexOf("Gecko")!=-1&&!(ne().toLowerCase().indexOf("webkit")!=-1&&ne().indexOf("Edge")==-1)&&!(ne().indexOf("Trident")!=-1||ne().indexOf("MSIE")!=-1)&&ne().indexOf("Edge")==-1;function ge(a,d,g){for(const E in a)d.call(g,a[E],E,a)}function R(a,d){for(const g in a)d.call(void 0,a[g],g,a)}function w(a){const d={};for(const g in a)d[g]=a[g];return d}const b="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function P(a,d){let g,E;for(let M=1;M<arguments.length;M++){E=arguments[M];for(g in E)a[g]=E[g];for(let q=0;q<b.length;q++)g=b[q],Object.prototype.hasOwnProperty.call(E,g)&&(a[g]=E[g])}}function O(a){var d=1;a=a.split(":");const g=[];for(;0<d&&a.length;)g.push(a.shift()),d--;return a.length&&g.push(a.join(":")),g}function V(a){c.setTimeout(()=>{throw a},0)}function I(){var a=yt;let d=null;return a.g&&(d=a.g,a.g=a.g.next,a.g||(a.h=null),d.next=null),d}class Ze{constructor(){this.h=this.g=null}add(d,g){const E=ut.get();E.set(d,g),this.h?this.h.next=E:this.g=E,this.h=E}}var ut=new X(()=>new Me,a=>a.reset());class Me{constructor(){this.next=this.g=this.h=null}set(d,g){this.h=d,this.g=g,this.next=null}reset(){this.next=this.g=this.h=null}}let he,Ve=!1,yt=new Ze,Dt=()=>{const a=c.Promise.resolve(void 0);he=()=>{a.then(Ut)}};var Ut=()=>{for(var a;a=I();){try{a.h.call(a.g)}catch(g){V(g)}var d=ut;d.j(a),100>d.h&&(d.h++,a.next=d.g,d.g=a)}Ve=!1};function it(){this.s=this.s,this.C=this.C}it.prototype.s=!1,it.prototype.ma=function(){this.s||(this.s=!0,this.N())},it.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ht(a,d){this.type=a,this.g=this.target=d,this.defaultPrevented=!1}ht.prototype.h=function(){this.defaultPrevented=!0};var gt=function(){if(!c.addEventListener||!Object.defineProperty)return!1;var a=!1,d=Object.defineProperty({},"passive",{get:function(){a=!0}});try{const g=()=>{};c.addEventListener("test",g,d),c.removeEventListener("test",g,d)}catch{}return a}();function Xt(a,d){if(ht.call(this,a?a.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,a){var g=this.type=a.type,E=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:null;if(this.target=a.target||a.srcElement,this.g=d,d=a.relatedTarget){if(be){e:{try{ee(d.nodeName);var M=!0;break e}catch{}M=!1}M||(d=null)}}else g=="mouseover"?d=a.fromElement:g=="mouseout"&&(d=a.toElement);this.relatedTarget=d,E?(this.clientX=E.clientX!==void 0?E.clientX:E.pageX,this.clientY=E.clientY!==void 0?E.clientY:E.pageY,this.screenX=E.screenX||0,this.screenY=E.screenY||0):(this.clientX=a.clientX!==void 0?a.clientX:a.pageX,this.clientY=a.clientY!==void 0?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0),this.button=a.button,this.key=a.key||"",this.ctrlKey=a.ctrlKey,this.altKey=a.altKey,this.shiftKey=a.shiftKey,this.metaKey=a.metaKey,this.pointerId=a.pointerId||0,this.pointerType=typeof a.pointerType=="string"?a.pointerType:fe[a.pointerType]||"",this.state=a.state,this.i=a,a.defaultPrevented&&Xt.aa.h.call(this)}}x(Xt,ht);var fe={2:"touch",3:"pen",4:"mouse"};Xt.prototype.h=function(){Xt.aa.h.call(this);var a=this.i;a.preventDefault?a.preventDefault():a.returnValue=!1};var B="closure_listenable_"+(1e6*Math.random()|0),N=0;function J(a,d,g,E,M){this.listener=a,this.proxy=null,this.src=d,this.type=g,this.capture=!!E,this.ha=M,this.key=++N,this.da=this.fa=!1}function de(a){a.da=!0,a.listener=null,a.proxy=null,a.src=null,a.ha=null}function Ne(a){this.src=a,this.g={},this.h=0}Ne.prototype.add=function(a,d,g,E,M){var q=a.toString();a=this.g[q],a||(a=this.g[q]=[],this.h++);var ce=A(a,d,E,M);return-1<ce?(d=a[ce],g||(d.fa=!1)):(d=new J(d,this.src,q,!!E,M),d.fa=g,a.push(d)),d};function Pe(a,d){var g=d.type;if(g in a.g){var E=a.g[g],M=Array.prototype.indexOf.call(E,d,void 0),q;(q=0<=M)&&Array.prototype.splice.call(E,M,1),q&&(de(d),a.g[g].length==0&&(delete a.g[g],a.h--))}}function A(a,d,g,E){for(var M=0;M<a.length;++M){var q=a[M];if(!q.da&&q.listener==d&&q.capture==!!g&&q.ha==E)return M}return-1}var S="closure_lm_"+(1e6*Math.random()|0),$={};function Q(a,d,g,E,M){if(Array.isArray(d)){for(var q=0;q<d.length;q++)Q(a,d[q],g,E,M);return null}return g=Ee(g),a&&a[B]?a.K(d,g,h(E)?!!E.capture:!!E,M):L(a,d,g,!1,E,M)}function L(a,d,g,E,M,q){if(!d)throw Error("Invalid event type");var ce=h(M)?!!M.capture:!!M,at=we(a);if(at||(a[S]=at=new Ne(a)),g=at.add(d,g,E,ce,q),g.proxy)return g;if(E=Z(),g.proxy=E,E.src=a,E.listener=g,a.addEventListener)gt||(M=ce),M===void 0&&(M=!1),a.addEventListener(d.toString(),E,M);else if(a.attachEvent)a.attachEvent(se(d.toString()),E);else if(a.addListener&&a.removeListener)a.addListener(E);else throw Error("addEventListener and attachEvent are unavailable.");return g}function Z(){function a(g){return d.call(a.src,a.listener,g)}const d=te;return a}function ae(a,d,g,E,M){if(Array.isArray(d))for(var q=0;q<d.length;q++)ae(a,d[q],g,E,M);else E=h(E)?!!E.capture:!!E,g=Ee(g),a&&a[B]?(a=a.i,d=String(d).toString(),d in a.g&&(q=a.g[d],g=A(q,g,E,M),-1<g&&(de(q[g]),Array.prototype.splice.call(q,g,1),q.length==0&&(delete a.g[d],a.h--)))):a&&(a=we(a))&&(d=a.g[d.toString()],a=-1,d&&(a=A(d,g,E,M)),(g=-1<a?d[a]:null)&&ie(g))}function ie(a){if(typeof a!="number"&&a&&!a.da){var d=a.src;if(d&&d[B])Pe(d.i,a);else{var g=a.type,E=a.proxy;d.removeEventListener?d.removeEventListener(g,E,a.capture):d.detachEvent?d.detachEvent(se(g),E):d.addListener&&d.removeListener&&d.removeListener(E),(g=we(d))?(Pe(g,a),g.h==0&&(g.src=null,d[S]=null)):de(a)}}}function se(a){return a in $?$[a]:$[a]="on"+a}function te(a,d){if(a.da)a=!0;else{d=new Xt(d,this);var g=a.listener,E=a.ha||a.src;a.fa&&ie(a),a=g.call(E,d)}return a}function we(a){return a=a[S],a instanceof Ne?a:null}var ue="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ee(a){return typeof a=="function"?a:(a[ue]||(a[ue]=function(d){return a.handleEvent(d)}),a[ue])}function pe(){it.call(this),this.i=new Ne(this),this.M=this,this.F=null}x(pe,it),pe.prototype[B]=!0,pe.prototype.removeEventListener=function(a,d,g,E){ae(this,a,d,g,E)};function Ie(a,d){var g,E=a.F;if(E)for(g=[];E;E=E.F)g.push(E);if(a=a.M,E=d.type||d,typeof d=="string")d=new ht(d,a);else if(d instanceof ht)d.target=d.target||a;else{var M=d;d=new ht(E,a),P(d,M)}if(M=!0,g)for(var q=g.length-1;0<=q;q--){var ce=d.g=g[q];M=Xe(ce,E,!0,d)&&M}if(ce=d.g=a,M=Xe(ce,E,!0,d)&&M,M=Xe(ce,E,!1,d)&&M,g)for(q=0;q<g.length;q++)ce=d.g=g[q],M=Xe(ce,E,!1,d)&&M}pe.prototype.N=function(){if(pe.aa.N.call(this),this.i){var a=this.i,d;for(d in a.g){for(var g=a.g[d],E=0;E<g.length;E++)de(g[E]);delete a.g[d],a.h--}}this.F=null},pe.prototype.K=function(a,d,g,E){return this.i.add(String(a),d,!1,g,E)},pe.prototype.L=function(a,d,g,E){return this.i.add(String(a),d,!0,g,E)};function Xe(a,d,g,E){if(d=a.i.g[String(d)],!d)return!0;d=d.concat();for(var M=!0,q=0;q<d.length;++q){var ce=d[q];if(ce&&!ce.da&&ce.capture==g){var at=ce.listener,Kt=ce.ha||ce.src;ce.fa&&Pe(a.i,ce),M=at.call(Kt,E)!==!1&&M}}return M&&!E.defaultPrevented}function qe(a,d,g){if(typeof a=="function")g&&(a=y(a,g));else if(a&&typeof a.handleEvent=="function")a=y(a.handleEvent,a);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:c.setTimeout(a,d||0)}function Vt(a){a.g=qe(()=>{a.g=null,a.i&&(a.i=!1,Vt(a))},a.l);const d=a.h;a.h=null,a.m.apply(null,d)}class k extends it{constructor(d,g){super(),this.m=d,this.l=g,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:Vt(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function D(a){it.call(this),this.h=a,this.g={}}x(D,it);var W=[];function le(a){ge(a.g,function(d,g){this.g.hasOwnProperty(g)&&ie(d)},a),a.g={}}D.prototype.N=function(){D.aa.N.call(this),le(this)},D.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ae=c.JSON.stringify,ye=c.JSON.parse,ve=class{stringify(a){return c.JSON.stringify(a,void 0)}parse(a){return c.JSON.parse(a,void 0)}};function et(){}et.prototype.h=null;function At(a){return a.h||(a.h=a.i())}function kt(){}var tt={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Ct(){ht.call(this,"d")}x(Ct,ht);function Bt(){ht.call(this,"c")}x(Bt,ht);var Pt={},vr=null;function yr(){return vr=vr||new pe}Pt.La="serverreachability";function gi(a){ht.call(this,Pt.La,a)}x(gi,ht);function Dn(a){const d=yr();Ie(d,new gi(d))}Pt.STAT_EVENT="statevent";function _i(a,d){ht.call(this,Pt.STAT_EVENT,a),this.stat=d}x(_i,ht);function pn(a){const d=yr();Ie(d,new _i(d,a))}Pt.Ma="timingevent";function nr(a,d){ht.call(this,Pt.Ma,a),this.size=d}x(nr,ht);function vi(a,d){if(typeof a!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){a()},d)}function ss(){this.g=!0}ss.prototype.xa=function(){this.g=!1};function Wu(a,d,g,E,M,q){a.info(function(){if(a.g)if(q)for(var ce="",at=q.split("&"),Kt=0;Kt<at.length;Kt++){var We=at[Kt].split("=");if(1<We.length){var Lt=We[0];We=We[1];var en=Lt.split("_");ce=2<=en.length&&en[1]=="type"?ce+(Lt+"="+We+"&"):ce+(Lt+"=redacted&")}}else ce=null;else ce=q;return"XMLHTTP REQ ("+E+") [attempt "+M+"]: "+d+`
`+g+`
`+ce})}function Ku(a,d,g,E,M,q,ce){a.info(function(){return"XMLHTTP RESP ("+E+") [ attempt "+M+"]: "+d+`
`+g+`
`+q+" "+ce})}function Qn(a,d,g,E){a.info(function(){return"XMLHTTP TEXT ("+d+"): "+Ei(a,g)+(E?" "+E:"")})}function yi(a,d){a.info(function(){return"TIMEOUT: "+d})}ss.prototype.info=function(){};function Ei(a,d){if(!a.g)return d;if(!d)return null;try{var g=JSON.parse(d);if(g){for(a=0;a<g.length;a++)if(Array.isArray(g[a])){var E=g[a];if(!(2>E.length)){var M=E[1];if(Array.isArray(M)&&!(1>M.length)){var q=M[0];if(q!="noop"&&q!="stop"&&q!="close")for(var ce=1;ce<M.length;ce++)M[ce]=""}}}}return Ae(g)}catch{return d}}var $r={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Dl={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},os;function zs(){}x(zs,et),zs.prototype.g=function(){return new XMLHttpRequest},zs.prototype.i=function(){return{}},os=new zs;function Er(a,d,g,E){this.j=a,this.i=d,this.l=g,this.R=E||1,this.U=new D(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Vl}function Vl(){this.i=null,this.g="",this.h=!1}var kl={},ea={};function ta(a,d,g){a.L=1,a.v=ir(rr(d)),a.m=g,a.P=!0,na(a,null)}function na(a,d){a.F=Date.now(),Gs(a),a.A=rr(a.v);var g=a.A,E=a.R;Array.isArray(E)||(E=[String(E)]),mn(g.i,"t",E),a.C=0,g=a.j.J,a.h=new Vl,a.g=Si(a.j,g?d:null,!a.m),0<a.O&&(a.M=new k(y(a.Y,a,a.g),a.O)),d=a.U,g=a.g,E=a.ca;var M="readystatechange";Array.isArray(M)||(M&&(W[0]=M.toString()),M=W);for(var q=0;q<M.length;q++){var ce=Q(g,M[q],E||d.handleEvent,!1,d.h||d);if(!ce)break;d.g[ce.key]=ce}d=a.H?w(a.H):{},a.m?(a.u||(a.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",a.g.ea(a.A,a.u,a.m,d)):(a.u="GET",a.g.ea(a.A,a.u,null,d)),Dn(),Wu(a.i,a.u,a.A,a.l,a.R,a.m)}Er.prototype.ca=function(a){a=a.target;const d=this.M;d&&Ht(a)==3?d.j():this.Y(a)},Er.prototype.Y=function(a){try{if(a==this.g)e:{const en=Ht(this.g);var d=this.g.Ba();const Sr=this.g.Z();if(!(3>en)&&(en!=3||this.g&&(this.h.h||this.g.oa()||_n(this.g)))){this.J||en!=4||d==7||(d==8||0>=Sr?Dn(3):Dn(2)),ra(this);var g=this.g.Z();this.X=g;t:if(as(this)){var E=_n(this.g);a="";var M=E.length,q=Ht(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Tr(this),ls(this);var ce="";break t}this.h.i=new c.TextDecoder}for(d=0;d<M;d++)this.h.h=!0,a+=this.h.i.decode(E[d],{stream:!(q&&d==M-1)});E.length=0,this.h.g+=a,this.C=0,ce=this.h.g}else ce=this.g.oa();if(this.o=g==200,Ku(this.i,this.u,this.A,this.l,this.R,en,g),this.o){if(this.T&&!this.K){t:{if(this.g){var at,Kt=this.g;if((at=Kt.g?Kt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!z(at)){var We=at;break t}}We=null}if(g=We)Qn(this.i,this.l,g,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Qs(this,g);else{this.o=!1,this.s=3,pn(12),Tr(this),ls(this);break e}}if(this.P){g=!0;let Un;for(;!this.J&&this.C<ce.length;)if(Un=zu(this,ce),Un==ea){en==4&&(this.s=4,pn(14),g=!1),Qn(this.i,this.l,null,"[Incomplete Response]");break}else if(Un==kl){this.s=4,pn(15),Qn(this.i,this.l,ce,"[Invalid Chunk]"),g=!1;break}else Qn(this.i,this.l,Un,null),Qs(this,Un);if(as(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),en!=4||ce.length!=0||this.h.h||(this.s=1,pn(16),g=!1),this.o=this.o&&g,!g)Qn(this.i,this.l,ce,"[Invalid Chunked Response]"),Tr(this),ls(this);else if(0<ce.length&&!this.W){this.W=!0;var Lt=this.j;Lt.g==this&&Lt.ba&&!Lt.M&&(Lt.j.info("Great, no buffering proxy detected. Bytes received: "+ce.length),fs(Lt),Lt.M=!0,pn(11))}}else Qn(this.i,this.l,ce,null),Qs(this,ce);en==4&&Tr(this),this.o&&!this.J&&(en==4?Kl(this.j,this):(this.o=!1,Gs(this)))}else qr(this.g),g==400&&0<ce.indexOf("Unknown SID")?(this.s=3,pn(12)):(this.s=0,pn(13)),Tr(this),ls(this)}}}catch{}finally{}};function as(a){return a.g?a.u=="GET"&&a.L!=2&&a.j.Ca:!1}function zu(a,d){var g=a.C,E=d.indexOf(`
`,g);return E==-1?ea:(g=Number(d.substring(g,E)),isNaN(g)?kl:(E+=1,E+g>d.length?ea:(d=d.slice(E,E+g),a.C=E+g,d)))}Er.prototype.cancel=function(){this.J=!0,Tr(this)};function Gs(a){a.S=Date.now()+a.I,Ll(a,a.I)}function Ll(a,d){if(a.B!=null)throw Error("WatchDog timer not null");a.B=vi(y(a.ba,a),d)}function ra(a){a.B&&(c.clearTimeout(a.B),a.B=null)}Er.prototype.ba=function(){this.B=null;const a=Date.now();0<=a-this.S?(yi(this.i,this.A),this.L!=2&&(Dn(),pn(17)),Tr(this),this.s=2,ls(this)):Ll(this,this.S-a)};function ls(a){a.j.G==0||a.J||Kl(a.j,a)}function Tr(a){ra(a);var d=a.M;d&&typeof d.ma=="function"&&d.ma(),a.M=null,le(a.U),a.g&&(d=a.g,a.g=null,d.abort(),d.ma())}function Qs(a,d){try{var g=a.j;if(g.G!=0&&(g.g==a||ia(g.h,a))){if(!a.K&&ia(g.h,a)&&g.G==3){try{var E=g.Da.g.parse(d)}catch{E=null}if(Array.isArray(E)&&E.length==3){var M=E;if(M[0]==0){e:if(!g.u){if(g.g)if(g.g.F+3e3<a.F)Vn(g),to(g);else break e;br(g),pn(18)}}else g.za=M[1],0<g.za-g.T&&37500>M[2]&&g.F&&g.v==0&&!g.C&&(g.C=vi(y(g.Za,g),6e3));if(1>=Fl(g.h)&&g.ca){try{g.ca()}catch{}g.ca=void 0}}else Xn(g,11)}else if((a.K||g.g==a)&&Vn(g),!z(d))for(M=g.Da.g.parse(d),d=0;d<M.length;d++){let We=M[d];if(g.T=We[0],We=We[1],g.G==2)if(We[0]=="c"){g.K=We[1],g.ia=We[2];const Lt=We[3];Lt!=null&&(g.la=Lt,g.j.info("VER="+g.la));const en=We[4];en!=null&&(g.Aa=en,g.j.info("SVER="+g.Aa));const Sr=We[5];Sr!=null&&typeof Sr=="number"&&0<Sr&&(E=1.5*Sr,g.L=E,g.j.info("backChannelRequestTimeoutMs_="+E)),E=g;const Un=a.g;if(Un){const zr=Un.g?Un.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(zr){var q=E.h;q.g||zr.indexOf("spdy")==-1&&zr.indexOf("quic")==-1&&zr.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&(sa(q,q.h),q.h=null))}if(E.D){const ya=Un.g?Un.g.getResponseHeader("X-HTTP-Session-Id"):null;ya&&(E.ya=ya,dt(E.I,E.D,ya))}}g.G=3,g.l&&g.l.ua(),g.ba&&(g.R=Date.now()-a.F,g.j.info("Handshake RTT: "+g.R+"ms")),E=g;var ce=a;if(E.qa=zl(E,E.J?E.ia:null,E.W),ce.K){$l(E.h,ce);var at=ce,Kt=E.L;Kt&&(at.I=Kt),at.B&&(ra(at),Gs(at)),E.g=ce}else pa(E);0<g.i.length&&In(g)}else We[0]!="stop"&&We[0]!="close"||Xn(g,7);else g.G==3&&(We[0]=="stop"||We[0]=="close"?We[0]=="stop"?Xn(g,7):fa(g):We[0]!="noop"&&g.l&&g.l.ta(We),g.v=0)}}Dn(4)}catch{}}var Gu=class{constructor(a,d){this.g=a,this.map=d}};function xl(a){this.l=a||10,c.PerformanceNavigationTiming?(a=c.performance.getEntriesByType("navigation"),a=0<a.length&&(a[0].nextHopProtocol=="hq"||a[0].nextHopProtocol=="h2")):a=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=a?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ml(a){return a.h?!0:a.g?a.g.size>=a.j:!1}function Fl(a){return a.h?1:a.g?a.g.size:0}function ia(a,d){return a.h?a.h==d:a.g?a.g.has(d):!1}function sa(a,d){a.g?a.g.add(d):a.h=d}function $l(a,d){a.h&&a.h==d?a.h=null:a.g&&a.g.has(d)&&a.g.delete(d)}xl.prototype.cancel=function(){if(this.i=Ul(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const a of this.g.values())a.cancel();this.g.clear()}};function Ul(a){if(a.h!=null)return a.i.concat(a.h.D);if(a.g!=null&&a.g.size!==0){let d=a.i;for(const g of a.g.values())d=d.concat(g.D);return d}return H(a.i)}function Ti(a){if(a.V&&typeof a.V=="function")return a.V();if(typeof Map<"u"&&a instanceof Map||typeof Set<"u"&&a instanceof Set)return Array.from(a.values());if(typeof a=="string")return a.split("");if(u(a)){for(var d=[],g=a.length,E=0;E<g;E++)d.push(a[E]);return d}d=[],g=0;for(E in a)d[g++]=a[E];return d}function Qu(a){if(a.na&&typeof a.na=="function")return a.na();if(!a.V||typeof a.V!="function"){if(typeof Map<"u"&&a instanceof Map)return Array.from(a.keys());if(!(typeof Set<"u"&&a instanceof Set)){if(u(a)||typeof a=="string"){var d=[];a=a.length;for(var g=0;g<a;g++)d.push(g);return d}d=[],g=0;for(const E in a)d[g++]=E;return d}}}function Yu(a,d){if(a.forEach&&typeof a.forEach=="function")a.forEach(d,void 0);else if(u(a)||typeof a=="string")Array.prototype.forEach.call(a,d,void 0);else for(var g=Qu(a),E=Ti(a),M=E.length,q=0;q<M;q++)d.call(void 0,E[q],g&&g[q],a)}var wi=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Xu(a,d){if(a){a=a.split("&");for(var g=0;g<a.length;g++){var E=a[g].indexOf("="),M=null;if(0<=E){var q=a[g].substring(0,E);M=a[g].substring(E+1)}else q=a[g];d(q,M?decodeURIComponent(M.replace(/\+/g," ")):"")}}}function Ur(a){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,a instanceof Ur){this.h=a.h,Ys(this,a.j),this.o=a.o,this.g=a.g,Xs(this,a.s),this.l=a.l;var d=a.i,g=new us;g.i=d.i,d.g&&(g.g=new Map(d.g),g.h=d.h),Bl(this,g),this.m=a.m}else a&&(d=String(a).match(wi))?(this.h=!1,Ys(this,d[1]||"",!0),this.o=wr(d[2]||""),this.g=wr(d[3]||"",!0),Xs(this,d[4]),this.l=wr(d[5]||"",!0),Bl(this,d[6]||"",!0),this.m=wr(d[7]||"")):(this.h=!1,this.i=new us(null,this.h))}Ur.prototype.toString=function(){var a=[],d=this.j;d&&a.push(cs(d,jl,!0),":");var g=this.g;return(g||d=="file")&&(a.push("//"),(d=this.o)&&a.push(cs(d,jl,!0),"@"),a.push(encodeURIComponent(String(g)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g=this.s,g!=null&&a.push(":",String(g))),(g=this.l)&&(this.g&&g.charAt(0)!="/"&&a.push("/"),a.push(cs(g,g.charAt(0)=="/"?eh:Zu,!0))),(g=this.i.toString())&&a.push("?",g),(g=this.m)&&a.push("#",cs(g,oa)),a.join("")};function rr(a){return new Ur(a)}function Ys(a,d,g){a.j=g?wr(d,!0):d,a.j&&(a.j=a.j.replace(/:$/,""))}function Xs(a,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);a.s=d}else a.s=null}function Bl(a,d,g){d instanceof us?(a.i=d,ln(a.i,a.h)):(g||(d=cs(d,th)),a.i=new us(d,a.h))}function dt(a,d,g){a.i.set(d,g)}function ir(a){return dt(a,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),a}function wr(a,d){return a?d?decodeURI(a.replace(/%25/g,"%2525")):decodeURIComponent(a):""}function cs(a,d,g){return typeof a=="string"?(a=encodeURI(a).replace(d,Ju),g&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null}function Ju(a){return a=a.charCodeAt(0),"%"+(a>>4&15).toString(16)+(a&15).toString(16)}var jl=/[#\/\?@]/g,Zu=/[#\?:]/g,eh=/[#\?]/g,th=/[#\?@]/g,oa=/#/g;function us(a,d){this.h=this.g=null,this.i=a||null,this.j=!!d}function Ar(a){a.g||(a.g=new Map,a.h=0,a.i&&Xu(a.i,function(d,g){a.add(decodeURIComponent(d.replace(/\+/g," ")),g)}))}t=us.prototype,t.add=function(a,d){Ar(this),this.i=null,a=jt(this,a);var g=this.g.get(a);return g||this.g.set(a,g=[]),g.push(d),this.h+=1,this};function Br(a,d){Ar(a),d=jt(a,d),a.g.has(d)&&(a.i=null,a.h-=a.g.get(d).length,a.g.delete(d))}function Jt(a,d){return Ar(a),d=jt(a,d),a.g.has(d)}t.forEach=function(a,d){Ar(this),this.g.forEach(function(g,E){g.forEach(function(M){a.call(d,M,E,this)},this)},this)},t.na=function(){Ar(this);const a=Array.from(this.g.values()),d=Array.from(this.g.keys()),g=[];for(let E=0;E<d.length;E++){const M=a[E];for(let q=0;q<M.length;q++)g.push(d[E])}return g},t.V=function(a){Ar(this);let d=[];if(typeof a=="string")Jt(this,a)&&(d=d.concat(this.g.get(jt(this,a))));else{a=Array.from(this.g.values());for(let g=0;g<a.length;g++)d=d.concat(a[g])}return d},t.set=function(a,d){return Ar(this),this.i=null,a=jt(this,a),Jt(this,a)&&(this.h-=this.g.get(a).length),this.g.set(a,[d]),this.h+=1,this},t.get=function(a,d){return a?(a=this.V(a),0<a.length?String(a[0]):d):d};function mn(a,d,g){Br(a,d),0<g.length&&(a.i=null,a.g.set(jt(a,d),H(g)),a.h+=g.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const a=[],d=Array.from(this.g.keys());for(var g=0;g<d.length;g++){var E=d[g];const q=encodeURIComponent(String(E)),ce=this.V(E);for(E=0;E<ce.length;E++){var M=q;ce[E]!==""&&(M+="="+encodeURIComponent(String(ce[E]))),a.push(M)}}return this.i=a.join("&")};function jt(a,d){return d=String(d),a.j&&(d=d.toLowerCase()),d}function ln(a,d){d&&!a.j&&(Ar(a),a.i=null,a.g.forEach(function(g,E){var M=E.toLowerCase();E!=M&&(Br(this,E),mn(this,M,g))},a)),a.j=d}function Js(a,d){const g=new ss;if(c.Image){const E=new Image;E.onload=T(gn,g,"TestLoadImage: loaded",!0,d,E),E.onerror=T(gn,g,"TestLoadImage: error",!1,d,E),E.onabort=T(gn,g,"TestLoadImage: abort",!1,d,E),E.ontimeout=T(gn,g,"TestLoadImage: timeout",!1,d,E),c.setTimeout(function(){E.ontimeout&&E.ontimeout()},1e4),E.src=a}else d(!1)}function Ai(a,d){const g=new ss,E=new AbortController,M=setTimeout(()=>{E.abort(),gn(g,"TestPingServer: timeout",!1,d)},1e4);fetch(a,{signal:E.signal}).then(q=>{clearTimeout(M),q.ok?gn(g,"TestPingServer: ok",!0,d):gn(g,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(M),gn(g,"TestPingServer: error",!1,d)})}function gn(a,d,g,E,M){try{M&&(M.onload=null,M.onerror=null,M.onabort=null,M.ontimeout=null),E(g)}catch{}}function bi(){this.g=new ve}function Hl(a,d,g){const E=g||"";try{Yu(a,function(M,q){let ce=M;h(M)&&(ce=Ae(M)),d.push(E+q+"="+encodeURIComponent(ce))})}catch(M){throw d.push(E+"type="+encodeURIComponent("_badmap")),M}}function Ii(a){this.l=a.Ub||null,this.j=a.eb||!1}x(Ii,et),Ii.prototype.g=function(){return new sr(this.l,this.j)},Ii.prototype.i=function(a){return function(){return a}}({});function sr(a,d){pe.call(this),this.D=a,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}x(sr,pe),t=sr.prototype,t.open=function(a,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=a,this.A=d,this.readyState=1,Hr(this)},t.send=function(a){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};a&&(d.body=a),(this.D||c).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,jr(this)),this.readyState=0},t.Sa=function(a){if(this.g&&(this.l=a,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=a.headers,this.readyState=2,Hr(this)),this.g&&(this.readyState=3,Hr(this),this.g)))if(this.responseType==="arraybuffer")a.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in a){if(this.j=a.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;aa(this)}else a.text().then(this.Ra.bind(this),this.ga.bind(this))};function aa(a){a.j.read().then(a.Pa.bind(a)).catch(a.ga.bind(a))}t.Pa=function(a){if(this.g){if(this.o&&a.value)this.response.push(a.value);else if(!this.o){var d=a.value?a.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!a.done}))&&(this.response=this.responseText+=d)}a.done?jr(this):Hr(this),this.readyState==3&&aa(this)}},t.Ra=function(a){this.g&&(this.response=this.responseText=a,jr(this))},t.Qa=function(a){this.g&&(this.response=a,jr(this))},t.ga=function(){this.g&&jr(this)};function jr(a){a.readyState=4,a.l=null,a.j=null,a.v=null,Hr(a)}t.setRequestHeader=function(a,d){this.u.append(a,d)},t.getResponseHeader=function(a){return this.h&&this.h.get(a.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const a=[],d=this.h.entries();for(var g=d.next();!g.done;)g=g.value,a.push(g[0]+": "+g[1]),g=d.next();return a.join(`\r
`)};function Hr(a){a.onreadystatechange&&a.onreadystatechange.call(a)}Object.defineProperty(sr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(a){this.m=a?"include":"same-origin"}});function la(a){let d="";return ge(a,function(g,E){d+=E,d+=":",d+=g,d+=`\r
`}),d}function Zs(a,d,g){e:{for(E in g){var E=!1;break e}E=!0}E||(g=la(g),typeof a=="string"?g!=null&&encodeURIComponent(String(g)):dt(a,d,g))}function bt(a){pe.call(this),this.headers=new Map,this.o=a||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}x(bt,pe);var ql=/^https?$/i,Wl=["POST","PUT"];t=bt.prototype,t.Ha=function(a){this.J=a},t.ea=function(a,d,g,E){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+a);d=d?d.toUpperCase():"GET",this.D=a,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():os.g(),this.v=this.o?At(this.o):At(os),this.g.onreadystatechange=y(this.Ea,this);try{this.B=!0,this.g.open(d,String(a),!0),this.B=!1}catch(q){ca(this,q);return}if(a=g||"",g=new Map(this.headers),E)if(Object.getPrototypeOf(E)===Object.prototype)for(var M in E)g.set(M,E[M]);else if(typeof E.keys=="function"&&typeof E.get=="function")for(const q of E.keys())g.set(q,E.get(q));else throw Error("Unknown input type for opt_headers: "+String(E));E=Array.from(g.keys()).find(q=>q.toLowerCase()=="content-type"),M=c.FormData&&a instanceof c.FormData,!(0<=Array.prototype.indexOf.call(Wl,d,void 0))||E||M||g.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,ce]of g)this.g.setRequestHeader(q,ce);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{da(this),this.u=!0,this.g.send(a),this.u=!1}catch(q){ca(this,q)}};function ca(a,d){a.h=!1,a.g&&(a.j=!0,a.g.abort(),a.j=!1),a.l=d,a.m=5,ua(a),hs(a)}function ua(a){a.A||(a.A=!0,Ie(a,"complete"),Ie(a,"error"))}t.abort=function(a){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=a||7,Ie(this,"complete"),Ie(this,"abort"),hs(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),hs(this,!0)),bt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?ha(this):this.bb())},t.bb=function(){ha(this)};function ha(a){if(a.h&&typeof o<"u"&&(!a.v[1]||Ht(a)!=4||a.Z()!=2)){if(a.u&&Ht(a)==4)qe(a.Ea,0,a);else if(Ie(a,"readystatechange"),Ht(a)==4){a.h=!1;try{const ce=a.Z();e:switch(ce){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var g;if(!(g=d)){var E;if(E=ce===0){var M=String(a.D).match(wi)[1]||null;!M&&c.self&&c.self.location&&(M=c.self.location.protocol.slice(0,-1)),E=!ql.test(M?M.toLowerCase():"")}g=E}if(g)Ie(a,"complete"),Ie(a,"success");else{a.m=6;try{var q=2<Ht(a)?a.g.statusText:""}catch{q=""}a.l=q+" ["+a.Z()+"]",ua(a)}}finally{hs(a)}}}}function hs(a,d){if(a.g){da(a);const g=a.g,E=a.v[0]?()=>{}:null;a.g=null,a.v=null,d||Ie(a,"ready");try{g.onreadystatechange=E}catch{}}}function da(a){a.I&&(c.clearTimeout(a.I),a.I=null)}t.isActive=function(){return!!this.g};function Ht(a){return a.g?a.g.readyState:0}t.Z=function(){try{return 2<Ht(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(a){if(this.g){var d=this.g.responseText;return a&&d.indexOf(a)==0&&(d=d.substring(a.length)),ye(d)}};function _n(a){try{if(!a.g)return null;if("response"in a.g)return a.g.response;switch(a.H){case"":case"text":return a.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in a.g)return a.g.mozResponseArrayBuffer}return null}catch{return null}}function qr(a){const d={};a=(a.g&&2<=Ht(a)&&a.g.getAllResponseHeaders()||"").split(`\r
`);for(let E=0;E<a.length;E++){if(z(a[E]))continue;var g=O(a[E]);const M=g[0];if(g=g[1],typeof g!="string")continue;g=g.trim();const q=d[M]||[];d[M]=q,q.push(g)}R(d,function(E){return E.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Zt(a,d,g){return g&&g.internalChannelParams&&g.internalChannelParams[a]||d}function eo(a){this.Aa=0,this.i=[],this.j=new ss,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Zt("failFast",!1,a),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Zt("baseRetryDelayMs",5e3,a),this.cb=Zt("retryDelaySeedMs",1e4,a),this.Wa=Zt("forwardChannelMaxRetries",2,a),this.wa=Zt("forwardChannelRequestTimeoutMs",2e4,a),this.pa=a&&a.xmlHttpFactory||void 0,this.Xa=a&&a.Tb||void 0,this.Ca=a&&a.useFetchStreams||!1,this.L=void 0,this.J=a&&a.supportsCrossDomainXhr||!1,this.K="",this.h=new xl(a&&a.concurrentRequestLimit),this.Da=new bi,this.P=a&&a.fastHandshake||!1,this.O=a&&a.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=a&&a.Rb||!1,a&&a.xa&&this.j.xa(),a&&a.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&a&&a.detectBufferingProxy||!1,this.ja=void 0,a&&a.longPollingTimeout&&0<a.longPollingTimeout&&(this.ja=a.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=eo.prototype,t.la=8,t.G=1,t.connect=function(a,d,g,E){pn(0),this.W=a,this.H=d||{},g&&E!==void 0&&(this.H.OSID=g,this.H.OAID=E),this.F=this.X,this.I=zl(this,null,this.W),In(this)};function fa(a){if(no(a),a.G==3){var d=a.U++,g=rr(a.I);if(dt(g,"SID",a.K),dt(g,"RID",d),dt(g,"TYPE","terminate"),Yn(a,g),d=new Er(a,a.j,d),d.L=2,d.v=ir(rr(g)),g=!1,c.navigator&&c.navigator.sendBeacon)try{g=c.navigator.sendBeacon(d.v.toString(),"")}catch{}!g&&c.Image&&(new Image().src=d.v,g=!0),g||(d.g=Si(d.j,null),d.g.ea(d.v)),d.F=Date.now(),Gs(d)}ga(a)}function to(a){a.g&&(fs(a),a.g.cancel(),a.g=null)}function no(a){to(a),a.u&&(c.clearTimeout(a.u),a.u=null),Vn(a),a.h.cancel(),a.s&&(typeof a.s=="number"&&c.clearTimeout(a.s),a.s=null)}function In(a){if(!Ml(a.h)&&!a.s){a.s=!0;var d=a.Ga;he||Dt(),Ve||(he(),Ve=!0),yt.add(d,a),a.B=0}}function Wr(a,d){return Fl(a.h)>=a.h.j-(a.s?1:0)?!1:a.s?(a.i=d.D.concat(a.i),!0):a.G==1||a.G==2||a.B>=(a.Va?0:a.Wa)?!1:(a.s=vi(y(a.Ga,a,d),or(a,a.B)),a.B++,!0)}t.Ga=function(a){if(this.s)if(this.s=null,this.G==1){if(!a){this.U=Math.floor(1e5*Math.random()),a=this.U++;const M=new Er(this,this.j,a);let q=this.o;if(this.S&&(q?(q=w(q),P(q,this.S)):q=this.S),this.m!==null||this.O||(M.H=q,q=null),this.P)e:{for(var d=0,g=0;g<this.i.length;g++){t:{var E=this.i[g];if("__data__"in E.map&&(E=E.map.__data__,typeof E=="string")){E=E.length;break t}E=void 0}if(E===void 0)break;if(d+=E,4096<d){d=g;break e}if(d===4096||g===this.i.length-1){d=g+1;break e}}d=1e3}else d=1e3;d=ro(this,M,d),g=rr(this.I),dt(g,"RID",a),dt(g,"CVER",22),this.D&&dt(g,"X-HTTP-Session-Id",this.D),Yn(this,g),q&&(this.O?d="headers="+encodeURIComponent(String(la(q)))+"&"+d:this.m&&Zs(g,this.m,q)),sa(this.h,M),this.Ua&&dt(g,"TYPE","init"),this.P?(dt(g,"$req",d),dt(g,"SID","null"),M.T=!0,ta(M,g,null)):ta(M,g,d),this.G=2}}else this.G==3&&(a?ds(this,a):this.i.length==0||Ml(this.h)||ds(this))};function ds(a,d){var g;d?g=d.l:g=a.U++;const E=rr(a.I);dt(E,"SID",a.K),dt(E,"RID",g),dt(E,"AID",a.T),Yn(a,E),a.m&&a.o&&Zs(E,a.m,a.o),g=new Er(a,a.j,g,a.B+1),a.m===null&&(g.H=a.o),d&&(a.i=d.D.concat(a.i)),d=ro(a,g,1e3),g.I=Math.round(.5*a.wa)+Math.round(.5*a.wa*Math.random()),sa(a.h,g),ta(g,E,d)}function Yn(a,d){a.H&&ge(a.H,function(g,E){dt(d,E,g)}),a.l&&Yu({},function(g,E){dt(d,E,g)})}function ro(a,d,g){g=Math.min(a.i.length,g);var E=a.l?y(a.l.Na,a.l,a):null;e:{var M=a.i;let q=-1;for(;;){const ce=["count="+g];q==-1?0<g?(q=M[0].g,ce.push("ofs="+q)):q=0:ce.push("ofs="+q);let at=!0;for(let Kt=0;Kt<g;Kt++){let We=M[Kt].g;const Lt=M[Kt].map;if(We-=q,0>We)q=Math.max(0,M[Kt].g-100),at=!1;else try{Hl(Lt,ce,"req"+We+"_")}catch{E&&E(Lt)}}if(at){E=ce.join("&");break e}}}return a=a.i.splice(0,g),d.D=a,E}function pa(a){if(!a.g&&!a.u){a.Y=1;var d=a.Fa;he||Dt(),Ve||(he(),Ve=!0),yt.add(d,a),a.v=0}}function br(a){return a.g||a.u||3<=a.v?!1:(a.Y++,a.u=vi(y(a.Fa,a),or(a,a.v)),a.v++,!0)}t.Fa=function(){if(this.u=null,ma(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var a=2*this.R;this.j.info("BP detection timer enabled: "+a),this.A=vi(y(this.ab,this),a)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,pn(10),to(this),ma(this))};function fs(a){a.A!=null&&(c.clearTimeout(a.A),a.A=null)}function ma(a){a.g=new Er(a,a.j,"rpc",a.Y),a.m===null&&(a.g.H=a.o),a.g.O=0;var d=rr(a.qa);dt(d,"RID","rpc"),dt(d,"SID",a.K),dt(d,"AID",a.T),dt(d,"CI",a.F?"0":"1"),!a.F&&a.ja&&dt(d,"TO",a.ja),dt(d,"TYPE","xmlhttp"),Yn(a,d),a.m&&a.o&&Zs(d,a.m,a.o),a.L&&(a.g.I=a.L);var g=a.g;a=a.ia,g.L=1,g.v=ir(rr(d)),g.m=null,g.P=!0,na(g,a)}t.Za=function(){this.C!=null&&(this.C=null,to(this),br(this),pn(19))};function Vn(a){a.C!=null&&(c.clearTimeout(a.C),a.C=null)}function Kl(a,d){var g=null;if(a.g==d){Vn(a),fs(a),a.g=null;var E=2}else if(ia(a.h,d))g=d.D,$l(a.h,d),E=1;else return;if(a.G!=0){if(d.o)if(E==1){g=d.m?d.m.length:0,d=Date.now()-d.F;var M=a.B;E=yr(),Ie(E,new nr(E,g)),In(a)}else pa(a);else if(M=d.s,M==3||M==0&&0<d.X||!(E==1&&Wr(a,d)||E==2&&br(a)))switch(g&&0<g.length&&(d=a.h,d.i=d.i.concat(g)),M){case 1:Xn(a,5);break;case 4:Xn(a,10);break;case 3:Xn(a,6);break;default:Xn(a,2)}}}function or(a,d){let g=a.Ta+Math.floor(Math.random()*a.cb);return a.isActive()||(g*=2),g*d}function Xn(a,d){if(a.j.info("Error code "+d),d==2){var g=y(a.fb,a),E=a.Xa;const M=!E;E=new Ur(E||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||Ys(E,"https"),ir(E),M?Js(E.toString(),g):Ai(E.toString(),g)}else pn(2);a.G=0,a.l&&a.l.sa(d),ga(a),no(a)}t.fb=function(a){a?(this.j.info("Successfully pinged google.com"),pn(2)):(this.j.info("Failed to ping google.com"),pn(1))};function ga(a){if(a.G=0,a.ka=[],a.l){const d=Ul(a.h);(d.length!=0||a.i.length!=0)&&(U(a.ka,d),U(a.ka,a.i),a.h.i.length=0,H(a.i),a.i.length=0),a.l.ra()}}function zl(a,d,g){var E=g instanceof Ur?rr(g):new Ur(g);if(E.g!="")d&&(E.g=d+"."+E.g),Xs(E,E.s);else{var M=c.location;E=M.protocol,d=d?d+"."+M.hostname:M.hostname,M=+M.port;var q=new Ur(null);E&&Ys(q,E),d&&(q.g=d),M&&Xs(q,M),g&&(q.l=g),E=q}return g=a.D,d=a.ya,g&&d&&dt(E,g,d),dt(E,"VER",a.la),Yn(a,E),E}function Si(a,d,g){if(d&&!a.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=a.Ca&&!a.pa?new bt(new Ii({eb:g})):new bt(a.pa),d.Ha(a.J),d}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function io(){}t=io.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Ir(){}Ir.prototype.g=function(a,d){return new Sn(a,d)};function Sn(a,d){pe.call(this),this.g=new eo(d),this.l=a,this.h=d&&d.messageUrlParams||null,a=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(a?a["X-Client-Protocol"]="webchannel":a={"X-Client-Protocol":"webchannel"}),this.g.o=a,a=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(a?a["X-WebChannel-Content-Type"]=d.messageContentType:a={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(a?a["X-WebChannel-Client-Profile"]=d.va:a={"X-WebChannel-Client-Profile":d.va}),this.g.S=a,(a=d&&d.Sb)&&!z(a)&&(this.g.m=a),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!z(d)&&(this.g.D=d,a=this.h,a!==null&&d in a&&(a=this.h,d in a&&delete a[d])),this.j=new Kr(this)}x(Sn,pe),Sn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Sn.prototype.close=function(){fa(this.g)},Sn.prototype.o=function(a){var d=this.g;if(typeof a=="string"){var g={};g.__data__=a,a=g}else this.u&&(g={},g.__data__=Ae(a),a=g);d.i.push(new Gu(d.Ya++,a)),d.G==3&&In(d)},Sn.prototype.N=function(){this.g.l=null,delete this.j,fa(this.g),delete this.g,Sn.aa.N.call(this)};function _a(a){Ct.call(this),a.__headers__&&(this.headers=a.__headers__,this.statusCode=a.__status__,delete a.__headers__,delete a.__status__);var d=a.__sm__;if(d){e:{for(const g in d){a=g;break e}a=void 0}(this.i=a)&&(a=this.i,d=d!==null&&a in d?d[a]:void 0),this.data=d}else this.data=a}x(_a,Ct);function va(){Bt.call(this),this.status=1}x(va,Bt);function Kr(a){this.g=a}x(Kr,io),Kr.prototype.ua=function(){Ie(this.g,"a")},Kr.prototype.ta=function(a){Ie(this.g,new _a(a))},Kr.prototype.sa=function(a){Ie(this.g,new va)},Kr.prototype.ra=function(){Ie(this.g,"b")},Ir.prototype.createWebChannel=Ir.prototype.g,Sn.prototype.send=Sn.prototype.o,Sn.prototype.open=Sn.prototype.m,Sn.prototype.close=Sn.prototype.close,hE=function(){return new Ir},uE=function(){return yr()},cE=Pt,Ed={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},$r.NO_ERROR=0,$r.TIMEOUT=8,$r.HTTP_ERROR=6,Rc=$r,Dl.COMPLETE="complete",lE=Dl,kt.EventType=tt,tt.OPEN="a",tt.CLOSE="b",tt.ERROR="c",tt.MESSAGE="d",pe.prototype.listen=pe.prototype.K,ka=kt,bt.prototype.listenOnce=bt.prototype.L,bt.prototype.getLastError=bt.prototype.Ka,bt.prototype.getLastErrorCode=bt.prototype.Ba,bt.prototype.getStatus=bt.prototype.Z,bt.prototype.getResponseJson=bt.prototype.Oa,bt.prototype.getResponseText=bt.prototype.oa,bt.prototype.send=bt.prototype.ea,bt.prototype.setWithCredentials=bt.prototype.Ha,aE=bt}).apply(typeof dc<"u"?dc:typeof self<"u"?self:typeof window<"u"?window:{});const Bg="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class En{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}En.UNAUTHENTICATED=new En(null),En.GOOGLE_CREDENTIALS=new En("google-credentials-uid"),En.FIRST_PARTY=new En("first-party-uid"),En.MOCK_USER=new En("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ko="11.0.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bs=new pf("@firebase/firestore");function fo(){return Bs.logLevel}function me(t,...e){if(Bs.logLevel<=ze.DEBUG){const n=e.map(Sf);Bs.debug(`Firestore (${Ko}): ${t}`,...n)}}function hi(t,...e){if(Bs.logLevel<=ze.ERROR){const n=e.map(Sf);Bs.error(`Firestore (${Ko}): ${t}`,...n)}}function Lo(t,...e){if(Bs.logLevel<=ze.WARN){const n=e.map(Sf);Bs.warn(`Firestore (${Ko}): ${t}`,...n)}}function Sf(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ke(t="Unexpected state"){const e=`FIRESTORE (${Ko}) INTERNAL ASSERTION FAILED: `+t;throw hi(e),new Error(e)}function ct(t,e){t||ke()}function $e(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class _e extends mi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class li{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dE{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class AN{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(En.UNAUTHENTICATED))}shutdown(){}}class bN{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class IN{constructor(e){this.t=e,this.currentUser=En.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){ct(this.o===void 0);let r=this.i;const i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve();let s=new li;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new li,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const u=s;e.enqueueRetryable(async()=>{await u.promise,await i(this.currentUser)})},c=u=>{me("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(u=>c(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?c(u):(me("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new li)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(me("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ct(typeof r.accessToken=="string"),new dE(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ct(e===null||typeof e=="string"),new En(e)}}class SN{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=En.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class RN{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new SN(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(En.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class CN{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class PN{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){ct(this.o===void 0);const r=s=>{s.error!=null&&me("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,me("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{me("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):me("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(ct(typeof n.token=="string"),this.R=n.token,new CN(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ON(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fE{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=ON(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function Qe(t,e){return t<e?-1:t>e?1:0}function xo(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qt{static now(){return Qt.fromMillis(Date.now())}static fromDate(e){return Qt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Qt(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new _e(Y.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new _e(Y.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new _e(Y.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new _e(Y.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Qe(this.nanoseconds,e.nanoseconds):Qe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Le{static fromTimestamp(e){return new Le(e)}static min(){return new Le(new Qt(0,0))}static max(){return new Le(new Qt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ul{constructor(e,n,r){n===void 0?n=0:n>e.length&&ke(),r===void 0?r=e.length-n:r>e.length-n&&ke(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return ul.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof ul?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class St extends ul{construct(e,n,r){return new St(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new _e(Y.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new St(n)}static emptyPath(){return new St([])}}const NN=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class dn extends ul{construct(e,n,r){return new dn(e,n,r)}static isValidIdentifier(e){return NN.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),dn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new dn(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new _e(Y.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const c=e[i];if(c==="\\"){if(i+1===e.length)throw new _e(Y.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new _e(Y.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else c==="`"?(o=!o,i++):c!=="."||o?(r+=c,i++):(s(),i++)}if(s(),o)throw new _e(Y.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new dn(n)}static emptyPath(){return new dn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Se{constructor(e){this.path=e}static fromPath(e){return new Se(St.fromString(e))}static fromName(e){return new Se(St.fromString(e).popFirst(5))}static empty(){return new Se(St.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&St.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return St.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Se(new St(e.slice()))}}function DN(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Le.fromTimestamp(r===1e9?new Qt(n+1,0):new Qt(n,r));return new Gi(i,Se.empty(),e)}function VN(t){return new Gi(t.readTime,t.key,-1)}class Gi{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Gi(Le.min(),Se.empty(),-1)}static max(){return new Gi(Le.max(),Se.empty(),-1)}}function kN(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Se.comparator(t.documentKey,e.documentKey),n!==0?n:Qe(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LN="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class xN{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zo(t){if(t.code!==Y.FAILED_PRECONDITION||t.message!==LN)throw t;me("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ke(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new G((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof G?n:G.resolve(n)}catch(n){return G.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):G.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):G.reject(n)}static resolve(e){return new G((n,r)=>{n(e)})}static reject(e){return new G((n,r)=>{r(e)})}static waitFor(e){return new G((n,r)=>{let i=0,s=0,o=!1;e.forEach(c=>{++i,c.next(()=>{++s,o&&s===i&&n()},u=>r(u))}),o=!0,s===i&&n()})}static or(e){let n=G.resolve(!1);for(const r of e)n=n.next(i=>i?G.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new G((r,i)=>{const s=e.length,o=new Array(s);let c=0;for(let u=0;u<s;u++){const h=u;n(e[h]).next(p=>{o[h]=p,++c,c===s&&r(o)},p=>i(p))}})}static doWhile(e,n){return new G((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function MN(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Go(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iu{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}Iu.oe=-1;function Su(t){return t==null}function Qc(t){return t===0&&1/t==-1/0}function FN(t){return typeof t=="number"&&Number.isInteger(t)&&!Qc(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $N(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=jg(e)),e=UN(t.get(n),e);return jg(e)}function UN(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const s=t.charAt(i);switch(s){case"\0":n+="";break;case"":n+="";break;default:n+=s}}return n}function jg(t){return t+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hg(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function rs(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function pE(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rt{constructor(e,n){this.comparator=e,this.root=n||un.EMPTY}insert(e,n){return new Rt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,un.BLACK,null,null))}remove(e){return new Rt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,un.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new fc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new fc(this.root,e,this.comparator,!1)}getReverseIterator(){return new fc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new fc(this.root,e,this.comparator,!0)}}class fc{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class un{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??un.RED,this.left=i??un.EMPTY,this.right=s??un.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new un(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return un.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return un.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,un.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,un.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ke();const e=this.left.check();if(e!==this.right.check())throw ke();return e+(this.isRed()?0:1)}}un.EMPTY=null,un.RED=!0,un.BLACK=!1;un.EMPTY=new class{constructor(){this.size=0}get key(){throw ke()}get value(){throw ke()}get color(){throw ke()}get left(){throw ke()}get right(){throw ke()}copy(e,n,r,i,s){return this}insert(e,n,r){return new un(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yt{constructor(e){this.comparator=e,this.data=new Rt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new qg(this.data.getIterator())}getIteratorFrom(e){return new qg(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Yt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Yt(this.comparator);return n.data=e,n}}class qg{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gn{constructor(e){this.fields=e,e.sort(dn.comparator)}static empty(){return new Gn([])}unionWith(e){let n=new Yt(dn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Gn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return xo(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new mE("Invalid base64 string: "+s):s}}(e);return new fn(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new fn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Qe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}fn.EMPTY_BYTE_STRING=new fn("");const BN=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Qi(t){if(ct(!!t),typeof t=="string"){let e=0;const n=BN.exec(t);if(ct(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ft(t.seconds),nanos:Ft(t.nanos)}}function Ft(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Yi(t){return typeof t=="string"?fn.fromBase64String(t):fn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rf(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Ru(t){const e=t.mapValue.fields.__previous_value__;return Rf(e)?Ru(e):e}function hl(t){const e=Qi(t.mapValue.fields.__local_write_time__.timestampValue);return new Qt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jN{constructor(e,n,r,i,s,o,c,u,h){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=c,this.longPollingOptions=u,this.useFetchStreams=h}}class dl{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new dl("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof dl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pc={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Xi(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Rf(t)?4:qN(t)?9007199254740991:HN(t)?10:11:ke()}function Fr(t,e){if(t===e)return!0;const n=Xi(t);if(n!==Xi(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return hl(t).isEqual(hl(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=Qi(i.timestampValue),c=Qi(s.timestampValue);return o.seconds===c.seconds&&o.nanos===c.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return Yi(i.bytesValue).isEqual(Yi(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return Ft(i.geoPointValue.latitude)===Ft(s.geoPointValue.latitude)&&Ft(i.geoPointValue.longitude)===Ft(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Ft(i.integerValue)===Ft(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=Ft(i.doubleValue),c=Ft(s.doubleValue);return o===c?Qc(o)===Qc(c):isNaN(o)&&isNaN(c)}return!1}(t,e);case 9:return xo(t.arrayValue.values||[],e.arrayValue.values||[],Fr);case 10:case 11:return function(i,s){const o=i.mapValue.fields||{},c=s.mapValue.fields||{};if(Hg(o)!==Hg(c))return!1;for(const u in o)if(o.hasOwnProperty(u)&&(c[u]===void 0||!Fr(o[u],c[u])))return!1;return!0}(t,e);default:return ke()}}function fl(t,e){return(t.values||[]).find(n=>Fr(n,e))!==void 0}function Mo(t,e){if(t===e)return 0;const n=Xi(t),r=Xi(e);if(n!==r)return Qe(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Qe(t.booleanValue,e.booleanValue);case 2:return function(s,o){const c=Ft(s.integerValue||s.doubleValue),u=Ft(o.integerValue||o.doubleValue);return c<u?-1:c>u?1:c===u?0:isNaN(c)?isNaN(u)?0:-1:1}(t,e);case 3:return Wg(t.timestampValue,e.timestampValue);case 4:return Wg(hl(t),hl(e));case 5:return Qe(t.stringValue,e.stringValue);case 6:return function(s,o){const c=Yi(s),u=Yi(o);return c.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const c=s.split("/"),u=o.split("/");for(let h=0;h<c.length&&h<u.length;h++){const p=Qe(c[h],u[h]);if(p!==0)return p}return Qe(c.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const c=Qe(Ft(s.latitude),Ft(o.latitude));return c!==0?c:Qe(Ft(s.longitude),Ft(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return Kg(t.arrayValue,e.arrayValue);case 10:return function(s,o){var c,u,h,p;const _=s.fields||{},y=o.fields||{},T=(c=_.value)===null||c===void 0?void 0:c.arrayValue,x=(u=y.value)===null||u===void 0?void 0:u.arrayValue,H=Qe(((h=T==null?void 0:T.values)===null||h===void 0?void 0:h.length)||0,((p=x==null?void 0:x.values)===null||p===void 0?void 0:p.length)||0);return H!==0?H:Kg(T,x)}(t.mapValue,e.mapValue);case 11:return function(s,o){if(s===pc.mapValue&&o===pc.mapValue)return 0;if(s===pc.mapValue)return 1;if(o===pc.mapValue)return-1;const c=s.fields||{},u=Object.keys(c),h=o.fields||{},p=Object.keys(h);u.sort(),p.sort();for(let _=0;_<u.length&&_<p.length;++_){const y=Qe(u[_],p[_]);if(y!==0)return y;const T=Mo(c[u[_]],h[p[_]]);if(T!==0)return T}return Qe(u.length,p.length)}(t.mapValue,e.mapValue);default:throw ke()}}function Wg(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Qe(t,e);const n=Qi(t),r=Qi(e),i=Qe(n.seconds,r.seconds);return i!==0?i:Qe(n.nanos,r.nanos)}function Kg(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=Mo(n[i],r[i]);if(s)return s}return Qe(n.length,r.length)}function Fo(t){return Td(t)}function Td(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Qi(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Yi(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Se.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=Td(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${Td(n.fields[o])}`;return i+"}"}(t.mapValue):ke()}function Cc(t){switch(Xi(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Ru(t);return e?16+Cc(e):16;case 5:return 2*t.stringValue.length;case 6:return Yi(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,s)=>i+Cc(s),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return rs(r.fields,(s,o)=>{i+=s.length+Cc(o)}),i}(t.mapValue);default:throw ke()}}function zg(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function wd(t){return!!t&&"integerValue"in t}function Cf(t){return!!t&&"arrayValue"in t}function Gg(t){return!!t&&"nullValue"in t}function Qg(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Pc(t){return!!t&&"mapValue"in t}function HN(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function Ga(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return rs(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Ga(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Ga(t.arrayValue.values[n]);return e}return Object.assign({},t)}function qN(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ln{constructor(e){this.value=e}static empty(){return new Ln({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Pc(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ga(n)}setAll(e){let n=dn.emptyPath(),r={},i=[];e.forEach((o,c)=>{if(!n.isImmediateParentOf(c)){const u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=c.popLast()}o?r[c.lastSegment()]=Ga(o):i.push(c.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());Pc(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Fr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Pc(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){rs(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new Ln(Ga(this.value))}}function gE(t){const e=[];return rs(t.fields,(n,r)=>{const i=new dn([n]);if(Pc(r)){const s=gE(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new Gn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class An{constructor(e,n,r,i,s,o,c){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=c}static newInvalidDocument(e){return new An(e,0,Le.min(),Le.min(),Le.min(),Ln.empty(),0)}static newFoundDocument(e,n,r,i){return new An(e,1,n,Le.min(),r,i,0)}static newNoDocument(e,n){return new An(e,2,n,Le.min(),Le.min(),Ln.empty(),0)}static newUnknownDocument(e,n){return new An(e,3,n,Le.min(),Le.min(),Ln.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Le.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ln.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ln.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Le.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof An&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new An(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yc{constructor(e,n){this.position=e,this.inclusive=n}}function Yg(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=Se.comparator(Se.fromName(o.referenceValue),n.key):r=Mo(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function Xg(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Fr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xc{constructor(e,n="asc"){this.field=e,this.dir=n}}function WN(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _E{}class Wt extends _E{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new zN(e,n,r):n==="array-contains"?new YN(e,r):n==="in"?new XN(e,r):n==="not-in"?new JN(e,r):n==="array-contains-any"?new ZN(e,r):new Wt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new GN(e,r):new QN(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Mo(n,this.value)):n!==null&&Xi(this.value)===Xi(n)&&this.matchesComparison(Mo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ke()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class _r extends _E{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new _r(e,n)}matches(e){return vE(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function vE(t){return t.op==="and"}function yE(t){return KN(t)&&vE(t)}function KN(t){for(const e of t.filters)if(e instanceof _r)return!1;return!0}function Ad(t){if(t instanceof Wt)return t.field.canonicalString()+t.op.toString()+Fo(t.value);if(yE(t))return t.filters.map(e=>Ad(e)).join(",");{const e=t.filters.map(n=>Ad(n)).join(",");return`${t.op}(${e})`}}function EE(t,e){return t instanceof Wt?function(r,i){return i instanceof Wt&&r.op===i.op&&r.field.isEqual(i.field)&&Fr(r.value,i.value)}(t,e):t instanceof _r?function(r,i){return i instanceof _r&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,c)=>s&&EE(o,i.filters[c]),!0):!1}(t,e):void ke()}function TE(t){return t instanceof Wt?function(n){return`${n.field.canonicalString()} ${n.op} ${Fo(n.value)}`}(t):t instanceof _r?function(n){return n.op.toString()+" {"+n.getFilters().map(TE).join(" ,")+"}"}(t):"Filter"}class zN extends Wt{constructor(e,n,r){super(e,n,r),this.key=Se.fromName(r.referenceValue)}matches(e){const n=Se.comparator(e.key,this.key);return this.matchesComparison(n)}}class GN extends Wt{constructor(e,n){super(e,"in",n),this.keys=wE("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class QN extends Wt{constructor(e,n){super(e,"not-in",n),this.keys=wE("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function wE(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>Se.fromName(r.referenceValue))}class YN extends Wt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Cf(n)&&fl(n.arrayValue,this.value)}}class XN extends Wt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&fl(this.value.arrayValue,n)}}class JN extends Wt{constructor(e,n){super(e,"not-in",n)}matches(e){if(fl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!fl(this.value.arrayValue,n)}}class ZN extends Wt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Cf(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>fl(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eD{constructor(e,n=null,r=[],i=[],s=null,o=null,c=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=c,this.ue=null}}function Jg(t,e=null,n=[],r=[],i=null,s=null,o=null){return new eD(t,e,n,r,i,s,o)}function Pf(t){const e=$e(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Ad(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),Su(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Fo(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Fo(r)).join(",")),e.ue=n}return e.ue}function Of(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!WN(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!EE(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Xg(t.startAt,e.startAt)&&Xg(t.endAt,e.endAt)}function bd(t){return Se.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sl{constructor(e,n=null,r=[],i=[],s=null,o="F",c=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=c,this.endAt=u,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function tD(t,e,n,r,i,s,o,c){return new Sl(t,e,n,r,i,s,o,c)}function Nf(t){return new Sl(t)}function Zg(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function AE(t){return t.collectionGroup!==null}function Qa(t){const e=$e(t);if(e.ce===null){e.ce=[];const n=new Set;for(const s of e.explicitOrderBy)e.ce.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let c=new Yt(dn.comparator);return o.filters.forEach(u=>{u.getFlattenedFilters().forEach(h=>{h.isInequality()&&(c=c.add(h.field))})}),c})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.ce.push(new Xc(s,r))}),n.has(dn.keyField().canonicalString())||e.ce.push(new Xc(dn.keyField(),r))}return e.ce}function Lr(t){const e=$e(t);return e.le||(e.le=nD(e,Qa(t))),e.le}function nD(t,e){if(t.limitType==="F")return Jg(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new Xc(i.field,s)});const n=t.endAt?new Yc(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Yc(t.startAt.position,t.startAt.inclusive):null;return Jg(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Id(t,e){const n=t.filters.concat([e]);return new Sl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Sd(t,e,n){return new Sl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Cu(t,e){return Of(Lr(t),Lr(e))&&t.limitType===e.limitType}function bE(t){return`${Pf(Lr(t))}|lt:${t.limitType}`}function po(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>TE(i)).join(", ")}]`),Su(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Fo(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Fo(i)).join(",")),`Target(${r})`}(Lr(t))}; limitType=${t.limitType})`}function Pu(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):Se.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of Qa(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,c,u){const h=Yg(o,c,u);return o.inclusive?h<=0:h<0}(r.startAt,Qa(r),i)||r.endAt&&!function(o,c,u){const h=Yg(o,c,u);return o.inclusive?h>=0:h>0}(r.endAt,Qa(r),i))}(t,e)}function rD(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function IE(t){return(e,n)=>{let r=!1;for(const i of Qa(t)){const s=iD(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function iD(t,e,n){const r=t.field.isKeyField()?Se.comparator(e.key,n.key):function(s,o,c){const u=o.data.field(s),h=c.data.field(s);return u!==null&&h!==null?Mo(u,h):ke()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ke()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ws{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){rs(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return pE(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sD=new Rt(Se.comparator);function di(){return sD}const SE=new Rt(Se.comparator);function La(...t){let e=SE;for(const n of t)e=e.insert(n.key,n);return e}function RE(t){let e=SE;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Ns(){return Ya()}function CE(){return Ya()}function Ya(){return new Ws(t=>t.toString(),(t,e)=>t.isEqual(e))}const oD=new Rt(Se.comparator),aD=new Yt(Se.comparator);function Ge(...t){let e=aD;for(const n of t)e=e.add(n);return e}const lD=new Yt(Qe);function cD(){return lD}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Df(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Qc(e)?"-0":e}}function PE(t){return{integerValue:""+t}}function uD(t,e){return FN(e)?PE(e):Df(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ou{constructor(){this._=void 0}}function hD(t,e,n){return t instanceof Jc?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&Rf(s)&&(s=Ru(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof $o?NE(t,e):t instanceof pl?DE(t,e):function(i,s){const o=OE(i,s),c=e_(o)+e_(i.Pe);return wd(o)&&wd(i.Pe)?PE(c):Df(i.serializer,c)}(t,e)}function dD(t,e,n){return t instanceof $o?NE(t,e):t instanceof pl?DE(t,e):n}function OE(t,e){return t instanceof Zc?function(r){return wd(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class Jc extends Ou{}class $o extends Ou{constructor(e){super(),this.elements=e}}function NE(t,e){const n=VE(e);for(const r of t.elements)n.some(i=>Fr(i,r))||n.push(r);return{arrayValue:{values:n}}}class pl extends Ou{constructor(e){super(),this.elements=e}}function DE(t,e){let n=VE(e);for(const r of t.elements)n=n.filter(i=>!Fr(i,r));return{arrayValue:{values:n}}}class Zc extends Ou{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function e_(t){return Ft(t.integerValue||t.doubleValue)}function VE(t){return Cf(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fD{constructor(e,n){this.field=e,this.transform=n}}function pD(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof $o&&i instanceof $o||r instanceof pl&&i instanceof pl?xo(r.elements,i.elements,Fr):r instanceof Zc&&i instanceof Zc?Fr(r.Pe,i.Pe):r instanceof Jc&&i instanceof Jc}(t.transform,e.transform)}class mD{constructor(e,n){this.version=e,this.transformResults=n}}class fr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new fr}static exists(e){return new fr(void 0,e)}static updateTime(e){return new fr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Oc(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Nu{}function kE(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Vf(t.key,fr.none()):new Rl(t.key,t.data,fr.none());{const n=t.data,r=Ln.empty();let i=new Yt(dn.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new is(t.key,r,new Gn(i.toArray()),fr.none())}}function gD(t,e,n){t instanceof Rl?function(i,s,o){const c=i.value.clone(),u=n_(i.fieldTransforms,s,o.transformResults);c.setAll(u),s.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(t,e,n):t instanceof is?function(i,s,o){if(!Oc(i.precondition,s))return void s.convertToUnknownDocument(o.version);const c=n_(i.fieldTransforms,s,o.transformResults),u=s.data;u.setAll(LE(i)),u.setAll(c),s.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Xa(t,e,n,r){return t instanceof Rl?function(s,o,c,u){if(!Oc(s.precondition,o))return c;const h=s.value.clone(),p=r_(s.fieldTransforms,u,o);return h.setAll(p),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),null}(t,e,n,r):t instanceof is?function(s,o,c,u){if(!Oc(s.precondition,o))return c;const h=r_(s.fieldTransforms,u,o),p=o.data;return p.setAll(LE(s)),p.setAll(h),o.convertToFoundDocument(o.version,p).setHasLocalMutations(),c===null?null:c.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(_=>_.field))}(t,e,n,r):function(s,o,c){return Oc(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):c}(t,e,n)}function _D(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=OE(r.transform,i||null);s!=null&&(n===null&&(n=Ln.empty()),n.set(r.field,s))}return n||null}function t_(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&xo(r,i,(s,o)=>pD(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Rl extends Nu{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class is extends Nu{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function LE(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function n_(t,e,n){const r=new Map;ct(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,c=e.data.field(s.field);r.set(s.field,dD(o,c,n[i]))}return r}function r_(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,hD(s,o,e))}return r}class Vf extends Nu{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class vD extends Nu{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yD{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&gD(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Xa(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Xa(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=CE();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let c=this.applyToLocalView(o,s.mutatedFields);c=n.has(i.key)?null:c;const u=kE(o,c);u!==null&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(Le.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ge())}isEqual(e){return this.batchId===e.batchId&&xo(this.mutations,e.mutations,(n,r)=>t_(n,r))&&xo(this.baseMutations,e.baseMutations,(n,r)=>t_(n,r))}}class kf{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){ct(e.mutations.length===r.length);let i=function(){return oD}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new kf(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ED{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TD{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qt,Je;function wD(t){switch(t){default:return ke();case Y.CANCELLED:case Y.UNKNOWN:case Y.DEADLINE_EXCEEDED:case Y.RESOURCE_EXHAUSTED:case Y.INTERNAL:case Y.UNAVAILABLE:case Y.UNAUTHENTICATED:return!1;case Y.INVALID_ARGUMENT:case Y.NOT_FOUND:case Y.ALREADY_EXISTS:case Y.PERMISSION_DENIED:case Y.FAILED_PRECONDITION:case Y.ABORTED:case Y.OUT_OF_RANGE:case Y.UNIMPLEMENTED:case Y.DATA_LOSS:return!0}}function xE(t){if(t===void 0)return hi("GRPC error has no .code"),Y.UNKNOWN;switch(t){case qt.OK:return Y.OK;case qt.CANCELLED:return Y.CANCELLED;case qt.UNKNOWN:return Y.UNKNOWN;case qt.DEADLINE_EXCEEDED:return Y.DEADLINE_EXCEEDED;case qt.RESOURCE_EXHAUSTED:return Y.RESOURCE_EXHAUSTED;case qt.INTERNAL:return Y.INTERNAL;case qt.UNAVAILABLE:return Y.UNAVAILABLE;case qt.UNAUTHENTICATED:return Y.UNAUTHENTICATED;case qt.INVALID_ARGUMENT:return Y.INVALID_ARGUMENT;case qt.NOT_FOUND:return Y.NOT_FOUND;case qt.ALREADY_EXISTS:return Y.ALREADY_EXISTS;case qt.PERMISSION_DENIED:return Y.PERMISSION_DENIED;case qt.FAILED_PRECONDITION:return Y.FAILED_PRECONDITION;case qt.ABORTED:return Y.ABORTED;case qt.OUT_OF_RANGE:return Y.OUT_OF_RANGE;case qt.UNIMPLEMENTED:return Y.UNIMPLEMENTED;case qt.DATA_LOSS:return Y.DATA_LOSS;default:return ke()}}(Je=qt||(qt={}))[Je.OK=0]="OK",Je[Je.CANCELLED=1]="CANCELLED",Je[Je.UNKNOWN=2]="UNKNOWN",Je[Je.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Je[Je.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Je[Je.NOT_FOUND=5]="NOT_FOUND",Je[Je.ALREADY_EXISTS=6]="ALREADY_EXISTS",Je[Je.PERMISSION_DENIED=7]="PERMISSION_DENIED",Je[Je.UNAUTHENTICATED=16]="UNAUTHENTICATED",Je[Je.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Je[Je.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Je[Je.ABORTED=10]="ABORTED",Je[Je.OUT_OF_RANGE=11]="OUT_OF_RANGE",Je[Je.UNIMPLEMENTED=12]="UNIMPLEMENTED",Je[Je.INTERNAL=13]="INTERNAL",Je[Je.UNAVAILABLE=14]="UNAVAILABLE",Je[Je.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AD(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bD=new Ls([4294967295,4294967295],0);function i_(t){const e=AD().encode(t),n=new oE;return n.update(e),new Uint8Array(n.digest())}function s_(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Ls([n,r],0),new Ls([i,s],0)]}class Lf{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new xa(`Invalid padding: ${n}`);if(r<0)throw new xa(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new xa(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new xa(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ie=Ls.fromNumber(this.Te)}Ee(e,n,r){let i=e.add(n.multiply(Ls.fromNumber(r)));return i.compare(bD)===1&&(i=new Ls([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Ie).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const n=i_(e),[r,i]=s_(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);if(!this.de(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new Lf(s,i,n);return r.forEach(c=>o.insert(c)),o}insert(e){if(this.Te===0)return;const n=i_(e),[r,i]=s_(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);this.Ae(o)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class xa extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Du{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Cl.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Du(Le.min(),i,new Rt(Qe),di(),Ge())}}class Cl{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Cl(r,n,Ge(),Ge(),Ge())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nc{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class ME{constructor(e,n){this.targetId=e,this.me=n}}class FE{constructor(e,n,r=fn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class o_{constructor(){this.fe=0,this.ge=a_(),this.pe=fn.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Ge(),n=Ge(),r=Ge();return this.ge.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:ke()}}),new Cl(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=a_()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,ct(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class ID{constructor(e){this.Le=e,this.Be=new Map,this.ke=di(),this.qe=mc(),this.Qe=mc(),this.Ke=new Rt(Qe)}$e(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.Ue(n,e.Ve):this.We(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.We(n,e.key,e.Ve)}Ge(e){this.forEachTarget(e,n=>{const r=this.ze(n);switch(e.state){case 0:this.je(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.je(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),r.De(e.resumeToken));break;default:ke()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.je(i)&&n(i)})}Je(e){const n=e.targetId,r=e.me.count,i=this.Ye(n);if(i){const s=i.target;if(bd(s))if(r===0){const o=new Se(s.path);this.We(n,o,An.newNoDocument(o,Le.min()))}else ct(r===1);else{const o=this.Ze(n);if(o!==r){const c=this.Xe(e),u=c?this.et(c,e,o):1;if(u!==0){this.He(n);const h=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,h)}}}}}Xe(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,c;try{o=Yi(r).toUint8Array()}catch(u){if(u instanceof mE)return Lo("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{c=new Lf(o,i,s)}catch(u){return Lo(u instanceof xa?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return c.Te===0?null:c}et(e,n,r){return n.me.count===r-this.rt(e,n.targetId)?0:2}rt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Le.nt(),c=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(c)||(this.We(n,s,null),i++)}),i}it(e){const n=new Map;this.Be.forEach((s,o)=>{const c=this.Ye(o);if(c){if(s.current&&bd(c.target)){const u=new Se(c.target.path);this.st(u).has(o)||this.ot(o,u)||this.We(o,u,An.newNoDocument(u,e))}s.be&&(n.set(o,s.ve()),s.Ce())}});let r=Ge();this.Qe.forEach((s,o)=>{let c=!0;o.forEachWhile(u=>{const h=this.Ye(u);return!h||h.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)}),c&&(r=r.add(s))}),this.ke.forEach((s,o)=>o.setReadTime(e));const i=new Du(e,n,this.Ke,this.ke,r);return this.ke=di(),this.qe=mc(),this.Qe=mc(),this.Ke=new Rt(Qe),i}Ue(e,n){if(!this.je(e))return;const r=this.ot(e,n.key)?2:0;this.ze(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e)),this.Qe=this.Qe.insert(n.key,this._t(n.key).add(e))}We(e,n,r){if(!this.je(e))return;const i=this.ze(e);this.ot(e,n)?i.Fe(n,1):i.Me(n),this.Qe=this.Qe.insert(n,this._t(n).delete(e)),this.Qe=this.Qe.insert(n,this._t(n).add(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ze(e){const n=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.ze(e).xe()}ze(e){let n=this.Be.get(e);return n||(n=new o_,this.Be.set(e,n)),n}_t(e){let n=this.Qe.get(e);return n||(n=new Yt(Qe),this.Qe=this.Qe.insert(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new Yt(Qe),this.qe=this.qe.insert(e,n)),n}je(e){const n=this.Ye(e)!==null;return n||me("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ut(e)}He(e){this.Be.set(e,new o_),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}ot(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function mc(){return new Rt(Se.comparator)}function a_(){return new Rt(Se.comparator)}const SD={asc:"ASCENDING",desc:"DESCENDING"},RD={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},CD={and:"AND",or:"OR"};class PD{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Rd(t,e){return t.useProto3Json||Su(e)?e:{value:e}}function eu(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function $E(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function OD(t,e){return eu(t,e.toTimestamp())}function xr(t){return ct(!!t),Le.fromTimestamp(function(n){const r=Qi(n);return new Qt(r.seconds,r.nanos)}(t))}function xf(t,e){return Cd(t,e).canonicalString()}function Cd(t,e){const n=function(i){return new St(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function UE(t){const e=St.fromString(t);return ct(WE(e)),e}function Pd(t,e){return xf(t.databaseId,e.path)}function qh(t,e){const n=UE(e);if(n.get(1)!==t.databaseId.projectId)throw new _e(Y.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new _e(Y.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Se(jE(n))}function BE(t,e){return xf(t.databaseId,e)}function ND(t){const e=UE(t);return e.length===4?St.emptyPath():jE(e)}function Od(t){return new St(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function jE(t){return ct(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function l_(t,e,n){return{name:Pd(t,e),fields:n.value.mapValue.fields}}function DD(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(h){return h==="NO_CHANGE"?0:h==="ADD"?1:h==="REMOVE"?2:h==="CURRENT"?3:h==="RESET"?4:ke()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(h,p){return h.useProto3Json?(ct(p===void 0||typeof p=="string"),fn.fromBase64String(p||"")):(ct(p===void 0||p instanceof Buffer||p instanceof Uint8Array),fn.fromUint8Array(p||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,c=o&&function(h){const p=h.code===void 0?Y.UNKNOWN:xE(h.code);return new _e(p,h.message||"")}(o);n=new FE(r,i,s,c||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=qh(t,r.document.name),s=xr(r.document.updateTime),o=r.document.createTime?xr(r.document.createTime):Le.min(),c=new Ln({mapValue:{fields:r.document.fields}}),u=An.newFoundDocument(i,s,o,c),h=r.targetIds||[],p=r.removedTargetIds||[];n=new Nc(h,p,u.key,u)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=qh(t,r.document),s=r.readTime?xr(r.readTime):Le.min(),o=An.newNoDocument(i,s),c=r.removedTargetIds||[];n=new Nc([],c,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=qh(t,r.document),s=r.removedTargetIds||[];n=new Nc([],s,i,null)}else{if(!("filter"in e))return ke();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new TD(i,s),c=r.targetId;n=new ME(c,o)}}return n}function VD(t,e){let n;if(e instanceof Rl)n={update:l_(t,e.key,e.value)};else if(e instanceof Vf)n={delete:Pd(t,e.key)};else if(e instanceof is)n={update:l_(t,e.key,e.data),updateMask:jD(e.fieldMask)};else{if(!(e instanceof vD))return ke();n={verify:Pd(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const c=o.transform;if(c instanceof Jc)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof $o)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof pl)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof Zc)return{fieldPath:o.field.canonicalString(),increment:c.Pe};throw ke()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:OD(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:ke()}(t,e.precondition)),n}function kD(t,e){return t&&t.length>0?(ct(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?xr(i.updateTime):xr(s);return o.isEqual(Le.min())&&(o=xr(s)),new mD(o,i.transformResults||[])}(n,e))):[]}function LD(t,e){return{documents:[BE(t,e.path)]}}function xD(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=BE(t,i);const s=function(h){if(h.length!==0)return qE(_r.create(h,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(h){if(h.length!==0)return h.map(p=>function(y){return{field:mo(y.field),direction:$D(y.dir)}}(p))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const c=Rd(t,e.limit);return c!==null&&(n.structuredQuery.limit=c),e.startAt&&(n.structuredQuery.startAt=function(h){return{before:h.inclusive,values:h.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(h){return{before:!h.inclusive,values:h.position}}(e.endAt)),{ct:n,parent:i}}function MD(t){let e=ND(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){ct(r===1);const p=n.from[0];p.allDescendants?i=p.collectionId:e=e.child(p.collectionId)}let s=[];n.where&&(s=function(_){const y=HE(_);return y instanceof _r&&yE(y)?y.getFilters():[y]}(n.where));let o=[];n.orderBy&&(o=function(_){return _.map(y=>function(x){return new Xc(go(x.field),function(U){switch(U){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(x.direction))}(y))}(n.orderBy));let c=null;n.limit&&(c=function(_){let y;return y=typeof _=="object"?_.value:_,Su(y)?null:y}(n.limit));let u=null;n.startAt&&(u=function(_){const y=!!_.before,T=_.values||[];return new Yc(T,y)}(n.startAt));let h=null;return n.endAt&&(h=function(_){const y=!_.before,T=_.values||[];return new Yc(T,y)}(n.endAt)),tD(e,i,o,s,c,"F",u,h)}function FD(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ke()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function HE(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=go(n.unaryFilter.field);return Wt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=go(n.unaryFilter.field);return Wt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=go(n.unaryFilter.field);return Wt.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=go(n.unaryFilter.field);return Wt.create(o,"!=",{nullValue:"NULL_VALUE"});default:return ke()}}(t):t.fieldFilter!==void 0?function(n){return Wt.create(go(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ke()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return _r.create(n.compositeFilter.filters.map(r=>HE(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return ke()}}(n.compositeFilter.op))}(t):ke()}function $D(t){return SD[t]}function UD(t){return RD[t]}function BD(t){return CD[t]}function mo(t){return{fieldPath:t.canonicalString()}}function go(t){return dn.fromServerFormat(t.fieldPath)}function qE(t){return t instanceof Wt?function(n){if(n.op==="=="){if(Qg(n.value))return{unaryFilter:{field:mo(n.field),op:"IS_NAN"}};if(Gg(n.value))return{unaryFilter:{field:mo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Qg(n.value))return{unaryFilter:{field:mo(n.field),op:"IS_NOT_NAN"}};if(Gg(n.value))return{unaryFilter:{field:mo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:mo(n.field),op:UD(n.op),value:n.value}}}(t):t instanceof _r?function(n){const r=n.getFilters().map(i=>qE(i));return r.length===1?r[0]:{compositeFilter:{op:BD(n.op),filters:r}}}(t):ke()}function jD(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function WE(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fi{constructor(e,n,r,i,s=Le.min(),o=Le.min(),c=fn.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=c,this.expectedCount=u}withSequenceNumber(e){return new Fi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Fi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Fi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Fi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HD{constructor(e){this.ht=e}}function qD(t){const e=MD({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Sd(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WD{constructor(){this.ln=new KD}addToCollectionParentIndex(e,n){return this.ln.add(n),G.resolve()}getCollectionParents(e,n){return G.resolve(this.ln.getEntries(n))}addFieldIndex(e,n){return G.resolve()}deleteFieldIndex(e,n){return G.resolve()}deleteAllFieldIndexes(e){return G.resolve()}createTargetIndexes(e,n){return G.resolve()}getDocumentsMatchingTarget(e,n){return G.resolve(null)}getIndexType(e,n){return G.resolve(0)}getFieldIndexes(e,n){return G.resolve([])}getNextCollectionGroupToUpdate(e){return G.resolve(null)}getMinOffset(e,n){return G.resolve(Gi.min())}getMinOffsetFromCollectionGroup(e,n){return G.resolve(Gi.min())}updateCollectionGroup(e,n,r){return G.resolve()}updateIndexEntries(e,n){return G.resolve()}}class KD{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Yt(St.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Yt(St.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class kn{static withCacheSize(e){return new kn(e,kn.DEFAULT_COLLECTION_PERCENTILE,kn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */kn.DEFAULT_COLLECTION_PERCENTILE=10,kn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,kn.DEFAULT=new kn(41943040,kn.DEFAULT_COLLECTION_PERCENTILE,kn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),kn.DISABLED=new kn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uo{constructor(e){this.kn=e}next(){return this.kn+=2,this.kn}static qn(){return new Uo(0)}static Qn(){return new Uo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u_([t,e],[n,r]){const i=Qe(t,n);return i===0?Qe(e,r):i}class zD{constructor(e){this.Gn=e,this.buffer=new Yt(u_),this.zn=0}jn(){return++this.zn}Hn(e){const n=[e,this.jn()];if(this.buffer.size<this.Gn)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();u_(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class GD{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Jn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Yn(6e4)}stop(){this.Jn&&(this.Jn.cancel(),this.Jn=null)}get started(){return this.Jn!==null}Yn(e){me("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Jn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Go(n)?me("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n):await zo(n)}await this.Yn(3e5)})}}class QD{constructor(e,n){this.Zn=e,this.params=n}calculateTargetCount(e,n){return this.Zn.Xn(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return G.resolve(Iu.oe);const r=new zD(n);return this.Zn.forEachTarget(e,i=>r.Hn(i.sequenceNumber)).next(()=>this.Zn.er(e,i=>r.Hn(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.Zn.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Zn.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(me("LruGarbageCollector","Garbage collection skipped; disabled"),G.resolve(c_)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(me("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),c_):this.tr(e,n))}getCacheSize(e){return this.Zn.getCacheSize(e)}tr(e,n){let r,i,s,o,c,u,h;const p=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(_=>(_>this.params.maximumSequenceNumbersToCollect?(me("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${_}`),i=this.params.maximumSequenceNumbersToCollect):i=_,o=Date.now(),this.nthSequenceNumber(e,i))).next(_=>(r=_,c=Date.now(),this.removeTargets(e,r,n))).next(_=>(s=_,u=Date.now(),this.removeOrphanedDocuments(e,r))).next(_=>(h=Date.now(),fo()<=ze.DEBUG&&me("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-p}ms
	Determined least recently used ${i} in `+(c-o)+`ms
	Removed ${s} targets in `+(u-c)+`ms
	Removed ${_} documents in `+(h-u)+`ms
Total Duration: ${h-p}ms`),G.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:_})))}}function YD(t,e){return new QD(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XD{constructor(){this.changes=new Ws(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,An.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?G.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JD{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZD{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Xa(r.mutation,i,Gn.empty(),Qt.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Ge()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Ge()){const i=Ns();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=La();return s.forEach((c,u)=>{o=o.insert(c,u.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Ns();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Ge()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,c)=>{n.set(o,c)})})}computeViews(e,n,r,i){let s=di();const o=Ya(),c=function(){return Ya()}();return n.forEach((u,h)=>{const p=r.get(h.key);i.has(h.key)&&(p===void 0||p.mutation instanceof is)?s=s.insert(h.key,h):p!==void 0?(o.set(h.key,p.mutation.getFieldMask()),Xa(p.mutation,h,p.mutation.getFieldMask(),Qt.now())):o.set(h.key,Gn.empty())}),this.recalculateAndSaveOverlays(e,s).next(u=>(u.forEach((h,p)=>o.set(h,p)),n.forEach((h,p)=>{var _;return c.set(h,new JD(p,(_=o.get(h))!==null&&_!==void 0?_:null))}),c))}recalculateAndSaveOverlays(e,n){const r=Ya();let i=new Rt((o,c)=>o-c),s=Ge();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const c of o)c.keys().forEach(u=>{const h=n.get(u);if(h===null)return;let p=r.get(u)||Gn.empty();p=c.applyToLocalView(h,p),r.set(u,p);const _=(i.get(c.batchId)||Ge()).add(u);i=i.insert(c.batchId,_)})}).next(()=>{const o=[],c=i.getReverseIterator();for(;c.hasNext();){const u=c.getNext(),h=u.key,p=u.value,_=CE();p.forEach(y=>{if(!s.has(y)){const T=kE(n.get(y),r.get(y));T!==null&&_.set(y,T),s=s.add(y)}}),o.push(this.documentOverlayCache.saveOverlays(e,h,_))}return G.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return Se.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):AE(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):G.resolve(Ns());let c=-1,u=s;return o.next(h=>G.forEach(h,(p,_)=>(c<_.largestBatchId&&(c=_.largestBatchId),s.get(p)?G.resolve():this.remoteDocumentCache.getEntry(e,p).next(y=>{u=u.insert(p,y)}))).next(()=>this.populateOverlays(e,h,s)).next(()=>this.computeViews(e,u,h,Ge())).next(p=>({batchId:c,changes:RE(p)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Se(n)).next(r=>{let i=La();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=La();return this.indexManager.getCollectionParents(e,s).next(c=>G.forEach(c,u=>{const h=function(_,y){return new Sl(y,null,_.explicitOrderBy.slice(),_.filters.slice(),_.limit,_.limitType,_.startAt,_.endAt)}(n,u.child(s));return this.getDocumentsMatchingCollectionQuery(e,h,r,i).next(p=>{p.forEach((_,y)=>{o=o.insert(_,y)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((u,h)=>{const p=h.getKey();o.get(p)===null&&(o=o.insert(p,An.newInvalidDocument(p)))});let c=La();return o.forEach((u,h)=>{const p=s.get(u);p!==void 0&&Xa(p.mutation,h,Gn.empty(),Qt.now()),Pu(n,h)&&(c=c.insert(u,h))}),c})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eV{constructor(e){this.serializer=e,this.Tr=new Map,this.Ir=new Map}getBundleMetadata(e,n){return G.resolve(this.Tr.get(n))}saveBundleMetadata(e,n){return this.Tr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:xr(i.createTime)}}(n)),G.resolve()}getNamedQuery(e,n){return G.resolve(this.Ir.get(n))}saveNamedQuery(e,n){return this.Ir.set(n.name,function(i){return{name:i.name,query:qD(i.bundledQuery),readTime:xr(i.readTime)}}(n)),G.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tV{constructor(){this.overlays=new Rt(Se.comparator),this.Er=new Map}getOverlay(e,n){return G.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Ns();return G.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.Tt(e,n,s)}),G.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Er.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Er.delete(r)),G.resolve()}getOverlaysForCollection(e,n,r){const i=Ns(),s=n.length+1,o=new Se(n.child("")),c=this.overlays.getIteratorFrom(o);for(;c.hasNext();){const u=c.getNext().value,h=u.getKey();if(!n.isPrefixOf(h.path))break;h.path.length===s&&u.largestBatchId>r&&i.set(u.getKey(),u)}return G.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Rt((h,p)=>h-p);const o=this.overlays.getIterator();for(;o.hasNext();){const h=o.getNext().value;if(h.getKey().getCollectionGroup()===n&&h.largestBatchId>r){let p=s.get(h.largestBatchId);p===null&&(p=Ns(),s=s.insert(h.largestBatchId,p)),p.set(h.getKey(),h)}}const c=Ns(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((h,p)=>c.set(h,p)),!(c.size()>=i)););return G.resolve(c)}Tt(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.Er.get(i.largestBatchId).delete(r.key);this.Er.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new ED(n,r));let s=this.Er.get(n);s===void 0&&(s=Ge(),this.Er.set(n,s)),this.Er.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nV{constructor(){this.sessionToken=fn.EMPTY_BYTE_STRING}getSessionToken(e){return G.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,G.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mf{constructor(){this.dr=new Yt(nn.Ar),this.Rr=new Yt(nn.Vr)}isEmpty(){return this.dr.isEmpty()}addReference(e,n){const r=new nn(e,n);this.dr=this.dr.add(r),this.Rr=this.Rr.add(r)}mr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.gr(new nn(e,n))}pr(e,n){e.forEach(r=>this.removeReference(r,n))}yr(e){const n=new Se(new St([])),r=new nn(n,e),i=new nn(n,e+1),s=[];return this.Rr.forEachInRange([r,i],o=>{this.gr(o),s.push(o.key)}),s}wr(){this.dr.forEach(e=>this.gr(e))}gr(e){this.dr=this.dr.delete(e),this.Rr=this.Rr.delete(e)}Sr(e){const n=new Se(new St([])),r=new nn(n,e),i=new nn(n,e+1);let s=Ge();return this.Rr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new nn(e,0),r=this.dr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class nn{constructor(e,n){this.key=e,this.br=n}static Ar(e,n){return Se.comparator(e.key,n.key)||Qe(e.br,n.br)}static Vr(e,n){return Qe(e.br,n.br)||Se.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rV{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Dr=1,this.vr=new Yt(nn.Ar)}checkEmpty(e){return G.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.Dr;this.Dr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new yD(s,n,r,i);this.mutationQueue.push(o);for(const c of i)this.vr=this.vr.add(new nn(c.key,s)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return G.resolve(o)}lookupMutationBatch(e,n){return G.resolve(this.Cr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.Fr(r),s=i<0?0:i;return G.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return G.resolve(this.mutationQueue.length===0?-1:this.Dr-1)}getAllMutationBatches(e){return G.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new nn(n,0),i=new nn(n,Number.POSITIVE_INFINITY),s=[];return this.vr.forEachInRange([r,i],o=>{const c=this.Cr(o.br);s.push(c)}),G.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Yt(Qe);return n.forEach(i=>{const s=new nn(i,0),o=new nn(i,Number.POSITIVE_INFINITY);this.vr.forEachInRange([s,o],c=>{r=r.add(c.br)})}),G.resolve(this.Mr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;Se.isDocumentKey(s)||(s=s.child(""));const o=new nn(new Se(s),0);let c=new Yt(Qe);return this.vr.forEachWhile(u=>{const h=u.key.path;return!!r.isPrefixOf(h)&&(h.length===i&&(c=c.add(u.br)),!0)},o),G.resolve(this.Mr(c))}Mr(e){const n=[];return e.forEach(r=>{const i=this.Cr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){ct(this.Or(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.vr;return G.forEach(n.mutations,i=>{const s=new nn(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.vr=r})}Ln(e){}containsKey(e,n){const r=new nn(n,0),i=this.vr.firstAfterOrEqual(r);return G.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,G.resolve()}Or(e,n){return this.Fr(e)}Fr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Cr(e){const n=this.Fr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iV{constructor(e){this.Nr=e,this.docs=function(){return new Rt(Se.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Nr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return G.resolve(r?r.document.mutableCopy():An.newInvalidDocument(n))}getEntries(e,n){let r=di();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():An.newInvalidDocument(i))}),G.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=di();const o=n.path,c=new Se(o.child("")),u=this.docs.getIteratorFrom(c);for(;u.hasNext();){const{key:h,value:{document:p}}=u.getNext();if(!o.isPrefixOf(h.path))break;h.path.length>o.length+1||kN(VN(p),r)<=0||(i.has(p.key)||Pu(n,p))&&(s=s.insert(p.key,p.mutableCopy()))}return G.resolve(s)}getAllFromCollectionGroup(e,n,r,i){ke()}Lr(e,n){return G.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new sV(this)}getSize(e){return G.resolve(this.size)}}class sV extends XD{constructor(e){super(),this.hr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.hr.addEntry(e,i)):this.hr.removeEntry(r)}),G.waitFor(n)}getFromCache(e,n){return this.hr.getEntry(e,n)}getAllFromCache(e,n){return this.hr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oV{constructor(e){this.persistence=e,this.Br=new Ws(n=>Pf(n),Of),this.lastRemoteSnapshotVersion=Le.min(),this.highestTargetId=0,this.kr=0,this.qr=new Mf,this.targetCount=0,this.Qr=Uo.qn()}forEachTarget(e,n){return this.Br.forEach((r,i)=>n(i)),G.resolve()}getLastRemoteSnapshotVersion(e){return G.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return G.resolve(this.kr)}allocateTargetId(e){return this.highestTargetId=this.Qr.next(),G.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.kr&&(this.kr=n),G.resolve()}Un(e){this.Br.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Qr=new Uo(n),this.highestTargetId=n),e.sequenceNumber>this.kr&&(this.kr=e.sequenceNumber)}addTargetData(e,n){return this.Un(n),this.targetCount+=1,G.resolve()}updateTargetData(e,n){return this.Un(n),G.resolve()}removeTargetData(e,n){return this.Br.delete(n.target),this.qr.yr(n.targetId),this.targetCount-=1,G.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Br.forEach((o,c)=>{c.sequenceNumber<=n&&r.get(c.targetId)===null&&(this.Br.delete(o),s.push(this.removeMatchingKeysForTargetId(e,c.targetId)),i++)}),G.waitFor(s).next(()=>i)}getTargetCount(e){return G.resolve(this.targetCount)}getTargetData(e,n){const r=this.Br.get(n)||null;return G.resolve(r)}addMatchingKeys(e,n,r){return this.qr.mr(n,r),G.resolve()}removeMatchingKeys(e,n,r){this.qr.pr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),G.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.qr.yr(n),G.resolve()}getMatchingKeysForTargetId(e,n){const r=this.qr.Sr(n);return G.resolve(r)}containsKey(e,n){return G.resolve(this.qr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KE{constructor(e,n){this.Kr={},this.overlays={},this.$r=new Iu(0),this.Ur=!1,this.Ur=!0,this.Wr=new nV,this.referenceDelegate=e(this),this.Gr=new oV(this),this.indexManager=new WD,this.remoteDocumentCache=function(i){return new iV(i)}(r=>this.referenceDelegate.zr(r)),this.serializer=new HD(n),this.jr=new eV(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Ur=!1,Promise.resolve()}get started(){return this.Ur}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new tV,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Kr[e.toKey()];return r||(r=new rV(n,this.referenceDelegate),this.Kr[e.toKey()]=r),r}getGlobalsCache(){return this.Wr}getTargetCache(){return this.Gr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.jr}runTransaction(e,n,r){me("MemoryPersistence","Starting transaction:",e);const i=new aV(this.$r.next());return this.referenceDelegate.Hr(),r(i).next(s=>this.referenceDelegate.Jr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Yr(e,n){return G.or(Object.values(this.Kr).map(r=>()=>r.containsKey(e,n)))}}class aV extends xN{constructor(e){super(),this.currentSequenceNumber=e}}class Ff{constructor(e){this.persistence=e,this.Zr=new Mf,this.Xr=null}static ei(e){return new Ff(e)}get ti(){if(this.Xr)return this.Xr;throw ke()}addReference(e,n,r){return this.Zr.addReference(r,n),this.ti.delete(r.toString()),G.resolve()}removeReference(e,n,r){return this.Zr.removeReference(r,n),this.ti.add(r.toString()),G.resolve()}markPotentiallyOrphaned(e,n){return this.ti.add(n.toString()),G.resolve()}removeTarget(e,n){this.Zr.yr(n.targetId).forEach(i=>this.ti.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.ti.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Hr(){this.Xr=new Set}Jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return G.forEach(this.ti,r=>{const i=Se.fromPath(r);return this.ni(e,i).next(s=>{s||n.removeEntry(i,Le.min())})}).next(()=>(this.Xr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ni(e,n).next(r=>{r?this.ti.delete(n.toString()):this.ti.add(n.toString())})}zr(e){return 0}ni(e,n){return G.or([()=>G.resolve(this.Zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Yr(e,n)])}}class tu{constructor(e,n){this.persistence=e,this.ri=new Ws(r=>$N(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=YD(this,n)}static ei(e,n){return new tu(e,n)}Hr(){}Jr(e){return G.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}Xn(e){const n=this.nr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}nr(e){let n=0;return this.er(e,r=>{n++}).next(()=>n)}er(e,n){return G.forEach(this.ri,(r,i)=>this.ir(e,r,i).next(s=>s?G.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.Lr(e,o=>this.ir(e,o,n).next(c=>{c||(r++,s.removeEntry(o,Le.min()))})).next(()=>s.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.ri.set(n,e.currentSequenceNumber),G.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.ri.set(r,e.currentSequenceNumber),G.resolve()}removeReference(e,n,r){return this.ri.set(r,e.currentSequenceNumber),G.resolve()}updateLimboDocument(e,n){return this.ri.set(n,e.currentSequenceNumber),G.resolve()}zr(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Cc(e.data.value)),n}ir(e,n,r){return G.or([()=>this.persistence.Yr(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.ri.get(n);return G.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $f{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Wi=r,this.Gi=i}static zi(e,n){let r=Ge(),i=Ge();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new $f(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lV{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cV{constructor(){this.ji=!1,this.Hi=!1,this.Ji=100,this.Yi=function(){return zR()?8:MN(bn())>0?6:4}()}initialize(e,n){this.Zi=e,this.indexManager=n,this.ji=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.Xi(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.es(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new lV;return this.ts(e,n,o).next(c=>{if(s.result=c,this.Hi)return this.ns(e,n,o,c.size)})}).next(()=>s.result)}ns(e,n,r,i){return r.documentReadCount<this.Ji?(fo()<=ze.DEBUG&&me("QueryEngine","SDK will not create cache indexes for query:",po(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Ji,"documents"),G.resolve()):(fo()<=ze.DEBUG&&me("QueryEngine","Query:",po(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Yi*i?(fo()<=ze.DEBUG&&me("QueryEngine","The SDK decides to create cache indexes for query:",po(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Lr(n))):G.resolve())}Xi(e,n){if(Zg(n))return G.resolve(null);let r=Lr(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Sd(n,null,"F"),r=Lr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=Ge(...s);return this.Zi.getDocuments(e,o).next(c=>this.indexManager.getMinOffset(e,r).next(u=>{const h=this.rs(n,c);return this.ss(n,h,o,u.readTime)?this.Xi(e,Sd(n,null,"F")):this.os(e,h,n,u)}))})))}es(e,n,r,i){return Zg(n)||i.isEqual(Le.min())?G.resolve(null):this.Zi.getDocuments(e,r).next(s=>{const o=this.rs(n,s);return this.ss(n,o,r,i)?G.resolve(null):(fo()<=ze.DEBUG&&me("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),po(n)),this.os(e,o,n,DN(i,-1)).next(c=>c))})}rs(e,n){let r=new Yt(IE(e));return n.forEach((i,s)=>{Pu(e,s)&&(r=r.add(s))}),r}ss(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}ts(e,n,r){return fo()<=ze.DEBUG&&me("QueryEngine","Using full collection scan to execute query:",po(n)),this.Zi.getDocumentsMatchingQuery(e,n,Gi.min(),r)}os(e,n,r,i){return this.Zi.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uV{constructor(e,n,r,i){this.persistence=e,this._s=n,this.serializer=i,this.us=new Rt(Qe),this.cs=new Ws(s=>Pf(s),Of),this.ls=new Map,this.hs=e.getRemoteDocumentCache(),this.Gr=e.getTargetCache(),this.jr=e.getBundleCache(),this.Ps(r)}Ps(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new ZD(this.hs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.hs.setIndexManager(this.indexManager),this._s.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.us))}}function hV(t,e,n,r){return new uV(t,e,n,r)}async function zE(t,e){const n=$e(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.Ps(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],c=[];let u=Ge();for(const h of i){o.push(h.batchId);for(const p of h.mutations)u=u.add(p.key)}for(const h of s){c.push(h.batchId);for(const p of h.mutations)u=u.add(p.key)}return n.localDocuments.getDocuments(r,u).next(h=>({Ts:h,removedBatchIds:o,addedBatchIds:c}))})})}function dV(t,e){const n=$e(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.hs.newChangeBuffer({trackRemovals:!0});return function(c,u,h,p){const _=h.batch,y=_.keys();let T=G.resolve();return y.forEach(x=>{T=T.next(()=>p.getEntry(u,x)).next(H=>{const U=h.docVersions.get(x);ct(U!==null),H.version.compareTo(U)<0&&(_.applyToRemoteDocument(H,h),H.isValidDocument()&&(H.setReadTime(h.commitVersion),p.addEntry(H)))})}),T.next(()=>c.mutationQueue.removeMutationBatch(u,_))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(c){let u=Ge();for(let h=0;h<c.mutationResults.length;++h)c.mutationResults[h].transformResults.length>0&&(u=u.add(c.batch.mutations[h].key));return u}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function GE(t){const e=$e(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Gr.getLastRemoteSnapshotVersion(n))}function fV(t,e){const n=$e(t),r=e.snapshotVersion;let i=n.us;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.hs.newChangeBuffer({trackRemovals:!0});i=n.us;const c=[];e.targetChanges.forEach((p,_)=>{const y=i.get(_);if(!y)return;c.push(n.Gr.removeMatchingKeys(s,p.removedDocuments,_).next(()=>n.Gr.addMatchingKeys(s,p.addedDocuments,_)));let T=y.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(_)!==null?T=T.withResumeToken(fn.EMPTY_BYTE_STRING,Le.min()).withLastLimboFreeSnapshotVersion(Le.min()):p.resumeToken.approximateByteSize()>0&&(T=T.withResumeToken(p.resumeToken,r)),i=i.insert(_,T),function(H,U,X){return H.resumeToken.approximateByteSize()===0||U.snapshotVersion.toMicroseconds()-H.snapshotVersion.toMicroseconds()>=3e8?!0:X.addedDocuments.size+X.modifiedDocuments.size+X.removedDocuments.size>0}(y,T,p)&&c.push(n.Gr.updateTargetData(s,T))});let u=di(),h=Ge();if(e.documentUpdates.forEach(p=>{e.resolvedLimboDocuments.has(p)&&c.push(n.persistence.referenceDelegate.updateLimboDocument(s,p))}),c.push(pV(s,o,e.documentUpdates).next(p=>{u=p.Is,h=p.Es})),!r.isEqual(Le.min())){const p=n.Gr.getLastRemoteSnapshotVersion(s).next(_=>n.Gr.setTargetsMetadata(s,s.currentSequenceNumber,r));c.push(p)}return G.waitFor(c).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,u,h)).next(()=>u)}).then(s=>(n.us=i,s))}function pV(t,e,n){let r=Ge(),i=Ge();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=di();return n.forEach((c,u)=>{const h=s.get(c);u.isFoundDocument()!==h.isFoundDocument()&&(i=i.add(c)),u.isNoDocument()&&u.version.isEqual(Le.min())?(e.removeEntry(c,u.readTime),o=o.insert(c,u)):!h.isValidDocument()||u.version.compareTo(h.version)>0||u.version.compareTo(h.version)===0&&h.hasPendingWrites?(e.addEntry(u),o=o.insert(c,u)):me("LocalStore","Ignoring outdated watch update for ",c,". Current version:",h.version," Watch version:",u.version)}),{Is:o,Es:i}})}function mV(t,e){const n=$e(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function gV(t,e){const n=$e(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Gr.getTargetData(r,e).next(s=>s?(i=s,G.resolve(i)):n.Gr.allocateTargetId(r).next(o=>(i=new Fi(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Gr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.us.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.us=n.us.insert(r.targetId,r),n.cs.set(e,r.targetId)),r})}async function Nd(t,e,n){const r=$e(t),i=r.us.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!Go(o))throw o;me("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.us=r.us.remove(e),r.cs.delete(i.target)}function h_(t,e,n){const r=$e(t);let i=Le.min(),s=Ge();return r.persistence.runTransaction("Execute query","readwrite",o=>function(u,h,p){const _=$e(u),y=_.cs.get(p);return y!==void 0?G.resolve(_.us.get(y)):_.Gr.getTargetData(h,p)}(r,o,Lr(e)).next(c=>{if(c)return i=c.lastLimboFreeSnapshotVersion,r.Gr.getMatchingKeysForTargetId(o,c.targetId).next(u=>{s=u})}).next(()=>r._s.getDocumentsMatchingQuery(o,e,n?i:Le.min(),n?s:Ge())).next(c=>(_V(r,rD(e),c),{documents:c,ds:s})))}function _V(t,e,n){let r=t.ls.get(e)||Le.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.ls.set(e,r)}class d_{constructor(){this.activeTargetIds=cD()}ps(e){this.activeTargetIds=this.activeTargetIds.add(e)}ys(e){this.activeTargetIds=this.activeTargetIds.delete(e)}gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class vV{constructor(){this._o=new d_,this.ao={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this._o.ps(e),this.ao[e]||"not-current"}updateQueryState(e,n,r){this.ao[e]=n}removeLocalQueryTarget(e){this._o.ys(e)}isLocalQueryTarget(e){return this._o.activeTargetIds.has(e)}clearQueryState(e){delete this.ao[e]}getAllActiveQueryTargets(){return this._o.activeTargetIds}isActiveQueryTarget(e){return this._o.activeTargetIds.has(e)}start(){return this._o=new d_,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yV{uo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f_{constructor(){this.co=()=>this.lo(),this.ho=()=>this.Po(),this.To=[],this.Io()}uo(e){this.To.push(e)}shutdown(){window.removeEventListener("online",this.co),window.removeEventListener("offline",this.ho)}Io(){window.addEventListener("online",this.co),window.addEventListener("offline",this.ho)}lo(){me("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.To)e(0)}Po(){me("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.To)e(1)}static p(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gc=null;function Wh(){return gc===null?gc=function(){return 268435456+Math.round(2147483648*Math.random())}():gc++,"0x"+gc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EV={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TV{constructor(e){this.Eo=e.Eo,this.Ao=e.Ao}Ro(e){this.Vo=e}mo(e){this.fo=e}po(e){this.yo=e}onMessage(e){this.wo=e}close(){this.Ao()}send(e){this.Eo(e)}So(){this.Vo()}bo(){this.fo()}Do(e){this.yo(e)}vo(e){this.wo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yn="WebChannelConnection";class wV extends class{get Co(){return!1}constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Fo=r+"://"+n.host,this.Mo=`projects/${i}/databases/${s}`,this.xo=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}Oo(n,r,i,s,o){const c=Wh(),u=this.No(n,r.toUriEncodedString());me("RestConnection",`Sending RPC '${n}' ${c}:`,u,i);const h={"google-cloud-resource-prefix":this.Mo,"x-goog-request-params":this.xo};return this.Lo(h,s,o),this.Bo(n,u,h,i).then(p=>(me("RestConnection",`Received RPC '${n}' ${c}: `,p),p),p=>{throw Lo("RestConnection",`RPC '${n}' ${c} failed with error: `,p,"url: ",u,"request:",i),p})}ko(n,r,i,s,o,c){return this.Oo(n,r,i,s,o)}Lo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ko}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}No(n,r){const i=EV[n];return`${this.Fo}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Bo(e,n,r,i){const s=Wh();return new Promise((o,c)=>{const u=new aE;u.setWithCredentials(!0),u.listenOnce(lE.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case Rc.NO_ERROR:const p=u.getResponseJson();me(yn,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(p)),o(p);break;case Rc.TIMEOUT:me(yn,`RPC '${e}' ${s} timed out`),c(new _e(Y.DEADLINE_EXCEEDED,"Request time out"));break;case Rc.HTTP_ERROR:const _=u.getStatus();if(me(yn,`RPC '${e}' ${s} failed with status:`,_,"response text:",u.getResponseText()),_>0){let y=u.getResponseJson();Array.isArray(y)&&(y=y[0]);const T=y==null?void 0:y.error;if(T&&T.status&&T.message){const x=function(U){const X=U.toLowerCase().replace(/_/g,"-");return Object.values(Y).indexOf(X)>=0?X:Y.UNKNOWN}(T.status);c(new _e(x,T.message))}else c(new _e(Y.UNKNOWN,"Server responded with status "+u.getStatus()))}else c(new _e(Y.UNAVAILABLE,"Connection failed."));break;default:ke()}}finally{me(yn,`RPC '${e}' ${s} completed.`)}});const h=JSON.stringify(i);me(yn,`RPC '${e}' ${s} sending request:`,i),u.send(n,"POST",h,r,15)})}qo(e,n,r){const i=Wh(),s=[this.Fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=hE(),c=uE(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},h=this.longPollingOptions.timeoutSeconds;h!==void 0&&(u.longPollingTimeout=Math.round(1e3*h)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Lo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;const p=s.join("");me(yn,`Creating RPC '${e}' stream ${i}: ${p}`,u);const _=o.createWebChannel(p,u);let y=!1,T=!1;const x=new TV({Eo:U=>{T?me(yn,`Not sending because RPC '${e}' stream ${i} is closed:`,U):(y||(me(yn,`Opening RPC '${e}' stream ${i} transport.`),_.open(),y=!0),me(yn,`RPC '${e}' stream ${i} sending:`,U),_.send(U))},Ao:()=>_.close()}),H=(U,X,z)=>{U.listen(X,ne=>{try{z(ne)}catch(ee){setTimeout(()=>{throw ee},0)}})};return H(_,ka.EventType.OPEN,()=>{T||(me(yn,`RPC '${e}' stream ${i} transport opened.`),x.So())}),H(_,ka.EventType.CLOSE,()=>{T||(T=!0,me(yn,`RPC '${e}' stream ${i} transport closed`),x.Do())}),H(_,ka.EventType.ERROR,U=>{T||(T=!0,Lo(yn,`RPC '${e}' stream ${i} transport errored:`,U),x.Do(new _e(Y.UNAVAILABLE,"The operation could not be completed")))}),H(_,ka.EventType.MESSAGE,U=>{var X;if(!T){const z=U.data[0];ct(!!z);const ne=z,ee=(ne==null?void 0:ne.error)||((X=ne[0])===null||X===void 0?void 0:X.error);if(ee){me(yn,`RPC '${e}' stream ${i} received error:`,ee);const be=ee.status;let ge=function(b){const P=qt[b];if(P!==void 0)return xE(P)}(be),R=ee.message;ge===void 0&&(ge=Y.INTERNAL,R="Unknown error status: "+be+" with message "+ee.message),T=!0,x.Do(new _e(ge,R)),_.close()}else me(yn,`RPC '${e}' stream ${i} received:`,z),x.vo(z)}}),H(c,cE.STAT_EVENT,U=>{U.stat===Ed.PROXY?me(yn,`RPC '${e}' stream ${i} detected buffering proxy`):U.stat===Ed.NOPROXY&&me(yn,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{x.bo()},0),x}}function Kh(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vu(t){return new PD(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QE{constructor(e,n,r=1e3,i=1.5,s=6e4){this.li=e,this.timerId=n,this.Qo=r,this.Ko=i,this.$o=s,this.Uo=0,this.Wo=null,this.Go=Date.now(),this.reset()}reset(){this.Uo=0}zo(){this.Uo=this.$o}jo(e){this.cancel();const n=Math.floor(this.Uo+this.Ho()),r=Math.max(0,Date.now()-this.Go),i=Math.max(0,n-r);i>0&&me("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Uo} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Wo=this.li.enqueueAfterDelay(this.timerId,i,()=>(this.Go=Date.now(),e())),this.Uo*=this.Ko,this.Uo<this.Qo&&(this.Uo=this.Qo),this.Uo>this.$o&&(this.Uo=this.$o)}Jo(){this.Wo!==null&&(this.Wo.skipDelay(),this.Wo=null)}cancel(){this.Wo!==null&&(this.Wo.cancel(),this.Wo=null)}Ho(){return(Math.random()-.5)*this.Uo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YE{constructor(e,n,r,i,s,o,c,u){this.li=e,this.Yo=r,this.Zo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=c,this.listener=u,this.state=0,this.Xo=0,this.e_=null,this.t_=null,this.stream=null,this.n_=0,this.r_=new QE(e,n)}i_(){return this.state===1||this.state===5||this.s_()}s_(){return this.state===2||this.state===3}start(){this.n_=0,this.state!==4?this.auth():this.o_()}async stop(){this.i_()&&await this.close(0)}__(){this.state=0,this.r_.reset()}a_(){this.s_()&&this.e_===null&&(this.e_=this.li.enqueueAfterDelay(this.Yo,6e4,()=>this.u_()))}c_(e){this.l_(),this.stream.send(e)}async u_(){if(this.s_())return this.close(0)}l_(){this.e_&&(this.e_.cancel(),this.e_=null)}h_(){this.t_&&(this.t_.cancel(),this.t_=null)}async close(e,n){this.l_(),this.h_(),this.r_.cancel(),this.Xo++,e!==4?this.r_.reset():n&&n.code===Y.RESOURCE_EXHAUSTED?(hi(n.toString()),hi("Using maximum backoff delay to prevent overloading the backend."),this.r_.zo()):n&&n.code===Y.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.P_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.po(n)}P_(){}auth(){this.state=1;const e=this.T_(this.Xo),n=this.Xo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Xo===n&&this.I_(r,i)},r=>{e(()=>{const i=new _e(Y.UNKNOWN,"Fetching auth token failed: "+r.message);return this.E_(i)})})}I_(e,n){const r=this.T_(this.Xo);this.stream=this.d_(e,n),this.stream.Ro(()=>{r(()=>this.listener.Ro())}),this.stream.mo(()=>{r(()=>(this.state=2,this.t_=this.li.enqueueAfterDelay(this.Zo,1e4,()=>(this.s_()&&(this.state=3),Promise.resolve())),this.listener.mo()))}),this.stream.po(i=>{r(()=>this.E_(i))}),this.stream.onMessage(i=>{r(()=>++this.n_==1?this.A_(i):this.onNext(i))})}o_(){this.state=5,this.r_.jo(async()=>{this.state=0,this.start()})}E_(e){return me("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}T_(e){return n=>{this.li.enqueueAndForget(()=>this.Xo===e?n():(me("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class AV extends YE{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}d_(e,n){return this.connection.qo("Listen",e,n)}A_(e){return this.onNext(e)}onNext(e){this.r_.reset();const n=DD(this.serializer,e),r=function(s){if(!("targetChange"in s))return Le.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?Le.min():o.readTime?xr(o.readTime):Le.min()}(e);return this.listener.R_(n,r)}V_(e){const n={};n.database=Od(this.serializer),n.addTarget=function(s,o){let c;const u=o.target;if(c=bd(u)?{documents:LD(s,u)}:{query:xD(s,u).ct},c.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){c.resumeToken=$E(s,o.resumeToken);const h=Rd(s,o.expectedCount);h!==null&&(c.expectedCount=h)}else if(o.snapshotVersion.compareTo(Le.min())>0){c.readTime=eu(s,o.snapshotVersion.toTimestamp());const h=Rd(s,o.expectedCount);h!==null&&(c.expectedCount=h)}return c}(this.serializer,e);const r=FD(this.serializer,e);r&&(n.labels=r),this.c_(n)}m_(e){const n={};n.database=Od(this.serializer),n.removeTarget=e,this.c_(n)}}class bV extends YE{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}get f_(){return this.n_>0}start(){this.lastStreamToken=void 0,super.start()}P_(){this.f_&&this.g_([])}d_(e,n){return this.connection.qo("Write",e,n)}A_(e){return ct(!!e.streamToken),this.lastStreamToken=e.streamToken,ct(!e.writeResults||e.writeResults.length===0),this.listener.p_()}onNext(e){ct(!!e.streamToken),this.lastStreamToken=e.streamToken,this.r_.reset();const n=kD(e.writeResults,e.commitTime),r=xr(e.commitTime);return this.listener.y_(r,n)}w_(){const e={};e.database=Od(this.serializer),this.c_(e)}g_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>VD(this.serializer,r))};this.c_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IV extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.S_=!1}b_(){if(this.S_)throw new _e(Y.FAILED_PRECONDITION,"The client has already been terminated.")}Oo(e,n,r,i){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Oo(e,Cd(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===Y.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new _e(Y.UNKNOWN,s.toString())})}ko(e,n,r,i,s){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,c])=>this.connection.ko(e,Cd(n,r),i,o,c,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===Y.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new _e(Y.UNKNOWN,o.toString())})}terminate(){this.S_=!0,this.connection.terminate()}}class SV{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.D_=0,this.v_=null,this.C_=!0}F_(){this.D_===0&&(this.M_("Unknown"),this.v_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.v_=null,this.x_("Backend didn't respond within 10 seconds."),this.M_("Offline"),Promise.resolve())))}O_(e){this.state==="Online"?this.M_("Unknown"):(this.D_++,this.D_>=1&&(this.N_(),this.x_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.M_("Offline")))}set(e){this.N_(),this.D_=0,e==="Online"&&(this.C_=!1),this.M_(e)}M_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}x_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.C_?(hi(n),this.C_=!1):me("OnlineStateTracker",n)}N_(){this.v_!==null&&(this.v_.cancel(),this.v_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RV{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.L_=[],this.B_=new Map,this.k_=new Set,this.q_=[],this.Q_=s,this.Q_.uo(o=>{r.enqueueAndForget(async()=>{Ks(this)&&(me("RemoteStore","Restarting streams for network reachability change."),await async function(u){const h=$e(u);h.k_.add(4),await Pl(h),h.K_.set("Unknown"),h.k_.delete(4),await ku(h)}(this))})}),this.K_=new SV(r,i)}}async function ku(t){if(Ks(t))for(const e of t.q_)await e(!0)}async function Pl(t){for(const e of t.q_)await e(!1)}function XE(t,e){const n=$e(t);n.B_.has(e.targetId)||(n.B_.set(e.targetId,e),Hf(n)?jf(n):Qo(n).s_()&&Bf(n,e))}function Uf(t,e){const n=$e(t),r=Qo(n);n.B_.delete(e),r.s_()&&JE(n,e),n.B_.size===0&&(r.s_()?r.a_():Ks(n)&&n.K_.set("Unknown"))}function Bf(t,e){if(t.U_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Le.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Qo(t).V_(e)}function JE(t,e){t.U_.xe(e),Qo(t).m_(e)}function jf(t){t.U_=new ID({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ut:e=>t.B_.get(e)||null,nt:()=>t.datastore.serializer.databaseId}),Qo(t).start(),t.K_.F_()}function Hf(t){return Ks(t)&&!Qo(t).i_()&&t.B_.size>0}function Ks(t){return $e(t).k_.size===0}function ZE(t){t.U_=void 0}async function CV(t){t.K_.set("Online")}async function PV(t){t.B_.forEach((e,n)=>{Bf(t,e)})}async function OV(t,e){ZE(t),Hf(t)?(t.K_.O_(e),jf(t)):t.K_.set("Unknown")}async function NV(t,e,n){if(t.K_.set("Online"),e instanceof FE&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const c of s.targetIds)i.B_.has(c)&&(await i.remoteSyncer.rejectListen(c,o),i.B_.delete(c),i.U_.removeTarget(c))}(t,e)}catch(r){me("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await nu(t,r)}else if(e instanceof Nc?t.U_.$e(e):e instanceof ME?t.U_.Je(e):t.U_.Ge(e),!n.isEqual(Le.min()))try{const r=await GE(t.localStore);n.compareTo(r)>=0&&await function(s,o){const c=s.U_.it(o);return c.targetChanges.forEach((u,h)=>{if(u.resumeToken.approximateByteSize()>0){const p=s.B_.get(h);p&&s.B_.set(h,p.withResumeToken(u.resumeToken,o))}}),c.targetMismatches.forEach((u,h)=>{const p=s.B_.get(u);if(!p)return;s.B_.set(u,p.withResumeToken(fn.EMPTY_BYTE_STRING,p.snapshotVersion)),JE(s,u);const _=new Fi(p.target,u,h,p.sequenceNumber);Bf(s,_)}),s.remoteSyncer.applyRemoteEvent(c)}(t,n)}catch(r){me("RemoteStore","Failed to raise snapshot:",r),await nu(t,r)}}async function nu(t,e,n){if(!Go(e))throw e;t.k_.add(1),await Pl(t),t.K_.set("Offline"),n||(n=()=>GE(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{me("RemoteStore","Retrying IndexedDB access"),await n(),t.k_.delete(1),await ku(t)})}function eT(t,e){return e().catch(n=>nu(t,n,e))}async function Lu(t){const e=$e(t),n=Ji(e);let r=e.L_.length>0?e.L_[e.L_.length-1].batchId:-1;for(;DV(e);)try{const i=await mV(e.localStore,r);if(i===null){e.L_.length===0&&n.a_();break}r=i.batchId,VV(e,i)}catch(i){await nu(e,i)}tT(e)&&nT(e)}function DV(t){return Ks(t)&&t.L_.length<10}function VV(t,e){t.L_.push(e);const n=Ji(t);n.s_()&&n.f_&&n.g_(e.mutations)}function tT(t){return Ks(t)&&!Ji(t).i_()&&t.L_.length>0}function nT(t){Ji(t).start()}async function kV(t){Ji(t).w_()}async function LV(t){const e=Ji(t);for(const n of t.L_)e.g_(n.mutations)}async function xV(t,e,n){const r=t.L_.shift(),i=kf.from(r,e,n);await eT(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Lu(t)}async function MV(t,e){e&&Ji(t).f_&&await async function(r,i){if(function(o){return wD(o)&&o!==Y.ABORTED}(i.code)){const s=r.L_.shift();Ji(r).__(),await eT(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await Lu(r)}}(t,e),tT(t)&&nT(t)}async function p_(t,e){const n=$e(t);n.asyncQueue.verifyOperationInProgress(),me("RemoteStore","RemoteStore received new credentials");const r=Ks(n);n.k_.add(3),await Pl(n),r&&n.K_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.k_.delete(3),await ku(n)}async function FV(t,e){const n=$e(t);e?(n.k_.delete(2),await ku(n)):e||(n.k_.add(2),await Pl(n),n.K_.set("Unknown"))}function Qo(t){return t.W_||(t.W_=function(n,r,i){const s=$e(n);return s.b_(),new AV(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Ro:CV.bind(null,t),mo:PV.bind(null,t),po:OV.bind(null,t),R_:NV.bind(null,t)}),t.q_.push(async e=>{e?(t.W_.__(),Hf(t)?jf(t):t.K_.set("Unknown")):(await t.W_.stop(),ZE(t))})),t.W_}function Ji(t){return t.G_||(t.G_=function(n,r,i){const s=$e(n);return s.b_(),new bV(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Ro:()=>Promise.resolve(),mo:kV.bind(null,t),po:MV.bind(null,t),p_:LV.bind(null,t),y_:xV.bind(null,t)}),t.q_.push(async e=>{e?(t.G_.__(),await Lu(t)):(await t.G_.stop(),t.L_.length>0&&(me("RemoteStore",`Stopping write stream with ${t.L_.length} pending writes`),t.L_=[]))})),t.G_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qf{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new li,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,c=new qf(e,n,o,i,s);return c.start(r),c}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new _e(Y.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Wf(t,e){if(hi("AsyncQueue",`${e}: ${t}`),Go(t))return new _e(Y.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ro{static emptySet(e){return new Ro(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||Se.comparator(n.key,r.key):(n,r)=>Se.comparator(n.key,r.key),this.keyedMap=La(),this.sortedSet=new Rt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Ro)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Ro;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m_{constructor(){this.z_=new Rt(Se.comparator)}track(e){const n=e.doc.key,r=this.z_.get(n);r?e.type!==0&&r.type===3?this.z_=this.z_.insert(n,e):e.type===3&&r.type!==1?this.z_=this.z_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.z_=this.z_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.z_=this.z_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.z_=this.z_.remove(n):e.type===1&&r.type===2?this.z_=this.z_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.z_=this.z_.insert(n,{type:2,doc:e.doc}):ke():this.z_=this.z_.insert(n,e)}j_(){const e=[];return this.z_.inorderTraversal((n,r)=>{e.push(r)}),e}}class Bo{constructor(e,n,r,i,s,o,c,u,h){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=c,this.excludesMetadataChanges=u,this.hasCachedResults=h}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(c=>{o.push({type:0,doc:c})}),new Bo(e,n,Ro.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Cu(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $V{constructor(){this.H_=void 0,this.J_=[]}Y_(){return this.J_.some(e=>e.Z_())}}class UV{constructor(){this.queries=g_(),this.onlineState="Unknown",this.X_=new Set}terminate(){(function(n,r){const i=$e(n),s=i.queries;i.queries=g_(),s.forEach((o,c)=>{for(const u of c.J_)u.onError(r)})})(this,new _e(Y.ABORTED,"Firestore shutting down"))}}function g_(){return new Ws(t=>bE(t),Cu)}async function rT(t,e){const n=$e(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.Y_()&&e.Z_()&&(r=2):(s=new $V,r=e.Z_()?0:1);try{switch(r){case 0:s.H_=await n.onListen(i,!0);break;case 1:s.H_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const c=Wf(o,`Initialization of query '${po(e.query)}' failed`);return void e.onError(c)}n.queries.set(i,s),s.J_.push(e),e.ea(n.onlineState),s.H_&&e.ta(s.H_)&&Kf(n)}async function iT(t,e){const n=$e(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const o=s.J_.indexOf(e);o>=0&&(s.J_.splice(o,1),s.J_.length===0?i=e.Z_()?0:1:!s.Y_()&&e.Z_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function BV(t,e){const n=$e(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const c of o.J_)c.ta(i)&&(r=!0);o.H_=i}}r&&Kf(n)}function jV(t,e,n){const r=$e(t),i=r.queries.get(e);if(i)for(const s of i.J_)s.onError(n);r.queries.delete(e)}function Kf(t){t.X_.forEach(e=>{e.next()})}var Dd,__;(__=Dd||(Dd={})).na="default",__.Cache="cache";class sT{constructor(e,n,r){this.query=e,this.ra=n,this.ia=!1,this.sa=null,this.onlineState="Unknown",this.options=r||{}}ta(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Bo(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ia?this.oa(e)&&(this.ra.next(e),n=!0):this._a(e,this.onlineState)&&(this.aa(e),n=!0),this.sa=e,n}onError(e){this.ra.error(e)}ea(e){this.onlineState=e;let n=!1;return this.sa&&!this.ia&&this._a(this.sa,e)&&(this.aa(this.sa),n=!0),n}_a(e,n){if(!e.fromCache||!this.Z_())return!0;const r=n!=="Offline";return(!this.options.ua||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}oa(e){if(e.docChanges.length>0)return!0;const n=this.sa&&this.sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}aa(e){e=Bo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ia=!0,this.ra.next(e)}Z_(){return this.options.source!==Dd.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oT{constructor(e){this.key=e}}class aT{constructor(e){this.key=e}}class HV{constructor(e,n){this.query=e,this.da=n,this.Aa=null,this.hasCachedResults=!1,this.current=!1,this.Ra=Ge(),this.mutatedKeys=Ge(),this.Va=IE(e),this.ma=new Ro(this.Va)}get fa(){return this.da}ga(e,n){const r=n?n.pa:new m_,i=n?n.ma:this.ma;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,c=!1;const u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,h=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((p,_)=>{const y=i.get(p),T=Pu(this.query,_)?_:null,x=!!y&&this.mutatedKeys.has(y.key),H=!!T&&(T.hasLocalMutations||this.mutatedKeys.has(T.key)&&T.hasCommittedMutations);let U=!1;y&&T?y.data.isEqual(T.data)?x!==H&&(r.track({type:3,doc:T}),U=!0):this.ya(y,T)||(r.track({type:2,doc:T}),U=!0,(u&&this.Va(T,u)>0||h&&this.Va(T,h)<0)&&(c=!0)):!y&&T?(r.track({type:0,doc:T}),U=!0):y&&!T&&(r.track({type:1,doc:y}),U=!0,(u||h)&&(c=!0)),U&&(T?(o=o.add(T),s=H?s.add(p):s.delete(p)):(o=o.delete(p),s=s.delete(p)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const p=this.query.limitType==="F"?o.last():o.first();o=o.delete(p.key),s=s.delete(p.key),r.track({type:1,doc:p})}return{ma:o,pa:r,ss:c,mutatedKeys:s}}ya(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.ma;this.ma=e.ma,this.mutatedKeys=e.mutatedKeys;const o=e.pa.j_();o.sort((p,_)=>function(T,x){const H=U=>{switch(U){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ke()}};return H(T)-H(x)}(p.type,_.type)||this.Va(p.doc,_.doc)),this.wa(r),i=i!=null&&i;const c=n&&!i?this.Sa():[],u=this.Ra.size===0&&this.current&&!i?1:0,h=u!==this.Aa;return this.Aa=u,o.length!==0||h?{snapshot:new Bo(this.query,e.ma,s,o,e.mutatedKeys,u===0,h,!1,!!r&&r.resumeToken.approximateByteSize()>0),ba:c}:{ba:c}}ea(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ma:this.ma,pa:new m_,mutatedKeys:this.mutatedKeys,ss:!1},!1)):{ba:[]}}Da(e){return!this.da.has(e)&&!!this.ma.has(e)&&!this.ma.get(e).hasLocalMutations}wa(e){e&&(e.addedDocuments.forEach(n=>this.da=this.da.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.da=this.da.delete(n)),this.current=e.current)}Sa(){if(!this.current)return[];const e=this.Ra;this.Ra=Ge(),this.ma.forEach(r=>{this.Da(r.key)&&(this.Ra=this.Ra.add(r.key))});const n=[];return e.forEach(r=>{this.Ra.has(r)||n.push(new aT(r))}),this.Ra.forEach(r=>{e.has(r)||n.push(new oT(r))}),n}va(e){this.da=e.ds,this.Ra=Ge();const n=this.ga(e.documents);return this.applyChanges(n,!0)}Ca(){return Bo.fromInitialDocuments(this.query,this.ma,this.mutatedKeys,this.Aa===0,this.hasCachedResults)}}class qV{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class WV{constructor(e){this.key=e,this.Fa=!1}}class KV{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Ma={},this.xa=new Ws(c=>bE(c),Cu),this.Oa=new Map,this.Na=new Set,this.La=new Rt(Se.comparator),this.Ba=new Map,this.ka=new Mf,this.qa={},this.Qa=new Map,this.Ka=Uo.Qn(),this.onlineState="Unknown",this.$a=void 0}get isPrimaryClient(){return this.$a===!0}}async function zV(t,e,n=!0){const r=fT(t);let i;const s=r.xa.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Ca()):i=await lT(r,e,n,!0),i}async function GV(t,e){const n=fT(t);await lT(n,e,!0,!1)}async function lT(t,e,n,r){const i=await gV(t.localStore,Lr(e)),s=i.targetId,o=t.sharedClientState.addLocalQueryTarget(s,n);let c;return r&&(c=await QV(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&XE(t.remoteStore,i),c}async function QV(t,e,n,r,i){t.Ua=(_,y,T)=>async function(H,U,X,z){let ne=U.view.ga(X);ne.ss&&(ne=await h_(H.localStore,U.query,!1).then(({documents:R})=>U.view.ga(R,ne)));const ee=z&&z.targetChanges.get(U.targetId),be=z&&z.targetMismatches.get(U.targetId)!=null,ge=U.view.applyChanges(ne,H.isPrimaryClient,ee,be);return y_(H,U.targetId,ge.ba),ge.snapshot}(t,_,y,T);const s=await h_(t.localStore,e,!0),o=new HV(e,s.ds),c=o.ga(s.documents),u=Cl.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),h=o.applyChanges(c,t.isPrimaryClient,u);y_(t,n,h.ba);const p=new qV(e,n,o);return t.xa.set(e,p),t.Oa.has(n)?t.Oa.get(n).push(e):t.Oa.set(n,[e]),h.snapshot}async function YV(t,e,n){const r=$e(t),i=r.xa.get(e),s=r.Oa.get(i.targetId);if(s.length>1)return r.Oa.set(i.targetId,s.filter(o=>!Cu(o,e))),void r.xa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Nd(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Uf(r.remoteStore,i.targetId),Vd(r,i.targetId)}).catch(zo)):(Vd(r,i.targetId),await Nd(r.localStore,i.targetId,!0))}async function XV(t,e){const n=$e(t),r=n.xa.get(e),i=n.Oa.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Uf(n.remoteStore,r.targetId))}async function JV(t,e,n){const r=sk(t);try{const i=await function(o,c){const u=$e(o),h=Qt.now(),p=c.reduce((T,x)=>T.add(x.key),Ge());let _,y;return u.persistence.runTransaction("Locally write mutations","readwrite",T=>{let x=di(),H=Ge();return u.hs.getEntries(T,p).next(U=>{x=U,x.forEach((X,z)=>{z.isValidDocument()||(H=H.add(X))})}).next(()=>u.localDocuments.getOverlayedDocuments(T,x)).next(U=>{_=U;const X=[];for(const z of c){const ne=_D(z,_.get(z.key).overlayedDocument);ne!=null&&X.push(new is(z.key,ne,gE(ne.value.mapValue),fr.exists(!0)))}return u.mutationQueue.addMutationBatch(T,h,X,c)}).next(U=>{y=U;const X=U.applyToLocalDocumentSet(_,H);return u.documentOverlayCache.saveOverlays(T,U.batchId,X)})}).then(()=>({batchId:y.batchId,changes:RE(_)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,c,u){let h=o.qa[o.currentUser.toKey()];h||(h=new Rt(Qe)),h=h.insert(c,u),o.qa[o.currentUser.toKey()]=h}(r,i.batchId,n),await Ol(r,i.changes),await Lu(r.remoteStore)}catch(i){const s=Wf(i,"Failed to persist write");n.reject(s)}}async function cT(t,e){const n=$e(t);try{const r=await fV(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Ba.get(s);o&&(ct(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.Fa=!0:i.modifiedDocuments.size>0?ct(o.Fa):i.removedDocuments.size>0&&(ct(o.Fa),o.Fa=!1))}),await Ol(n,r,e)}catch(r){await zo(r)}}function v_(t,e,n){const r=$e(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.xa.forEach((s,o)=>{const c=o.view.ea(e);c.snapshot&&i.push(c.snapshot)}),function(o,c){const u=$e(o);u.onlineState=c;let h=!1;u.queries.forEach((p,_)=>{for(const y of _.J_)y.ea(c)&&(h=!0)}),h&&Kf(u)}(r.eventManager,e),i.length&&r.Ma.R_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function ZV(t,e,n){const r=$e(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Ba.get(e),s=i&&i.key;if(s){let o=new Rt(Se.comparator);o=o.insert(s,An.newNoDocument(s,Le.min()));const c=Ge().add(s),u=new Du(Le.min(),new Map,new Rt(Qe),o,c);await cT(r,u),r.La=r.La.remove(s),r.Ba.delete(e),zf(r)}else await Nd(r.localStore,e,!1).then(()=>Vd(r,e,n)).catch(zo)}async function ek(t,e){const n=$e(t),r=e.batch.batchId;try{const i=await dV(n.localStore,e);hT(n,r,null),uT(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Ol(n,i)}catch(i){await zo(i)}}async function tk(t,e,n){const r=$e(t);try{const i=await function(o,c){const u=$e(o);return u.persistence.runTransaction("Reject batch","readwrite-primary",h=>{let p;return u.mutationQueue.lookupMutationBatch(h,c).next(_=>(ct(_!==null),p=_.keys(),u.mutationQueue.removeMutationBatch(h,_))).next(()=>u.mutationQueue.performConsistencyCheck(h)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(h,p,c)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(h,p)).next(()=>u.localDocuments.getDocuments(h,p))})}(r.localStore,e);hT(r,e,n),uT(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Ol(r,i)}catch(i){await zo(i)}}function uT(t,e){(t.Qa.get(e)||[]).forEach(n=>{n.resolve()}),t.Qa.delete(e)}function hT(t,e,n){const r=$e(t);let i=r.qa[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.qa[r.currentUser.toKey()]=i}}function Vd(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Oa.get(e))t.xa.delete(r),n&&t.Ma.Wa(r,n);t.Oa.delete(e),t.isPrimaryClient&&t.ka.yr(e).forEach(r=>{t.ka.containsKey(r)||dT(t,r)})}function dT(t,e){t.Na.delete(e.path.canonicalString());const n=t.La.get(e);n!==null&&(Uf(t.remoteStore,n),t.La=t.La.remove(e),t.Ba.delete(n),zf(t))}function y_(t,e,n){for(const r of n)r instanceof oT?(t.ka.addReference(r.key,e),nk(t,r)):r instanceof aT?(me("SyncEngine","Document no longer in limbo: "+r.key),t.ka.removeReference(r.key,e),t.ka.containsKey(r.key)||dT(t,r.key)):ke()}function nk(t,e){const n=e.key,r=n.path.canonicalString();t.La.get(n)||t.Na.has(r)||(me("SyncEngine","New document in limbo: "+n),t.Na.add(r),zf(t))}function zf(t){for(;t.Na.size>0&&t.La.size<t.maxConcurrentLimboResolutions;){const e=t.Na.values().next().value;t.Na.delete(e);const n=new Se(St.fromString(e)),r=t.Ka.next();t.Ba.set(r,new WV(n)),t.La=t.La.insert(n,r),XE(t.remoteStore,new Fi(Lr(Nf(n.path)),r,"TargetPurposeLimboResolution",Iu.oe))}}async function Ol(t,e,n){const r=$e(t),i=[],s=[],o=[];r.xa.isEmpty()||(r.xa.forEach((c,u)=>{o.push(r.Ua(u,e,n).then(h=>{var p;if((h||n)&&r.isPrimaryClient){const _=h?!h.fromCache:(p=n==null?void 0:n.targetChanges.get(u.targetId))===null||p===void 0?void 0:p.current;r.sharedClientState.updateQueryState(u.targetId,_?"current":"not-current")}if(h){i.push(h);const _=$f.zi(u.targetId,h);s.push(_)}}))}),await Promise.all(o),r.Ma.R_(i),await async function(u,h){const p=$e(u);try{await p.persistence.runTransaction("notifyLocalViewChanges","readwrite",_=>G.forEach(h,y=>G.forEach(y.Wi,T=>p.persistence.referenceDelegate.addReference(_,y.targetId,T)).next(()=>G.forEach(y.Gi,T=>p.persistence.referenceDelegate.removeReference(_,y.targetId,T)))))}catch(_){if(!Go(_))throw _;me("LocalStore","Failed to update sequence numbers: "+_)}for(const _ of h){const y=_.targetId;if(!_.fromCache){const T=p.us.get(y),x=T.snapshotVersion,H=T.withLastLimboFreeSnapshotVersion(x);p.us=p.us.insert(y,H)}}}(r.localStore,s))}async function rk(t,e){const n=$e(t);if(!n.currentUser.isEqual(e)){me("SyncEngine","User change. New user:",e.toKey());const r=await zE(n.localStore,e);n.currentUser=e,function(s,o){s.Qa.forEach(c=>{c.forEach(u=>{u.reject(new _e(Y.CANCELLED,o))})}),s.Qa.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Ol(n,r.Ts)}}function ik(t,e){const n=$e(t),r=n.Ba.get(e);if(r&&r.Fa)return Ge().add(r.key);{let i=Ge();const s=n.Oa.get(e);if(!s)return i;for(const o of s){const c=n.xa.get(o);i=i.unionWith(c.view.fa)}return i}}function fT(t){const e=$e(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=cT.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=ik.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=ZV.bind(null,e),e.Ma.R_=BV.bind(null,e.eventManager),e.Ma.Wa=jV.bind(null,e.eventManager),e}function sk(t){const e=$e(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=ek.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=tk.bind(null,e),e}class ru{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Vu(e.databaseInfo.databaseId),this.sharedClientState=this.za(e),this.persistence=this.ja(e),await this.persistence.start(),this.localStore=this.Ha(e),this.gcScheduler=this.Ja(e,this.localStore),this.indexBackfillerScheduler=this.Ya(e,this.localStore)}Ja(e,n){return null}Ya(e,n){return null}Ha(e){return hV(this.persistence,new cV,e.initialUser,this.serializer)}ja(e){return new KE(Ff.ei,this.serializer)}za(e){return new vV}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ru.provider={build:()=>new ru};class ok extends ru{constructor(e){super(),this.cacheSizeBytes=e}Ja(e,n){ct(this.persistence.referenceDelegate instanceof tu);const r=this.persistence.referenceDelegate.garbageCollector;return new GD(r,e.asyncQueue,n)}ja(e){const n=this.cacheSizeBytes!==void 0?kn.withCacheSize(this.cacheSizeBytes):kn.DEFAULT;return new KE(r=>tu.ei(r,n),this.serializer)}}class kd{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>v_(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=rk.bind(null,this.syncEngine),await FV(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new UV}()}createDatastore(e){const n=Vu(e.databaseInfo.databaseId),r=function(s){return new wV(s)}(e.databaseInfo);return function(s,o,c,u){return new IV(s,o,c,u)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,c){return new RV(r,i,s,o,c)}(this.localStore,this.datastore,e.asyncQueue,n=>v_(this.syncEngine,n,0),function(){return f_.p()?new f_:new yV}())}createSyncEngine(e,n){return function(i,s,o,c,u,h,p){const _=new KV(i,s,o,c,u,h);return p&&(_.$a=!0),_}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const s=$e(i);me("RemoteStore","RemoteStore shutting down."),s.k_.add(5),await Pl(s),s.Q_.shutdown(),s.K_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}kd.provider={build:()=>new kd};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pT{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Xa(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Xa(this.observer.error,e):hi("Uncaught Error in snapshot listener:",e.toString()))}eu(){this.muted=!0}Xa(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ak{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=En.UNAUTHENTICATED,this.clientId=fE.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,async o=>{me("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(me("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new li;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Wf(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function zh(t,e){t.asyncQueue.verifyOperationInProgress(),me("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await zE(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function E_(t,e){t.asyncQueue.verifyOperationInProgress();const n=await lk(t);me("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>p_(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>p_(e.remoteStore,i)),t._onlineComponents=e}async function lk(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){me("FirestoreClient","Using user provided OfflineComponentProvider");try{await zh(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===Y.FAILED_PRECONDITION||i.code===Y.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;Lo("Error using user provided cache. Falling back to memory cache: "+n),await zh(t,new ru)}}else me("FirestoreClient","Using default OfflineComponentProvider"),await zh(t,new ok(void 0));return t._offlineComponents}async function mT(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(me("FirestoreClient","Using user provided OnlineComponentProvider"),await E_(t,t._uninitializedComponentsProvider._online)):(me("FirestoreClient","Using default OnlineComponentProvider"),await E_(t,new kd))),t._onlineComponents}function ck(t){return mT(t).then(e=>e.syncEngine)}async function gT(t){const e=await mT(t),n=e.eventManager;return n.onListen=zV.bind(null,e.syncEngine),n.onUnlisten=YV.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=GV.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=XV.bind(null,e.syncEngine),n}function uk(t,e,n={}){const r=new li;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,c,u,h){const p=new pT({next:y=>{p.eu(),o.enqueueAndForget(()=>iT(s,_));const T=y.docs.has(c);!T&&y.fromCache?h.reject(new _e(Y.UNAVAILABLE,"Failed to get document because the client is offline.")):T&&y.fromCache&&u&&u.source==="server"?h.reject(new _e(Y.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):h.resolve(y)},error:y=>h.reject(y)}),_=new sT(Nf(c.path),p,{includeMetadataChanges:!0,ua:!0});return rT(s,_)}(await gT(t),t.asyncQueue,e,n,r)),r.promise}function hk(t,e,n={}){const r=new li;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,c,u,h){const p=new pT({next:y=>{p.eu(),o.enqueueAndForget(()=>iT(s,_)),y.fromCache&&u.source==="server"?h.reject(new _e(Y.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):h.resolve(y)},error:y=>h.reject(y)}),_=new sT(c,p,{includeMetadataChanges:!0,ua:!0});return rT(s,_)}(await gT(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _T(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T_=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vT(t,e,n){if(!n)throw new _e(Y.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function dk(t,e,n,r){if(e===!0&&r===!0)throw new _e(Y.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function w_(t){if(!Se.isDocumentKey(t))throw new _e(Y.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function A_(t){if(Se.isDocumentKey(t))throw new _e(Y.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function xu(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ke()}function fi(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new _e(Y.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=xu(t);throw new _e(Y.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b_{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new _e(Y.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new _e(Y.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}dk("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=_T((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new _e(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new _e(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new _e(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Mu{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new b_({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new _e(Y.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new _e(Y.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new b_(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new AN;switch(r.type){case"firstParty":return new RN(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new _e(Y.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=T_.get(n);r&&(me("ComponentProvider","Removing Datastore"),T_.delete(n),r.terminate())}(this),Promise.resolve()}}function fk(t,e,n,r={}){var i;const s=(t=fi(t,Mu))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&Lo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let c,u;if(typeof r.mockUserToken=="string")c=r.mockUserToken,u=En.MOCK_USER;else{c=UR(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const h=r.mockUserToken.sub||r.mockUserToken.user_id;if(!h)throw new _e(Y.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new En(h)}t._authCredentials=new bN(new dE(c,u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yo{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Yo(this.firestore,e,this._query)}}class $n{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new qi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new $n(this.firestore,e,this._key)}}class qi extends Yo{constructor(e,n,r){super(e,n,Nf(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new $n(this.firestore,null,new Se(e))}withConverter(e){return new qi(this.firestore,e,this._path)}}function pk(t,e,...n){if(t=an(t),vT("collection","path",e),t instanceof Mu){const r=St.fromString(e,...n);return A_(r),new qi(t,null,r)}{if(!(t instanceof $n||t instanceof qi))throw new _e(Y.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(St.fromString(e,...n));return A_(r),new qi(t.firestore,null,r)}}function Ma(t,e,...n){if(t=an(t),arguments.length===1&&(e=fE.newId()),vT("doc","path",e),t instanceof Mu){const r=St.fromString(e,...n);return w_(r),new $n(t,null,new Se(r))}{if(!(t instanceof $n||t instanceof qi))throw new _e(Y.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(St.fromString(e,...n));return w_(r),new $n(t.firestore,t instanceof qi?t.converter:null,new Se(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I_{constructor(e=Promise.resolve()){this.Iu=[],this.Eu=!1,this.du=[],this.Au=null,this.Ru=!1,this.Vu=!1,this.mu=[],this.r_=new QE(this,"async_queue_retry"),this.fu=()=>{const r=Kh();r&&me("AsyncQueue","Visibility state changed to "+r.visibilityState),this.r_.Jo()},this.gu=e;const n=Kh();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.fu)}get isShuttingDown(){return this.Eu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.pu(),this.yu(e)}enterRestrictedMode(e){if(!this.Eu){this.Eu=!0,this.Vu=e||!1;const n=Kh();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.fu)}}enqueue(e){if(this.pu(),this.Eu)return new Promise(()=>{});const n=new li;return this.yu(()=>this.Eu&&this.Vu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Iu.push(e),this.wu()))}async wu(){if(this.Iu.length!==0){try{await this.Iu[0](),this.Iu.shift(),this.r_.reset()}catch(e){if(!Go(e))throw e;me("AsyncQueue","Operation failed with retryable error: "+e)}this.Iu.length>0&&this.r_.jo(()=>this.wu())}}yu(e){const n=this.gu.then(()=>(this.Ru=!0,e().catch(r=>{this.Au=r,this.Ru=!1;const i=function(o){let c=o.message||"";return o.stack&&(c=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),c}(r);throw hi("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.Ru=!1,r))));return this.gu=n,n}enqueueAfterDelay(e,n,r){this.pu(),this.mu.indexOf(e)>-1&&(n=0);const i=qf.createAndSchedule(this,e,n,r,s=>this.Su(s));return this.du.push(i),i}pu(){this.Au&&ke()}verifyOperationInProgress(){}async bu(){let e;do e=this.gu,await e;while(e!==this.gu)}Du(e){for(const n of this.du)if(n.timerId===e)return!0;return!1}vu(e){return this.bu().then(()=>{this.du.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.du)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.bu()})}Cu(e){this.mu.push(e)}Su(e){const n=this.du.indexOf(e);this.du.splice(n,1)}}class Xo extends Mu{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new I_,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new I_(e),this._firestoreClient=void 0,await e}}}function mk(t,e){const n=typeof t=="object"?t:Ty(),r=typeof t=="string"?t:"(default)",i=gf(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=FR("firestore");s&&fk(i,...s)}return i}function Gf(t){if(t._terminated)throw new _e(Y.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||gk(t),t._firestoreClient}function gk(t){var e,n,r;const i=t._freezeSettings(),s=function(c,u,h,p){return new jN(c,u,h,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,_T(p.experimentalLongPollingOptions),p.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new ak(t._authCredentials,t._appCheckCredentials,t._queue,s,t._componentsProvider&&function(c){const u=c==null?void 0:c._online.build();return{_offline:c==null?void 0:c._offline.build(u),_online:u}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new jo(fn.fromBase64String(e))}catch(n){throw new _e(Y.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new jo(fn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fu{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new _e(Y.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new dn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $u{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qf{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new _e(Y.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new _e(Y.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Qe(this._lat,e._lat)||Qe(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yf{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _k=/^__.*__$/;class vk{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new is(e,this.data,this.fieldMask,n,this.fieldTransforms):new Rl(e,this.data,n,this.fieldTransforms)}}class yT{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new is(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function ET(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ke()}}class Uu{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Fu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Mu(){return this.settings.Mu}xu(e){return new Uu(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ou(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.xu({path:r,Nu:!1});return i.Lu(e),i}Bu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.xu({path:r,Nu:!1});return i.Fu(),i}ku(e){return this.xu({path:void 0,Nu:!0})}qu(e){return iu(e,this.settings.methodName,this.settings.Qu||!1,this.path,this.settings.Ku)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Fu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Lu(this.path.get(e))}Lu(e){if(e.length===0)throw this.qu("Document fields must not be empty");if(ET(this.Mu)&&_k.test(e))throw this.qu('Document fields cannot begin and end with "__"')}}class yk{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Vu(e)}$u(e,n,r,i=!1){return new Uu({Mu:e,methodName:n,Ku:r,path:dn.emptyPath(),Nu:!1,Qu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Xf(t){const e=t._freezeSettings(),n=Vu(t._databaseId);return new yk(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Ek(t,e,n,r,i,s={}){const o=t.$u(s.merge||s.mergeFields?2:0,e,n,i);Zf("Data must be an object, but it was:",o,r);const c=TT(r,o);let u,h;if(s.merge)u=new Gn(o.fieldMask),h=o.fieldTransforms;else if(s.mergeFields){const p=[];for(const _ of s.mergeFields){const y=Ld(e,_,n);if(!o.contains(y))throw new _e(Y.INVALID_ARGUMENT,`Field '${y}' is specified in your field mask but missing from your input data.`);AT(p,y)||p.push(y)}u=new Gn(p),h=o.fieldTransforms.filter(_=>u.covers(_.field))}else u=null,h=o.fieldTransforms;return new vk(new Ln(c),u,h)}class Bu extends $u{_toFieldTransform(e){if(e.Mu!==2)throw e.Mu===1?e.qu(`${this._methodName}() can only appear at the top level of your update data`):e.qu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Bu}}function Tk(t,e,n){return new Uu({Mu:3,Ku:e.settings.Ku,methodName:t._methodName,Nu:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class Jf extends $u{constructor(e,n){super(e),this.Uu=n}_toFieldTransform(e){const n=Tk(this,e,!0),r=this.Uu.map(s=>Jo(s,n)),i=new $o(r);return new fD(e.path,i)}isEqual(e){return e instanceof Jf&&ol(this.Uu,e.Uu)}}function wk(t,e,n,r){const i=t.$u(1,e,n);Zf("Data must be an object, but it was:",i,r);const s=[],o=Ln.empty();rs(r,(u,h)=>{const p=ep(e,u,n);h=an(h);const _=i.Bu(p);if(h instanceof Bu)s.push(p);else{const y=Jo(h,_);y!=null&&(s.push(p),o.set(p,y))}});const c=new Gn(s);return new yT(o,c,i.fieldTransforms)}function Ak(t,e,n,r,i,s){const o=t.$u(1,e,n),c=[Ld(e,r,n)],u=[i];if(s.length%2!=0)throw new _e(Y.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let y=0;y<s.length;y+=2)c.push(Ld(e,s[y])),u.push(s[y+1]);const h=[],p=Ln.empty();for(let y=c.length-1;y>=0;--y)if(!AT(h,c[y])){const T=c[y];let x=u[y];x=an(x);const H=o.Bu(T);if(x instanceof Bu)h.push(T);else{const U=Jo(x,H);U!=null&&(h.push(T),p.set(T,U))}}const _=new Gn(h);return new yT(p,_,o.fieldTransforms)}function bk(t,e,n,r=!1){return Jo(n,t.$u(r?4:3,e))}function Jo(t,e){if(wT(t=an(t)))return Zf("Unsupported field value:",e,t),TT(t,e);if(t instanceof $u)return function(r,i){if(!ET(i.Mu))throw i.qu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.qu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Nu&&e.Mu!==4)throw e.qu("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const c of r){let u=Jo(c,i.ku(o));u==null&&(u={nullValue:"NULL_VALUE"}),s.push(u),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=an(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return uD(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=Qt.fromDate(r);return{timestampValue:eu(i.serializer,s)}}if(r instanceof Qt){const s=new Qt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:eu(i.serializer,s)}}if(r instanceof Qf)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof jo)return{bytesValue:$E(i.serializer,r._byteString)};if(r instanceof $n){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.qu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:xf(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Yf)return function(o,c){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(u=>{if(typeof u!="number")throw c.qu("VectorValues must only contain numeric values.");return Df(c.serializer,u)})}}}}}}(r,i);throw i.qu(`Unsupported field value: ${xu(r)}`)}(t,e)}function TT(t,e){const n={};return pE(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):rs(t,(r,i)=>{const s=Jo(i,e.Ou(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function wT(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Qt||t instanceof Qf||t instanceof jo||t instanceof $n||t instanceof $u||t instanceof Yf)}function Zf(t,e,n){if(!wT(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=xu(n);throw r==="an object"?e.qu(t+" a custom object"):e.qu(t+" "+r)}}function Ld(t,e,n){if((e=an(e))instanceof Fu)return e._internalPath;if(typeof e=="string")return ep(t,e);throw iu("Field path arguments must be of type string or ",t,!1,void 0,n)}const Ik=new RegExp("[~\\*/\\[\\]]");function ep(t,e,n){if(e.search(Ik)>=0)throw iu(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Fu(...e.split("."))._internalPath}catch{throw iu(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function iu(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let c=`Function ${e}() called with invalid data`;n&&(c+=" (via `toFirestore()`)"),c+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${r}`),o&&(u+=` in document ${i}`),u+=")"),new _e(Y.INVALID_ARGUMENT,c+t+u)}function AT(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bT{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new $n(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Sk(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(tp("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class Sk extends bT{data(){return super.data()}}function tp(t,e){return typeof e=="string"?ep(t,e):e instanceof Fu?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rk(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new _e(Y.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class np{}class Ck extends np{}function Pk(t,e,...n){let r=[];e instanceof np&&r.push(e),r=r.concat(n),function(s){const o=s.filter(u=>u instanceof rp).length,c=s.filter(u=>u instanceof ju).length;if(o>1||o>0&&c>0)throw new _e(Y.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class ju extends Ck{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new ju(e,n,r)}_apply(e){const n=this._parse(e);return IT(e._query,n),new Yo(e.firestore,e.converter,Id(e._query,n))}_parse(e){const n=Xf(e.firestore);return function(s,o,c,u,h,p,_){let y;if(h.isKeyField()){if(p==="array-contains"||p==="array-contains-any")throw new _e(Y.INVALID_ARGUMENT,`Invalid Query. You can't perform '${p}' queries on documentId().`);if(p==="in"||p==="not-in"){R_(_,p);const T=[];for(const x of _)T.push(S_(u,s,x));y={arrayValue:{values:T}}}else y=S_(u,s,_)}else p!=="in"&&p!=="not-in"&&p!=="array-contains-any"||R_(_,p),y=bk(c,o,_,p==="in"||p==="not-in");return Wt.create(h,p,y)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Ok(t,e,n){const r=e,i=tp("where",t);return ju._create(i,r,n)}class rp extends np{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new rp(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:_r.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let o=i;const c=s.getFlattenedFilters();for(const u of c)IT(o,u),o=Id(o,u)}(e._query,n),new Yo(e.firestore,e.converter,Id(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function S_(t,e,n){if(typeof(n=an(n))=="string"){if(n==="")throw new _e(Y.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!AE(e)&&n.indexOf("/")!==-1)throw new _e(Y.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(St.fromString(n));if(!Se.isDocumentKey(r))throw new _e(Y.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return zg(t,new Se(r))}if(n instanceof $n)return zg(t,n._key);throw new _e(Y.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${xu(n)}.`)}function R_(t,e){if(!Array.isArray(t)||t.length===0)throw new _e(Y.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function IT(t,e){const n=function(i,s){for(const o of i)for(const c of o.getFlattenedFilters())if(s.indexOf(c.op)>=0)return c.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new _e(Y.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new _e(Y.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class Nk{convertValue(e,n="none"){switch(Xi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ft(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Yi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ke()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return rs(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(e){var n,r,i;const s=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(o=>Ft(o.doubleValue));return new Yf(s)}convertGeoPoint(e){return new Qf(Ft(e.latitude),Ft(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Ru(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(hl(e));default:return null}}convertTimestamp(e){const n=Qi(e);return new Qt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=St.fromString(e);ct(WE(r));const i=new dl(r.get(1),r.get(3)),s=new Se(r.popFirst(5));return i.isEqual(n)||hi(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dk(t,e,n){let r;return r=t?t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fa{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ST extends bT{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Dc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(tp("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Dc extends ST{data(e={}){return super.data(e)}}class Vk{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Fa(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Dc(this._firestore,this._userDataWriter,r.key,r,new Fa(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new _e(Y.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(c=>{const u=new Dc(i._firestore,i._userDataWriter,c.doc.key,c.doc,new Fa(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);return c.doc,{type:"added",doc:u,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(c=>s||c.type!==3).map(c=>{const u=new Dc(i._firestore,i._userDataWriter,c.doc.key,c.doc,new Fa(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);let h=-1,p=-1;return c.type!==0&&(h=o.indexOf(c.doc.key),o=o.delete(c.doc.key)),c.type!==1&&(o=o.add(c.doc),p=o.indexOf(c.doc.key)),{type:kk(c.type),doc:u,oldIndex:h,newIndex:p}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function kk(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ke()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lk(t){t=fi(t,$n);const e=fi(t.firestore,Xo);return uk(Gf(e),t._key).then(n=>Fk(e,t,n))}class RT extends Nk{constructor(e){super(),this.firestore=e}convertBytes(e){return new jo(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new $n(this.firestore,null,n)}}function C_(t){t=fi(t,Yo);const e=fi(t.firestore,Xo),n=Gf(e),r=new RT(e);return Rk(t._query),hk(n,t._query).then(i=>new Vk(e,r,t,i))}function P_(t,e,n,...r){t=fi(t,$n);const i=fi(t.firestore,Xo),s=Xf(i);let o;return o=typeof(e=an(e))=="string"||e instanceof Fu?Ak(s,"updateDoc",t._key,e,n,r):wk(s,"updateDoc",t._key,e),ip(i,[o.toMutation(t._key,fr.exists(!0))])}function xk(t){return ip(fi(t.firestore,Xo),[new Vf(t._key,fr.none())])}function Mk(t,e){const n=fi(t.firestore,Xo),r=Ma(t),i=Dk(t.converter,e);return ip(n,[Ek(Xf(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,fr.exists(!1))]).then(()=>r)}function ip(t,e){return function(r,i){const s=new li;return r.asyncQueue.enqueueAndForget(async()=>JV(await ck(r),i,s)),s.promise}(Gf(t),e)}function Fk(t,e,n){const r=n.docs.get(e._key),i=new RT(t);return new ST(t,i,e._key,r,new Fa(n.hasPendingWrites,n.fromCache),e.converter)}function $k(...t){return new Jf("arrayUnion",t)}(function(e,n=!0){(function(i){Ko=i})(qo),ko(new Fs("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),c=new Xo(new IN(r.getProvider("auth-internal")),new PN(r.getProvider("app-check-internal")),function(h,p){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new _e(Y.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new dl(h.options.projectId,p)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),c._setSettings(s),c},"PUBLIC").setMultipleInstances(!0)),Hi(Bg,"4.7.5",e),Hi(Bg,"4.7.5","esm2017")})();const Uk={apiKey:"AIzaSyCvF3k4n1-Rfckm6W-t8z6y3HKAwfeOWGQ",authDomain:"ratemasterif.firebaseapp.com",projectId:"ratemasterif",storageBucket:"ratemasterif.firebasestorage.app",messagingSenderId:"221591868606",appId:"1:221591868606:web:e2c1e14662b20c1edffaef",measurementId:"G-G8SJ2ZY2G7"},CT=Ey(Uk),Pa=mk(CT),xd=yN(CT),Zo=(t,e)=>{const n=t.__vccOpts||t;for(const[r,i]of e)n[r]=i;return n},Bk={},jk={class:"btn btn-outline",type:"submit"};function Hk(t,e){return Mn(),Or("button",jk,[ks(t.$slots,"default",{},void 0,!0)])}const O_=Zo(Bk,[["render",Hk],["__scopeId","data-v-e3e0bb12"]]),qk={class:"navbar navbar-expand-lg sticky-top shadow-sm p-3"},Wk={class:"container-fluid"},Kk={class:"collapse navbar-collapse",id:"navbarTogglerDemo03"},zk={class:"navbar-nav d-flex gap-3 me-auto mb-2 mb-lg-0"},Gk={class:"nav-item"},Qk={class:"nav-item"},Yk={key:0,class:"nav-item"},Xk={key:0},Jk={key:1},Zk={class:"dropdown"},e1={class:"dropdown-menu shadow-sm dropdown-menu-end","aria-labelledby":"profileDropdown"},t1={__name:"TheNavbar",setup(t){const e=OR(),n=Pn(!1),r=Fn("userData");Qy(xd,s=>{s?n.value=!0:n.value=!1});const i=async()=>{try{await lO(xd),e.push("/")}catch(s){console.error("Erro ao sair:",s)}};return(s,o)=>{var u;const c=u0("RouterLink");return Mn(),Or("nav",qk,[Ce("div",Wk,[nt(c,{to:"/"},{default:wt(()=>o[0]||(o[0]=[Ce("img",{src:hy,alt:"Logo",class:"logo me-2"},null,-1)])),_:1}),o[8]||(o[8]=Ce("h1",{class:"fw-medium fs-3 text-white me-2"},"RateMaster",-1)),o[9]||(o[9]=Ce("button",{class:"bg-menu navbar-toggler border ps-3 pe-3 p-2",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarTogglerDemo03","aria-controls":"navbarTogglerDemo03","aria-expanded":"false","aria-label":"Toggle navigation"},[Ce("i",{class:"bi bi-list text-white"})],-1)),Ce("div",Kk,[Ce("ul",zk,[Ce("li",Gk,[nt(c,{class:"nav-link text-white",to:"/"},{default:wt(()=>o[1]||(o[1]=[Ce("i",{class:"bi bi-house-fill p-2"},null,-1),Gt("Início ")])),_:1})]),Ce("li",Qk,[nt(c,{class:"nav-link text-white",to:"/reviews"},{default:wt(()=>o[2]||(o[2]=[Ce("i",{class:"bi bi-star-fill p-2"},null,-1),Gt("Avaliações ")])),_:1})]),n.value&&((u=Ye(r))==null?void 0:u.userType)!=="individual"?(Mn(),Or("li",Yk,[nt(c,{class:"nav-link text-white",to:"/registerProduct"},{default:wt(()=>o[3]||(o[3]=[Ce("i",{class:"bi bi-plus-square-fill p-2"},null,-1),Gt("Registrar Produto ")])),_:1})])):Nh("",!0)]),n.value?Nh("",!0):(Mn(),Or("div",Xk,[nt(c,{to:"/registerUser"},{default:wt(()=>[nt(O_,{class:"button m-2"},{default:wt(()=>o[4]||(o[4]=[Gt("Cadastrar-se")])),_:1})]),_:1}),nt(c,{to:"/login"},{default:wt(()=>[nt(O_,{class:"button m-2"},{default:wt(()=>o[5]||(o[5]=[Gt("Entrar")])),_:1})]),_:1})])),n.value?(Mn(),Or("div",Jk,[Ce("div",Zk,[o[7]||(o[7]=Ce("button",{class:"btn btn-link dropdown-toggle profile-link",type:"button",id:"profileDropdown","data-bs-toggle":"dropdown","aria-expanded":"false","aria-label":"Profile options"},[Ce("i",{class:"bi bi-person-circle profile-icon"})],-1)),Ce("ul",e1,[nt(c,{to:"/MyProfile",class:"dropdown-item"},{default:wt(()=>o[6]||(o[6]=[Gt("Perfil")])),_:1}),Ce("li",{onClick:i,class:"dropdown-item"},"Sair")])])])):Nh("",!0)])])])}}},n1=Zo(t1,[["__scopeId","data-v-8a61e242"]]),r1={},i1={class:"container-fluid pt-5 pb-5 footer-container"},s1={class:"d-flex flex-column align-items-center text-white gap-4"},o1={class:"text-lead"};function a1(t,e){return Mn(),Or("footer",i1,[Ce("div",s1,[e[0]||(e[0]=zv('<div class="d-flex flex-row gap-2" data-v-dc44b09e><img class="logo" src="'+hy+'" alt="Logo da Empresa" data-v-dc44b09e><h1 class="fw-bold" data-v-dc44b09e>RateMaster</h1></div><div class="social-links d-flex flex-row gap-3" data-v-dc44b09e><a href="https://facebook.com" target="_blank" data-v-dc44b09e><i class="fab fa-facebook" data-v-dc44b09e></i></a><a href="https://twitter.com" target="_blank" data-v-dc44b09e><i class="fab fa-twitter" data-v-dc44b09e></i></a><a href="https://instagram.com" target="_blank" data-v-dc44b09e><i class="fab fa-instagram" data-v-dc44b09e></i></a></div>',2)),Ce("p",o1,"©"+Q_(new Date().getFullYear())+" Ratemaster. Todos os direitos reservados.",1)])])}const l1=Zo(r1,[["render",a1],["__scopeId","data-v-dc44b09e"]]);class PT{constructor(e){if(!e)throw new Error("Collection path must be provided");this.collectionRef=pk(Pa,e)}async insert(e){try{return(await Mk(this.collectionRef,e)).id}catch(n){throw console.error("Error adding document: ",n),new Error("Error adding document")}}async update(e,n){try{const r=Ma(Pa,this.collectionRef.path,e);await P_(r,n)}catch(r){throw console.error("Error updating document: ",r),new Error("Error updating document")}}async delete(e){try{const n=Ma(Pa,this.collectionRef.path,e);await xk(n)}catch(n){throw console.error("Error deleting document: ",n),new Error("Error deleting document")}}async getAll(){try{const e=await C_(this.collectionRef),n=[];return e.forEach(r=>{n.push({id:r.id,...r.data()})}),n}catch(e){throw console.error("Error getting documents: ",e),new Error("Error getting documents")}}async get(e){try{const n=Ma(Pa,this.collectionRef.path,e),r=await Lk(n);if(r.exists())return{id:r.id,...r.data()};throw new Error("No such document!")}catch(n){throw console.error("Error getting document: ",n),new Error("Error getting document")}}async search(e,n){try{const r=Pk(this.collectionRef,Ok(e,"==",n)),i=await C_(r),s=[];return i.forEach(o=>{s.push({id:o.id,...o.data()})}),s}catch(r){throw console.error("Error searching documents: ",r),new Error("Error searching documents")}}async addResponse(e,n){try{const r=Ma(Pa,this.collectionRef.path,e);await P_(r,{responses:$k(n)})}catch(r){throw console.error("Erro ao enviar resposta:",r),new Error("Erro ao enviar resposta")}}}const c1=new PT("user"),u1=new PT("shop"),Co=Pn(null),h1=async t=>{try{const e=await c1.search("uid",t);if(e&&e.length>0)return{...e[0]};const n=await u1.search("uid",t);return n&&n.length>0?{...n[0]}:(console.warn("Nenhum dado encontrado nas coleções user ou shop."),null)}catch(e){return console.error("Erro ao buscar dados do usuário:",e),null}},OT=()=>{Qy(xd,async t=>{if(t)try{const e=await h1(t.uid);Co.value=e||null}catch(e){console.error("Erro ao processar autenticação:",e),Co.value=null}else Co.value=null})};/**
  * vee-validate v4.15.0
  * (c) 2024 Abdelrahman Awad
  * @license MIT
  */function rn(t){return typeof t=="function"}function NT(t){return t==null}const js=t=>t!==null&&!!t&&typeof t=="object"&&!Array.isArray(t);function sp(t){return Number(t)>=0}function d1(t){const e=parseFloat(t);return isNaN(e)?t:e}function f1(t){return typeof t=="object"&&t!==null}function p1(t){return t==null?t===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(t)}function N_(t){if(!f1(t)||p1(t)!=="[object Object]")return!1;if(Object.getPrototypeOf(t)===null)return!0;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}function ml(t,e){return Object.keys(e).forEach(n=>{if(N_(e[n])&&N_(t[n])){t[n]||(t[n]={}),ml(t[n],e[n]);return}t[n]=e[n]}),t}function $a(t){const e=t.split(".");if(!e.length)return"";let n=String(e[0]);for(let r=1;r<e.length;r++){if(sp(e[r])){n+=`[${e[r]}]`;continue}n+=`.${e[r]}`}return n}const DT={};function Oa(t,e){g1(t,e),DT[t]=e}function m1(t){return DT[t]}function g1(t,e){if(!rn(e))throw new Error(`Extension Error: The validator '${t}' must be a function.`)}function D_(t,e,n){typeof n.value=="object"&&(n.value=ot(n.value)),!n.enumerable||n.get||n.set||!n.configurable||!n.writable||e==="__proto__"?Object.defineProperty(t,e,n):t[e]=n.value}function ot(t){if(typeof t!="object")return t;var e=0,n,r,i,s=Object.prototype.toString.call(t);if(s==="[object Object]"?i=Object.create(t.__proto__||null):s==="[object Array]"?i=Array(t.length):s==="[object Set]"?(i=new Set,t.forEach(function(o){i.add(ot(o))})):s==="[object Map]"?(i=new Map,t.forEach(function(o,c){i.set(ot(c),ot(o))})):s==="[object Date]"?i=new Date(+t):s==="[object RegExp]"?i=new RegExp(t.source,t.flags):s==="[object DataView]"?i=new t.constructor(ot(t.buffer)):s==="[object ArrayBuffer]"?i=t.slice(0):s.slice(-6)==="Array]"&&(i=new t.constructor(t)),i){for(r=Object.getOwnPropertySymbols(t);e<r.length;e++)D_(i,r[e],Object.getOwnPropertyDescriptor(t,r[e]));for(e=0,r=Object.getOwnPropertyNames(t);e<r.length;e++)Object.hasOwnProperty.call(i,n=r[e])&&i[n]===t[n]||D_(i,n,Object.getOwnPropertyDescriptor(t,n))}return i||t}const Hu=Symbol("vee-validate-form"),_1=Symbol("vee-validate-form-context"),v1=Symbol("vee-validate-field-instance"),su=Symbol("Default empty value"),y1=typeof window<"u";function Md(t){return rn(t)&&!!t.__locatorRef}function ur(t){return!!t&&rn(t.parse)&&t.__type==="VVTypedSchema"}function ou(t){return!!t&&rn(t.validate)}function Nl(t){return t==="checkbox"||t==="radio"}function E1(t){return js(t)||Array.isArray(t)}function T1(t){return Array.isArray(t)?t.length===0:js(t)&&Object.keys(t).length===0}function qu(t){return/^\[.+\]$/i.test(t)}function w1(t){return VT(t)&&t.multiple}function VT(t){return t.tagName==="SELECT"}function A1(t,e){const n=![!1,null,void 0,0].includes(e.multiple)&&!Number.isNaN(e.multiple);return t==="select"&&"multiple"in e&&n}function b1(t,e){return!A1(t,e)&&e.type!=="file"&&!Nl(e.type)}function kT(t){return op(t)&&t.target&&"submit"in t.target}function op(t){return t?!!(typeof Event<"u"&&rn(Event)&&t instanceof Event||t&&t.srcElement):!1}function V_(t,e){return e in t&&t[e]!==su}function Nn(t,e){if(t===e)return!0;if(t&&e&&typeof t=="object"&&typeof e=="object"){if(t.constructor!==e.constructor)return!1;var n,r,i;if(Array.isArray(t)){if(n=t.length,n!=e.length)return!1;for(r=n;r--!==0;)if(!Nn(t[r],e[r]))return!1;return!0}if(t instanceof Map&&e instanceof Map){if(t.size!==e.size)return!1;for(r of t.entries())if(!e.has(r[0]))return!1;for(r of t.entries())if(!Nn(r[1],e.get(r[0])))return!1;return!0}if(L_(t)&&L_(e))return!(t.size!==e.size||t.name!==e.name||t.lastModified!==e.lastModified||t.type!==e.type);if(t instanceof Set&&e instanceof Set){if(t.size!==e.size)return!1;for(r of t.entries())if(!e.has(r[0]))return!1;return!0}if(ArrayBuffer.isView(t)&&ArrayBuffer.isView(e)){if(n=t.length,n!=e.length)return!1;for(r=n;r--!==0;)if(t[r]!==e[r])return!1;return!0}if(t.constructor===RegExp)return t.source===e.source&&t.flags===e.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===e.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===e.toString();if(i=Object.keys(t),n=i.length-k_(t,i),n!==Object.keys(e).length-k_(e,Object.keys(e)))return!1;for(r=n;r--!==0;)if(!Object.prototype.hasOwnProperty.call(e,i[r]))return!1;for(r=n;r--!==0;){var s=i[r];if(!Nn(t[s],e[s]))return!1}return!0}return t!==t&&e!==e}function k_(t,e){let n=0;for(let i=e.length;i--!==0;){var r=e[i];t[r]===void 0&&n++}return n}function L_(t){return y1?t instanceof File:!1}function ap(t){return qu(t)?t.replace(/\[|\]/gi,""):t}function xn(t,e,n){return t?qu(e)?t[ap(e)]:(e||"").split(/\.|\[(\d+)\]/).filter(Boolean).reduce((i,s)=>E1(i)&&s in i?i[s]:n,t):n}function Zr(t,e,n){if(qu(e)){t[ap(e)]=n;return}const r=e.split(/\.|\[(\d+)\]/).filter(Boolean);let i=t;for(let s=0;s<r.length;s++){if(s===r.length-1){i[r[s]]=n;return}(!(r[s]in i)||NT(i[r[s]]))&&(i[r[s]]=sp(r[s+1])?[]:{}),i=i[r[s]]}}function Gh(t,e){if(Array.isArray(t)&&sp(e)){t.splice(Number(e),1);return}js(t)&&delete t[e]}function x_(t,e){if(qu(e)){delete t[ap(e)];return}const n=e.split(/\.|\[(\d+)\]/).filter(Boolean);let r=t;for(let s=0;s<n.length;s++){if(s===n.length-1){Gh(r,n[s]);break}if(!(n[s]in r)||NT(r[n[s]]))break;r=r[n[s]]}const i=n.map((s,o)=>xn(t,n.slice(0,o).join(".")));for(let s=i.length-1;s>=0;s--)if(T1(i[s])){if(s===0){Gh(t,n[0]);continue}Gh(i[s-1],n[s-1])}}function Wn(t){return Object.keys(t)}function LT(t,e=void 0){const n=_u();return(n==null?void 0:n.provides[t])||Fn(t,e)}function M_(t,e,n){if(Array.isArray(t)){const r=[...t],i=r.findIndex(s=>Nn(s,e));return i>=0?r.splice(i,1):r.push(e),r}return Nn(t,e)?n:e}function F_(t,e=0){let n=null,r=[];return function(...i){return n&&clearTimeout(n),n=setTimeout(()=>{const s=t(...i);r.forEach(o=>o(s)),r=[]},e),new Promise(s=>r.push(s))}}function I1(t,e){return js(e)&&e.number?d1(t):t}function Fd(t,e){let n;return async function(...i){const s=t(...i);n=s;const o=await s;return s!==n?o:(n=void 0,e(o,i))}}function $d(t){return Array.isArray(t)?t:t?[t]:[]}function _c(t,e){const n={};for(const r in t)e.includes(r)||(n[r]=t[r]);return n}function S1(t){let e=null,n=[];return function(...r){const i=qn(()=>{if(e!==i)return;const s=t(...r);n.forEach(o=>o(s)),n=[],e=null});return e=i,new Promise(s=>n.push(s))}}function lp(t,e,n){return e.slots.default?typeof t=="string"||!t?e.slots.default(n()):{default:()=>{var r,i;return(i=(r=e.slots).default)===null||i===void 0?void 0:i.call(r,n())}}:e.slots.default}function Qh(t){if(xT(t))return t._value}function xT(t){return"_value"in t}function R1(t){return t.type==="number"||t.type==="range"?Number.isNaN(t.valueAsNumber)?t.value:t.valueAsNumber:t.value}function au(t){if(!op(t))return t;const e=t.target;if(Nl(e.type)&&xT(e))return Qh(e);if(e.type==="file"&&e.files){const n=Array.from(e.files);return e.multiple?n:n[0]}if(w1(e))return Array.from(e.options).filter(n=>n.selected&&!n.disabled).map(Qh);if(VT(e)){const n=Array.from(e.options).find(r=>r.selected);return n?Qh(n):e.value}return R1(e)}function MT(t){const e={};return Object.defineProperty(e,"_$$isNormalized",{value:!0,writable:!1,enumerable:!1,configurable:!1}),t?js(t)&&t._$$isNormalized?t:js(t)?Object.keys(t).reduce((n,r)=>{const i=C1(t[r]);return t[r]!==!1&&(n[r]=$_(i)),n},e):typeof t!="string"?e:t.split("|").reduce((n,r)=>{const i=P1(r);return i.name&&(n[i.name]=$_(i.params)),n},e):e}function C1(t){return t===!0?[]:Array.isArray(t)||js(t)?t:[t]}function $_(t){const e=n=>typeof n=="string"&&n[0]==="@"?O1(n.slice(1)):n;return Array.isArray(t)?t.map(e):t instanceof RegExp?[t]:Object.keys(t).reduce((n,r)=>(n[r]=e(t[r]),n),{})}const P1=t=>{let e=[];const n=t.split(":")[0];return t.includes(":")&&(e=t.split(":").slice(1).join(":").split(",")),{name:n,params:e}};function O1(t){const e=n=>{var r;return(r=xn(n,t))!==null&&r!==void 0?r:n[t]};return e.__locatorRef=t,e}function N1(t){return Array.isArray(t)?t.filter(Md):Wn(t).filter(e=>Md(t[e])).map(e=>t[e])}const D1={generateMessage:({field:t})=>`${t} is not valid.`,bails:!0,validateOnBlur:!0,validateOnChange:!0,validateOnInput:!1,validateOnModelUpdate:!0};let Ud=Object.assign({},D1);const Ds=()=>Ud,V1=t=>{Ud=Object.assign(Object.assign({},Ud),t)},k1=V1;async function FT(t,e,n={}){const r=n==null?void 0:n.bails,i={name:(n==null?void 0:n.name)||"{field}",rules:e,label:n==null?void 0:n.label,bails:r??!0,formData:(n==null?void 0:n.values)||{}},s=await L1(i,t);return Object.assign(Object.assign({},s),{valid:!s.errors.length})}async function L1(t,e){const n=t.rules;if(ur(n)||ou(n))return M1(e,Object.assign(Object.assign({},t),{rules:n}));if(rn(n)||Array.isArray(n)){const c={field:t.label||t.name,name:t.name,label:t.label,form:t.formData,value:e},u=Array.isArray(n)?n:[n],h=u.length,p=[];for(let _=0;_<h;_++){const y=u[_],T=await y(e,c);if(!(typeof T!="string"&&!Array.isArray(T)&&T)){if(Array.isArray(T))p.push(...T);else{const H=typeof T=="string"?T:UT(c);p.push(H)}if(t.bails)return{errors:p}}}return{errors:p}}const r=Object.assign(Object.assign({},t),{rules:MT(n)}),i=[],s=Object.keys(r.rules),o=s.length;for(let c=0;c<o;c++){const u=s[c],h=await F1(r,e,{name:u,params:r.rules[u]});if(h.error&&(i.push(h.error),t.bails))return{errors:i}}return{errors:i}}function x1(t){return!!t&&t.name==="ValidationError"}function $T(t){return{__type:"VVTypedSchema",async parse(n,r){var i;try{return{output:await t.validate(n,{abortEarly:!1,context:(r==null?void 0:r.formData)||{}}),errors:[]}}catch(s){if(!x1(s))throw s;if(!(!((i=s.inner)===null||i===void 0)&&i.length)&&s.errors.length)return{errors:[{path:s.path,errors:s.errors}]};const o=s.inner.reduce((c,u)=>{const h=u.path||"";return c[h]||(c[h]={errors:[],path:h}),c[h].errors.push(...u.errors),c},{});return{errors:Object.values(o)}}}}}async function M1(t,e){const r=await(ur(e.rules)?e.rules:$T(e.rules)).parse(t,{formData:e.formData}),i=[];for(const s of r.errors)s.errors.length&&i.push(...s.errors);return{value:r.value,errors:i}}async function F1(t,e,n){const r=m1(n.name);if(!r)throw new Error(`No such validator '${n.name}' exists.`);const i=$1(n.params,t.formData),s={field:t.label||t.name,name:t.name,label:t.label,value:e,form:t.formData,rule:Object.assign(Object.assign({},n),{params:i})},o=await r(e,i,s);return typeof o=="string"?{error:o}:{error:o?void 0:UT(s)}}function UT(t){const e=Ds().generateMessage;return e?e(t):"Field is invalid"}function $1(t,e){const n=r=>Md(r)?r(e):r;return Array.isArray(t)?t.map(n):Object.keys(t).reduce((r,i)=>(r[i]=n(t[i]),r),{})}async function U1(t,e){const r=await(ur(t)?t:$T(t)).parse(ot(e),{formData:ot(e)}),i={},s={};for(const o of r.errors){const c=o.errors,u=(o.path||"").replace(/\["(\d+)"\]/g,(h,p)=>`[${p}]`);i[u]={valid:!c.length,errors:c},c.length&&(s[u]=c[0])}return{valid:!r.errors.length,results:i,errors:s,values:r.value,source:"schema"}}async function B1(t,e,n){const i=Wn(t).map(async h=>{var p,_,y;const T=(p=n==null?void 0:n.names)===null||p===void 0?void 0:p[h],x=await FT(xn(e,h),t[h],{name:(T==null?void 0:T.name)||h,label:T==null?void 0:T.label,values:e,bails:(y=(_=n==null?void 0:n.bailsMap)===null||_===void 0?void 0:_[h])!==null&&y!==void 0?y:!0});return Object.assign(Object.assign({},x),{path:h})});let s=!0;const o=await Promise.all(i),c={},u={};for(const h of o)c[h.path]={valid:h.valid,errors:h.errors},h.valid||(s=!1,u[h.path]=h.errors[0]);return{valid:s,results:c,errors:u,source:"schema"}}let U_=0;function j1(t,e){const{value:n,initialValue:r,setInitialValue:i}=H1(t,e.modelValue,e.form);if(!e.form){let u=function(T){var x;"value"in T&&(n.value=T.value),"errors"in T&&p(T.errors),"touched"in T&&(y.touched=(x=T.touched)!==null&&x!==void 0?x:y.touched),"initialValue"in T&&i(T.initialValue)};const{errors:h,setErrors:p}=K1(),_=U_>=Number.MAX_SAFE_INTEGER?0:++U_,y=W1(n,r,h,e.schema);return{id:_,path:t,value:n,initialValue:r,meta:y,flags:{pendingUnmount:{[_]:!1},pendingReset:!1},errors:h,setState:u}}const s=e.form.createPathState(t,{bails:e.bails,label:e.label,type:e.type,validate:e.validate,schema:e.schema}),o=Ue(()=>s.errors);function c(u){var h,p,_;"value"in u&&(n.value=u.value),"errors"in u&&((h=e.form)===null||h===void 0||h.setFieldError(Ye(t),u.errors)),"touched"in u&&((p=e.form)===null||p===void 0||p.setFieldTouched(Ye(t),(_=u.touched)!==null&&_!==void 0?_:!1)),"initialValue"in u&&i(u.initialValue)}return{id:Array.isArray(s.id)?s.id[s.id.length-1]:s.id,path:t,value:n,errors:o,meta:s,initialValue:r,flags:s.__flags,setState:c}}function H1(t,e,n){const r=Pn(Ye(e));function i(){return n?xn(n.initialValues.value,Ye(t),Ye(r)):Ye(r)}function s(h){if(!n){r.value=h;return}n.setFieldInitialValue(Ye(t),h,!0)}const o=Ue(i);if(!n)return{value:Pn(i()),initialValue:o,setInitialValue:s};const c=q1(e,n,o,t);return n.stageInitialValue(Ye(t),c,!0),{value:Ue({get(){return xn(n.values,Ye(t))},set(h){n.setFieldValue(Ye(t),h,!1)}}),initialValue:o,setInitialValue:s}}function q1(t,e,n,r){return Nt(t)?Ye(t):t!==void 0?t:xn(e.values,Ye(r),Ye(n))}function W1(t,e,n,r){const i=Ue(()=>{var o,c,u;return(u=(c=(o=Re(r))===null||o===void 0?void 0:o.describe)===null||c===void 0?void 0:c.call(o).required)!==null&&u!==void 0?u:!1}),s=Wi({touched:!1,pending:!1,valid:!0,required:i,validated:!!Ye(n).length,initialValue:Ue(()=>Ye(e)),dirty:Ue(()=>!Nn(Ye(t),Ye(e)))});return dr(n,o=>{s.valid=!o.length},{immediate:!0,flush:"sync"}),s}function K1(){const t=Pn([]);return{errors:t,setErrors:e=>{t.value=$d(e)}}}function z1(t,e,n){return Nl(n==null?void 0:n.type)?Q1(t,e,n):BT(t,e,n)}function BT(t,e,n){const{initialValue:r,validateOnMount:i,bails:s,type:o,checkedValue:c,label:u,validateOnValueUpdate:h,uncheckedValue:p,controlled:_,keepValueOnUnmount:y,syncVModel:T,form:x}=G1(n),H=_?LT(Hu):void 0,U=x||H,X=Ue(()=>$a(Re(t))),z=Ue(()=>{if(Re(U==null?void 0:U.schema))return;const B=Ye(e);return ou(B)||ur(B)||rn(B)||Array.isArray(B)?B:MT(B)}),ne=!rn(z.value)&&ur(Re(e)),{id:ee,value:be,initialValue:ge,meta:R,setState:w,errors:b,flags:P}=j1(X,{modelValue:r,form:U,bails:s,label:u,type:o,validate:z.value?Me:void 0,schema:ne?e:void 0}),O=Ue(()=>b.value[0]);T&&Y1({value:be,prop:T,handleChange:he,shouldValidate:()=>h&&!P.pendingReset});const V=(fe,B=!1)=>{R.touched=!0,B&&Ze()};async function I(fe){var B,N;if(U!=null&&U.validateSchema){const{results:J}=await U.validateSchema(fe);return(B=J[Re(X)])!==null&&B!==void 0?B:{valid:!0,errors:[]}}return z.value?FT(be.value,z.value,{name:Re(X),label:Re(u),values:(N=U==null?void 0:U.values)!==null&&N!==void 0?N:{},bails:s}):{valid:!0,errors:[]}}const Ze=Fd(async()=>(R.pending=!0,R.validated=!0,I("validated-only")),fe=>(P.pendingUnmount[gt.id]||(w({errors:fe.errors}),R.pending=!1,R.valid=fe.valid),fe)),ut=Fd(async()=>I("silent"),fe=>(R.valid=fe.valid,fe));function Me(fe){return(fe==null?void 0:fe.mode)==="silent"?ut():Ze()}function he(fe,B=!0){const N=au(fe);Ut(N,B)}of(()=>{if(i)return Ze();(!U||!U.validateSchema)&&ut()});function Ve(fe){R.touched=fe}function yt(fe){var B;const N=fe&&"value"in fe?fe.value:ge.value;w({value:ot(N),initialValue:ot(N),touched:(B=fe==null?void 0:fe.touched)!==null&&B!==void 0?B:!1,errors:(fe==null?void 0:fe.errors)||[]}),R.pending=!1,R.validated=!1,ut()}const Dt=_u();function Ut(fe,B=!0){be.value=Dt&&T?I1(fe,Dt.props.modelModifiers):fe,(B?Ze:ut)()}function it(fe){w({errors:Array.isArray(fe)?fe:[fe]})}const ht=Ue({get(){return be.value},set(fe){Ut(fe,h)}}),gt={id:ee,name:X,label:u,value:ht,meta:R,errors:b,errorMessage:O,type:o,checkedValue:c,uncheckedValue:p,bails:s,keepValueOnUnmount:y,resetField:yt,handleReset:()=>yt(),validate:Me,handleChange:he,handleBlur:V,setState:w,setTouched:Ve,setErrors:it,setValue:Ut};if(Ui(v1,gt),Nt(e)&&typeof Ye(e)!="function"&&dr(e,(fe,B)=>{Nn(fe,B)||(R.validated?Ze():ut())},{deep:!0}),!U)return gt;const Xt=Ue(()=>{const fe=z.value;return!fe||rn(fe)||ou(fe)||ur(fe)||Array.isArray(fe)?{}:Object.keys(fe).reduce((B,N)=>{const J=N1(fe[N]).map(de=>de.__locatorRef).reduce((de,Ne)=>{const Pe=xn(U.values,Ne)||U.values[Ne];return Pe!==void 0&&(de[Ne]=Pe),de},{});return Object.assign(B,J),B},{})});return dr(Xt,(fe,B)=>{if(!Object.keys(fe).length)return;!Nn(fe,B)&&(R.validated?Ze():ut())}),Av(()=>{var fe;const B=(fe=Re(gt.keepValueOnUnmount))!==null&&fe!==void 0?fe:Re(U.keepValuesOnUnmount),N=Re(X);if(B||!U||P.pendingUnmount[gt.id]){U==null||U.removePathState(N,ee);return}P.pendingUnmount[gt.id]=!0;const J=U.getPathState(N);if(Array.isArray(J==null?void 0:J.id)&&(J!=null&&J.multiple)?J!=null&&J.id.includes(gt.id):(J==null?void 0:J.id)===gt.id){if(J!=null&&J.multiple&&Array.isArray(J.value)){const Ne=J.value.findIndex(Pe=>Nn(Pe,Re(gt.checkedValue)));if(Ne>-1){const Pe=[...J.value];Pe.splice(Ne,1),U.setFieldValue(N,Pe)}Array.isArray(J.id)&&J.id.splice(J.id.indexOf(gt.id),1)}else U.unsetPathValue(Re(X));U.removePathState(N,ee)}}),gt}function G1(t){const e=()=>({initialValue:void 0,validateOnMount:!1,bails:!0,label:void 0,validateOnValueUpdate:!0,keepValueOnUnmount:void 0,syncVModel:!1,controlled:!0}),n=!!(t!=null&&t.syncVModel),r=typeof(t==null?void 0:t.syncVModel)=="string"?t.syncVModel:(t==null?void 0:t.modelPropName)||"modelValue",i=n&&!("initialValue"in(t||{}))?Bd(_u(),r):t==null?void 0:t.initialValue;if(!t)return Object.assign(Object.assign({},e()),{initialValue:i});const s="valueProp"in t?t.valueProp:t.checkedValue,o="standalone"in t?!t.standalone:t.controlled,c=(t==null?void 0:t.modelPropName)||(t==null?void 0:t.syncVModel)||!1;return Object.assign(Object.assign(Object.assign({},e()),t||{}),{initialValue:i,controlled:o??!0,checkedValue:s,syncVModel:c})}function Q1(t,e,n){const r=n!=null&&n.standalone?void 0:LT(Hu),i=n==null?void 0:n.checkedValue,s=n==null?void 0:n.uncheckedValue;function o(c){const u=c.handleChange,h=Ue(()=>{const _=Re(c.value),y=Re(i);return Array.isArray(_)?_.findIndex(T=>Nn(T,y))>=0:Nn(y,_)});function p(_,y=!0){var T,x;if(h.value===((T=_==null?void 0:_.target)===null||T===void 0?void 0:T.checked)){y&&c.validate();return}const H=Re(t),U=r==null?void 0:r.getPathState(H),X=au(_);let z=(x=Re(i))!==null&&x!==void 0?x:X;r&&(U!=null&&U.multiple)&&U.type==="checkbox"?z=M_(xn(r.values,H)||[],z,void 0):(n==null?void 0:n.type)==="checkbox"&&(z=M_(Re(c.value),z,Re(s))),u(z,y)}return Object.assign(Object.assign({},c),{checked:h,checkedValue:i,uncheckedValue:s,handleChange:p})}return o(BT(t,e,n))}function Y1({prop:t,value:e,handleChange:n,shouldValidate:r}){const i=_u();if(!i||!t)return;const s=typeof t=="string"?t:"modelValue",o=`update:${s}`;s in i.props&&(dr(e,c=>{Nn(c,Bd(i,s))||i.emit(o,c)}),dr(()=>Bd(i,s),c=>{if(c===su&&e.value===void 0)return;const u=c===su?void 0:c;Nn(u,e.value)||n(u,r())}))}function Bd(t,e){if(t)return t.props[e]}const X1=vl({name:"Field",inheritAttrs:!1,props:{as:{type:[String,Object],default:void 0},name:{type:String,required:!0},rules:{type:[Object,String,Function],default:void 0},validateOnMount:{type:Boolean,default:!1},validateOnBlur:{type:Boolean,default:void 0},validateOnChange:{type:Boolean,default:void 0},validateOnInput:{type:Boolean,default:void 0},validateOnModelUpdate:{type:Boolean,default:void 0},bails:{type:Boolean,default:()=>Ds().bails},label:{type:String,default:void 0},uncheckedValue:{type:null,default:void 0},modelValue:{type:null,default:su},modelModifiers:{type:null,default:()=>({})},"onUpdate:modelValue":{type:null,default:void 0},standalone:{type:Boolean,default:!1},keepValue:{type:Boolean,default:void 0}},setup(t,e){const n=Os(t,"rules"),r=Os(t,"name"),i=Os(t,"label"),s=Os(t,"uncheckedValue"),o=Os(t,"keepValue"),{errors:c,value:u,errorMessage:h,validate:p,handleChange:_,handleBlur:y,setTouched:T,resetField:x,handleReset:H,meta:U,checked:X,setErrors:z,setValue:ne}=z1(r,n,{validateOnMount:t.validateOnMount,bails:t.bails,standalone:t.standalone,type:e.attrs.type,initialValue:Z1(t,e),checkedValue:e.attrs.value,uncheckedValue:s,label:i,validateOnValueUpdate:t.validateOnModelUpdate,keepValueOnUnmount:o,syncVModel:!0}),ee=function(P,O=!0){_(P,O)},be=Ue(()=>{const{validateOnInput:b,validateOnChange:P,validateOnBlur:O,validateOnModelUpdate:V}=J1(t);function I(he){y(he,O),rn(e.attrs.onBlur)&&e.attrs.onBlur(he)}function Ze(he){ee(he,b),rn(e.attrs.onInput)&&e.attrs.onInput(he)}function ut(he){ee(he,P),rn(e.attrs.onChange)&&e.attrs.onChange(he)}const Me={name:t.name,onBlur:I,onInput:Ze,onChange:ut};return Me["onUpdate:modelValue"]=he=>ee(he,V),Me}),ge=Ue(()=>{const b=Object.assign({},be.value);Nl(e.attrs.type)&&X&&(b.checked=X.value);const P=B_(t,e);return b1(P,e.attrs)&&(b.value=u.value),b}),R=Ue(()=>Object.assign(Object.assign({},be.value),{modelValue:u.value}));function w(){return{field:ge.value,componentField:R.value,value:u.value,meta:U,errors:c.value,errorMessage:h.value,validate:p,resetField:x,handleChange:ee,handleInput:b=>ee(b,!1),handleReset:H,handleBlur:be.value.onBlur,setTouched:T,setErrors:z,setValue:ne}}return e.expose({value:u,meta:U,errors:c,errorMessage:h,setErrors:z,setTouched:T,setValue:ne,reset:x,validate:p,handleChange:_}),()=>{const b=af(B_(t,e)),P=lp(b,e,w);return b?Oo(b,Object.assign(Object.assign({},e.attrs),ge.value),P):P}}});function B_(t,e){let n=t.as||"";return!t.as&&!e.slots.default&&(n="input"),n}function J1(t){var e,n,r,i;const{validateOnInput:s,validateOnChange:o,validateOnBlur:c,validateOnModelUpdate:u}=Ds();return{validateOnInput:(e=t.validateOnInput)!==null&&e!==void 0?e:s,validateOnChange:(n=t.validateOnChange)!==null&&n!==void 0?n:o,validateOnBlur:(r=t.validateOnBlur)!==null&&r!==void 0?r:c,validateOnModelUpdate:(i=t.validateOnModelUpdate)!==null&&i!==void 0?i:u}}function Z1(t,e){return Nl(e.attrs.type)?V_(t,"modelValue")?t.modelValue:void 0:V_(t,"modelValue")?t.modelValue:e.attrs.value}const px=X1;let eL=0;const vc=["bails","fieldsCount","id","multiple","type","validate"];function jT(t){const e=(t==null?void 0:t.initialValues)||{},n=Object.assign({},Re(e)),r=Ye(t==null?void 0:t.validationSchema);return r&&ur(r)&&rn(r.cast)?ot(r.cast(n)||{}):ot(n)}function tL(t){var e;const n=eL++,r=(t==null?void 0:t.name)||"Form";let i=0;const s=Pn(!1),o=Pn(!1),c=Pn(0),u=[],h=Wi(jT(t)),p=Pn([]),_=Pn({}),y=Pn({}),T=S1(()=>{y.value=p.value.reduce((k,D)=>(k[$a(Re(D.path))]=D,k),{})});function x(k,D){const W=he(k);if(!W){typeof k=="string"&&(_.value[$a(k)]=$d(D));return}if(typeof k=="string"){const le=$a(k);_.value[le]&&delete _.value[le]}W.errors=$d(D),W.valid=!W.errors.length}function H(k){Wn(k).forEach(D=>{x(D,k[D])})}t!=null&&t.initialErrors&&H(t.initialErrors);const U=Ue(()=>{const k=p.value.reduce((D,W)=>(W.errors.length&&(D[Re(W.path)]=W.errors),D),{});return Object.assign(Object.assign({},_.value),k)}),X=Ue(()=>Wn(U.value).reduce((k,D)=>{const W=U.value[D];return W!=null&&W.length&&(k[D]=W[0]),k},{})),z=Ue(()=>p.value.reduce((k,D)=>(k[Re(D.path)]={name:Re(D.path)||"",label:D.label||""},k),{})),ne=Ue(()=>p.value.reduce((k,D)=>{var W;return k[Re(D.path)]=(W=D.bails)!==null&&W!==void 0?W:!0,k},{})),ee=Object.assign({},(t==null?void 0:t.initialErrors)||{}),be=(e=t==null?void 0:t.keepValuesOnUnmount)!==null&&e!==void 0?e:!1,{initialValues:ge,originalInitialValues:R,setInitialValues:w}=rL(p,h,t),b=nL(p,h,R,X),P=Ue(()=>p.value.reduce((k,D)=>{const W=xn(h,Re(D.path));return Zr(k,Re(D.path),W),k},{})),O=t==null?void 0:t.validationSchema;function V(k,D){var W,le;const Ae=Ue(()=>xn(ge.value,Re(k))),ye=y.value[Re(k)],ve=(D==null?void 0:D.type)==="checkbox"||(D==null?void 0:D.type)==="radio";if(ye&&ve){ye.multiple=!0;const Pt=i++;return Array.isArray(ye.id)?ye.id.push(Pt):ye.id=[ye.id,Pt],ye.fieldsCount++,ye.__flags.pendingUnmount[Pt]=!1,ye}const et=Ue(()=>xn(h,Re(k))),At=Re(k),kt=yt.findIndex(Pt=>Pt===At);kt!==-1&&yt.splice(kt,1);const tt=Ue(()=>{var Pt,vr,yr,gi;const Dn=Re(O);if(ur(Dn))return(vr=(Pt=Dn.describe)===null||Pt===void 0?void 0:Pt.call(Dn,Re(k)).required)!==null&&vr!==void 0?vr:!1;const _i=Re(D==null?void 0:D.schema);return ur(_i)&&(gi=(yr=_i.describe)===null||yr===void 0?void 0:yr.call(_i).required)!==null&&gi!==void 0?gi:!1}),Ct=i++,Bt=Wi({id:Ct,path:k,touched:!1,pending:!1,valid:!0,validated:!!(!((W=ee[At])===null||W===void 0)&&W.length),required:tt,initialValue:Ae,errors:dv([]),bails:(le=D==null?void 0:D.bails)!==null&&le!==void 0?le:!1,label:D==null?void 0:D.label,type:(D==null?void 0:D.type)||"default",value:et,multiple:!1,__flags:{pendingUnmount:{[Ct]:!1},pendingReset:!1},fieldsCount:1,validate:D==null?void 0:D.validate,dirty:Ue(()=>!Nn(Ye(et),Ye(Ae)))});return p.value.push(Bt),y.value[At]=Bt,T(),X.value[At]&&!ee[At]&&qn(()=>{ie(At,{mode:"silent"})}),Nt(k)&&dr(k,Pt=>{T();const vr=ot(et.value);y.value[Pt]=Bt,qn(()=>{Zr(h,Pt,vr)})}),Bt}const I=F_(ue,5),Ze=F_(ue,5),ut=Fd(async k=>await(k==="silent"?I():Ze()),(k,[D])=>{const W=Wn(B.errorBag.value),Ae=[...new Set([...Wn(k.results),...p.value.map(ye=>ye.path),...W])].sort().reduce((ye,ve)=>{var et;const At=ve,kt=he(At)||Ve(At),tt=((et=k.results[At])===null||et===void 0?void 0:et.errors)||[],Ct=Re(kt==null?void 0:kt.path)||At,Bt=iL({errors:tt,valid:!tt.length},ye.results[Ct]);return ye.results[Ct]=Bt,Bt.valid||(ye.errors[Ct]=Bt.errors[0]),kt&&_.value[Ct]&&delete _.value[Ct],kt?(kt.valid=Bt.valid,D==="silent"||D==="validated-only"&&!kt.validated||x(kt,Bt.errors),ye):(x(Ct,tt),ye)},{valid:k.valid,results:{},errors:{},source:k.source});return k.values&&(Ae.values=k.values,Ae.source=k.source),Wn(Ae.results).forEach(ye=>{var ve;const et=he(ye);et&&D!=="silent"&&(D==="validated-only"&&!et.validated||x(et,(ve=Ae.results[ye])===null||ve===void 0?void 0:ve.errors))}),Ae});function Me(k){p.value.forEach(k)}function he(k){const D=typeof k=="string"?$a(k):k;return typeof D=="string"?y.value[D]:D}function Ve(k){return p.value.filter(W=>k.startsWith(Re(W.path))).reduce((W,le)=>W?le.path.length>W.path.length?le:W:le,void 0)}let yt=[],Dt;function Ut(k){return yt.push(k),Dt||(Dt=qn(()=>{[...yt].sort().reverse().forEach(W=>{x_(h,W)}),yt=[],Dt=null})),Dt}function it(k){return function(W,le){return function(ye){return ye instanceof Event&&(ye.preventDefault(),ye.stopPropagation()),Me(ve=>ve.touched=!0),s.value=!0,c.value++,ae().then(ve=>{const et=ot(h);if(ve.valid&&typeof W=="function"){const At=ot(P.value);let kt=k?At:et;return ve.values&&(kt=ve.source==="schema"?ve.values:Object.assign({},kt,ve.values)),W(kt,{evt:ye,controlledValues:At,setErrors:H,setFieldError:x,setTouched:Q,setFieldTouched:Pe,setValues:de,setFieldValue:N,resetForm:Z,resetField:L})}!ve.valid&&typeof le=="function"&&le({values:et,evt:ye,errors:ve.errors,results:ve.results})}).then(ve=>(s.value=!1,ve),ve=>{throw s.value=!1,ve})}}}const gt=it(!1);gt.withControlled=it(!0);function Xt(k,D){const W=p.value.findIndex(Ae=>Ae.path===k&&(Array.isArray(Ae.id)?Ae.id.includes(D):Ae.id===D)),le=p.value[W];if(!(W===-1||!le)){if(qn(()=>{ie(k,{mode:"silent",warn:!1})}),le.multiple&&le.fieldsCount&&le.fieldsCount--,Array.isArray(le.id)){const Ae=le.id.indexOf(D);Ae>=0&&le.id.splice(Ae,1),delete le.__flags.pendingUnmount[D]}(!le.multiple||le.fieldsCount<=0)&&(p.value.splice(W,1),se(k),T(),delete y.value[k])}}function fe(k){Wn(y.value).forEach(D=>{D.startsWith(k)&&delete y.value[D]}),p.value=p.value.filter(D=>!D.path.startsWith(k)),qn(()=>{T()})}const B={name:r,formId:n,values:h,controlledValues:P,errorBag:U,errors:X,schema:O,submitCount:c,meta:b,isSubmitting:s,isValidating:o,fieldArrays:u,keepValuesOnUnmount:be,validateSchema:Ye(O)?ut:void 0,validate:ae,setFieldError:x,validateField:ie,setFieldValue:N,setValues:de,setErrors:H,setFieldTouched:Pe,setTouched:Q,resetForm:Z,resetField:L,handleSubmit:gt,useFieldModel:Ie,defineInputBinds:Xe,defineComponentBinds:qe,defineField:pe,stageInitialValue:te,unsetInitialValue:se,setFieldInitialValue:we,createPathState:V,getPathState:he,unsetPathValue:Ut,removePathState:Xt,initialValues:ge,getAllPathStates:()=>p.value,destroyPath:fe,isFieldTouched:A,isFieldDirty:S,isFieldValid:$};function N(k,D,W=!0){const le=ot(D),Ae=typeof k=="string"?k:k.path;he(Ae)||V(Ae),Zr(h,Ae,le),W&&ie(Ae)}function J(k,D=!0){Wn(h).forEach(W=>{delete h[W]}),Wn(k).forEach(W=>{N(W,k[W],!1)}),D&&ae()}function de(k,D=!0){ml(h,k),u.forEach(W=>W&&W.reset()),D&&ae()}function Ne(k,D){const W=he(Re(k))||V(k);return Ue({get(){return W.value},set(le){var Ae;const ye=Re(k);N(ye,le,(Ae=Re(D))!==null&&Ae!==void 0?Ae:!1)}})}function Pe(k,D){const W=he(k);W&&(W.touched=D)}function A(k){const D=he(k);return D?D.touched:p.value.filter(W=>W.path.startsWith(k)).some(W=>W.touched)}function S(k){const D=he(k);return D?D.dirty:p.value.filter(W=>W.path.startsWith(k)).some(W=>W.dirty)}function $(k){const D=he(k);return D?D.valid:p.value.filter(W=>W.path.startsWith(k)).every(W=>W.valid)}function Q(k){if(typeof k=="boolean"){Me(D=>{D.touched=k});return}Wn(k).forEach(D=>{Pe(D,!!k[D])})}function L(k,D){var W;const le=D&&"value"in D?D.value:xn(ge.value,k),Ae=he(k);Ae&&(Ae.__flags.pendingReset=!0),we(k,ot(le),!0),N(k,le,!1),Pe(k,(W=D==null?void 0:D.touched)!==null&&W!==void 0?W:!1),x(k,(D==null?void 0:D.errors)||[]),qn(()=>{Ae&&(Ae.__flags.pendingReset=!1)})}function Z(k,D){let W=ot(k!=null&&k.values?k.values:R.value);W=D!=null&&D.force?W:ml(R.value,W),W=ur(O)&&rn(O.cast)?O.cast(W):W,w(W,{force:D==null?void 0:D.force}),Me(le=>{var Ae;le.__flags.pendingReset=!0,le.validated=!1,le.touched=((Ae=k==null?void 0:k.touched)===null||Ae===void 0?void 0:Ae[Re(le.path)])||!1,N(Re(le.path),xn(W,Re(le.path)),!1),x(Re(le.path),void 0)}),D!=null&&D.force?J(W,!1):de(W,!1),H((k==null?void 0:k.errors)||{}),c.value=(k==null?void 0:k.submitCount)||0,qn(()=>{ae({mode:"silent"}),Me(le=>{le.__flags.pendingReset=!1})})}async function ae(k){const D=(k==null?void 0:k.mode)||"force";if(D==="force"&&Me(ve=>ve.validated=!0),B.validateSchema)return B.validateSchema(D);o.value=!0;const W=await Promise.all(p.value.map(ve=>ve.validate?ve.validate(k).then(et=>({key:Re(ve.path),valid:et.valid,errors:et.errors,value:et.value})):Promise.resolve({key:Re(ve.path),valid:!0,errors:[],value:void 0})));o.value=!1;const le={},Ae={},ye={};for(const ve of W)le[ve.key]={valid:ve.valid,errors:ve.errors},ve.value&&Zr(ye,ve.key,ve.value),ve.errors.length&&(Ae[ve.key]=ve.errors[0]);return{valid:W.every(ve=>ve.valid),results:le,errors:Ae,values:ye,source:"fields"}}async function ie(k,D){var W;const le=he(k);if(le&&(D==null?void 0:D.mode)!=="silent"&&(le.validated=!0),O){const{results:Ae}=await ut((D==null?void 0:D.mode)||"validated-only");return Ae[k]||{errors:[],valid:!0}}return le!=null&&le.validate?le.validate(D):(!le&&(W=D==null?void 0:D.warn),Promise.resolve({errors:[],valid:!0}))}function se(k){x_(ge.value,k)}function te(k,D,W=!1){we(k,D),Zr(h,k,D),W&&!(t!=null&&t.initialValues)&&Zr(R.value,k,ot(D))}function we(k,D,W=!1){Zr(ge.value,k,ot(D)),W&&Zr(R.value,k,ot(D))}async function ue(){const k=Ye(O);if(!k)return{valid:!0,results:{},errors:{},source:"none"};o.value=!0;const D=ou(k)||ur(k)?await U1(k,h):await B1(k,h,{names:z.value,bailsMap:ne.value});return o.value=!1,D}const Ee=gt((k,{evt:D})=>{kT(D)&&D.target.submit()});of(()=>{if(t!=null&&t.initialErrors&&H(t.initialErrors),t!=null&&t.initialTouched&&Q(t.initialTouched),t!=null&&t.validateOnMount){ae();return}B.validateSchema&&B.validateSchema("silent")}),Nt(O)&&dr(O,()=>{var k;(k=B.validateSchema)===null||k===void 0||k.call(B,"validated-only")}),Ui(Hu,B);function pe(k,D){const W=rn(D)||D==null?void 0:D.label,le=he(Re(k))||V(k,{label:W}),Ae=()=>rn(D)?D(_c(le,vc)):D||{};function ye(){var tt;le.touched=!0,((tt=Ae().validateOnBlur)!==null&&tt!==void 0?tt:Ds().validateOnBlur)&&ie(Re(le.path))}function ve(){var tt;((tt=Ae().validateOnInput)!==null&&tt!==void 0?tt:Ds().validateOnInput)&&qn(()=>{ie(Re(le.path))})}function et(){var tt;((tt=Ae().validateOnChange)!==null&&tt!==void 0?tt:Ds().validateOnChange)&&qn(()=>{ie(Re(le.path))})}const At=Ue(()=>{const tt={onChange:et,onInput:ve,onBlur:ye};return rn(D)?Object.assign(Object.assign({},tt),D(_c(le,vc)).props||{}):D!=null&&D.props?Object.assign(Object.assign({},tt),D.props(_c(le,vc))):tt});return[Ne(k,()=>{var tt,Ct,Bt;return(Bt=(tt=Ae().validateOnModelUpdate)!==null&&tt!==void 0?tt:(Ct=Ds())===null||Ct===void 0?void 0:Ct.validateOnModelUpdate)!==null&&Bt!==void 0?Bt:!0}),At]}function Ie(k){return Array.isArray(k)?k.map(D=>Ne(D,!0)):Ne(k)}function Xe(k,D){const[W,le]=pe(k,D);function Ae(){le.value.onBlur()}function ye(et){const At=au(et);N(Re(k),At,!1),le.value.onInput()}function ve(et){const At=au(et);N(Re(k),At,!1),le.value.onChange()}return Ue(()=>Object.assign(Object.assign({},le.value),{onBlur:Ae,onInput:ye,onChange:ve,value:W.value}))}function qe(k,D){const[W,le]=pe(k,D),Ae=he(Re(k));function ye(ve){W.value=ve}return Ue(()=>{const ve=rn(D)?D(_c(Ae,vc)):D||{};return Object.assign({[ve.model||"modelValue"]:W.value,[`onUpdate:${ve.model||"modelValue"}`]:ye},le.value)})}const Vt=Object.assign(Object.assign({},B),{values:ef(h),handleReset:()=>Z(),submitForm:Ee});return Ui(_1,Vt),Vt}function nL(t,e,n,r){const i={touched:"some",pending:"some",valid:"every"},s=Ue(()=>!Nn(e,Ye(n)));function o(){const u=t.value;return Wn(i).reduce((h,p)=>{const _=i[p];return h[p]=u[_](y=>y[p]),h},{})}const c=Wi(o());return N0(()=>{const u=o();c.touched=u.touched,c.valid=u.valid,c.pending=u.pending}),Ue(()=>Object.assign(Object.assign({initialValues:Ye(n)},c),{valid:c.valid&&!Wn(r.value).length,dirty:s.value}))}function rL(t,e,n){const r=jT(n),i=Pn(r),s=Pn(ot(r));function o(c,u){u!=null&&u.force?(i.value=ot(c),s.value=ot(c)):(i.value=ml(ot(i.value)||{},ot(c)),s.value=ml(ot(s.value)||{},ot(c))),u!=null&&u.updateFields&&t.value.forEach(h=>{if(h.touched)return;const _=xn(i.value,Re(h.path));Zr(e,Re(h.path),ot(_))})}return{initialValues:i,originalInitialValues:s,setInitialValues:o}}function iL(t,e){return e?{valid:t.valid&&e.valid,errors:[...t.errors,...e.errors]}:t}const sL=vl({name:"Form",inheritAttrs:!1,props:{as:{type:null,default:"form"},validationSchema:{type:Object,default:void 0},initialValues:{type:Object,default:void 0},initialErrors:{type:Object,default:void 0},initialTouched:{type:Object,default:void 0},validateOnMount:{type:Boolean,default:!1},onSubmit:{type:Function,default:void 0},onInvalidSubmit:{type:Function,default:void 0},keepValues:{type:Boolean,default:!1},name:{type:String,default:"Form"}},setup(t,e){const n=Os(t,"validationSchema"),r=Os(t,"keepValues"),{errors:i,errorBag:s,values:o,meta:c,isSubmitting:u,isValidating:h,submitCount:p,controlledValues:_,validate:y,validateField:T,handleReset:x,resetForm:H,handleSubmit:U,setErrors:X,setFieldError:z,setFieldValue:ne,setValues:ee,setFieldTouched:be,setTouched:ge,resetField:R}=tL({validationSchema:n.value?n:void 0,initialValues:t.initialValues,initialErrors:t.initialErrors,initialTouched:t.initialTouched,validateOnMount:t.validateOnMount,keepValuesOnUnmount:r,name:t.name}),w=U((Me,{evt:he})=>{kT(he)&&he.target.submit()},t.onInvalidSubmit),b=t.onSubmit?U(t.onSubmit,t.onInvalidSubmit):w;function P(Me){op(Me)&&Me.preventDefault(),x(),typeof e.attrs.onReset=="function"&&e.attrs.onReset()}function O(Me,he){return U(typeof Me=="function"&&!he?Me:he,t.onInvalidSubmit)(Me)}function V(){return ot(o)}function I(){return ot(c.value)}function Ze(){return ot(i.value)}function ut(){return{meta:c.value,errors:i.value,errorBag:s.value,values:o,isSubmitting:u.value,isValidating:h.value,submitCount:p.value,controlledValues:_.value,validate:y,validateField:T,handleSubmit:O,handleReset:x,submitForm:w,setErrors:X,setFieldError:z,setFieldValue:ne,setValues:ee,setFieldTouched:be,setTouched:ge,resetForm:H,resetField:R,getValues:V,getMeta:I,getErrors:Ze}}return e.expose({setFieldError:z,setErrors:X,setFieldValue:ne,setValues:ee,setFieldTouched:be,setTouched:ge,resetForm:H,validate:y,validateField:T,resetField:R,getValues:V,getMeta:I,getErrors:Ze,values:o,meta:c,errors:i}),function(){const he=t.as==="form"?t.as:t.as?af(t.as):null,Ve=lp(he,e,ut);return he?Oo(he,Object.assign(Object.assign(Object.assign({},he==="form"?{novalidate:!0}:{}),e.attrs),{onSubmit:b,onReset:P}),Ve):Ve}}}),mx=sL,oL=vl({name:"ErrorMessage",props:{as:{type:String,default:void 0},name:{type:String,required:!0}},setup(t,e){const n=Fn(Hu,void 0),r=Ue(()=>n==null?void 0:n.errors.value[t.name]);function i(){return{message:r.value}}return()=>{if(!r.value)return;const s=t.as?af(t.as):t.as,o=lp(s,e,i),c=Object.assign({role:"alert"},e.attrs);return!s&&(Array.isArray(o)||!o)&&(o!=null&&o.length)?o:(Array.isArray(o)||!o)&&!(o!=null&&o.length)?Oo(s||"span",c,r.value):Oo(s,c,o)}}}),gx=oL;/**
  * vee-validate v4.15.0
  * (c) 2024 Abdelrahman Awad
  * @license MIT
  */function HT(t,e){return Array.isArray(t)?t[0]:t[e]}function cp(t){return!!(t==null||t===""||Array.isArray(t)&&t.length===0)}function aL(t){return Array.isArray(t)?{min:t[0],max:t[1]}:t}const qT=(t,e)=>{if(cp(t))return!0;const{min:n,max:r}=aL(e);if(Array.isArray(t))return t.every(s=>qT(s,{min:n,max:r}));const i=Number(t);return Number(n)<=i&&Number(r)>=i},WT=(t,e)=>{if(cp(t))return!0;const n=HT(e,"length");return Array.isArray(t)?t.every(r=>WT(r,{length:n})):[...String(t)].length<=Number(n)},KT=(t,e)=>{if(cp(t))return!0;const n=HT(e,"length");return Array.isArray(t)?t.every(r=>KT(r,{length:n})):[...String(t)].length>=Number(n)};function lL(t){return t==null}function cL(t){return Array.isArray(t)&&t.length===0}const uL=t=>lL(t)||cL(t)||t===!1?!1:!!String(t).trim().length,hL={class:"page-container"},dL={class:"content"},fL={__name:"BaseLayout",setup(t){return Oa("required",uL),Oa("max",WT),Oa("min",KT),Oa("between",qT),Oa("email",e=>/^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,6}$/.test(e)||"O campo deve ser um email válido."),k1({generateMessage:e=>({required:"Este campo é obrigatório.",max:`Este campo deve ter no máximo ${e.rule.params[0]} caracteres`,min:`Este campo deve ter no mínimo ${e.rule.params[0]} caracteres`,email:`O campo ${e.field} deve ser um email válido`})[e.rule.name||`O campo ${e.field} é inválido`]}),Ui("userData",Co),OT(),(e,n)=>(Mn(),Or("div",hL,[nt(n1),Ce("main",dL,[ks(e.$slots,"default")]),nt(l1)]))}},pL={class:"body"},mL={__name:"App",setup(t){return(e,n)=>(Mn(),Uc(fL,null,{default:wt(()=>[Ce("div",pL,[n[0]||(n[0]=Ce("link",{rel:"shortcut icon",href:"/RateMaster/src/assets/favicon.ico"},null,-1)),nt(Ye(uy))])]),_:1}))}},gL="modulepreload",_L=function(t){return"/"+t},j_={},Jr=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),c=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));i=Promise.allSettled(n.map(u=>{if(u=_L(u),u in j_)return;j_[u]=!0;const h=u.endsWith(".css"),p=h?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${p}`))return;const _=document.createElement("link");if(_.rel=h?"stylesheet":gL,h||(_.as="script"),_.crossOrigin="",_.href=u,c&&_.setAttribute("nonce",c),document.head.appendChild(_),h)return new Promise((y,T)=>{_.addEventListener("load",y),_.addEventListener("error",()=>T(new Error(`Unable to preload CSS for ${u}`)))})}))}function s(o){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=o,window.dispatchEvent(c),!c.defaultPrevented)throw o}return i.then(o=>{for(const c of o||[])c.status==="rejected"&&s(c.reason);return e().catch(s)})},vL="/assets/Home-qqqe0v5o.png",yL="/user1.jpeg",EL="/user2.jpeg",TL="/user3.jpeg",wL={},AL={class:"container box rounded-4"},bL={class:"text-white pt-4"},IL={class:"lead text-white pt-4 pb-5"};function SL(t,e){return Mn(),Or("div",AL,[e[0]||(e[0]=Ce("i",{class:"bi bi-box icon-box"},null,-1)),Ce("h5",bL,[ks(t.$slots,"title",{},void 0,!0)]),Ce("p",IL,[ks(t.$slots,"comment",{},void 0,!0)])])}const Yh=Zo(wL,[["render",SL],["__scopeId","data-v-0e978668"]]),RL={},CL={class:"container-fluid d-flex flex-column align-items-center box rounded-4 mb-5 shadow-lg"},PL={class:"lead text-white pt-4 text-resize"},OL={class:"lead text-white"};function NL(t,e){return Mn(),Or("div",CL,[Ce("p",PL,[ks(t.$slots,"comment",{},void 0,!0)]),ks(t.$slots,"src",{},void 0,!0),Ce("p",OL,[ks(t.$slots,"user",{},void 0,!0)])])}const Xh=Zo(RL,[["render",NL],["__scopeId","data-v-0d0b2455"]]),DL={class:"container-fluid white-comment-container"},VL={class:"container text-center p-3"},kL={class:"row g-4"},LL={class:"col"},xL={class:"col"},ML={class:"col"},FL={class:"container"},$L={class:"container text-center white-comment-container"},UL={class:"row g-3 pt-5"},BL={class:"col"},jL={class:"col"},HL={class:"col"},qL={__name:"HomePageView",setup(t){return(e,n)=>(Mn(),Or(Kn,null,[n[16]||(n[16]=Ce("div",{class:"container-fluid p-0"},[Ce("img",{class:"header-img shadow-sm",src:vL,alt:"Picture"})],-1)),Ce("div",DL,[n[6]||(n[6]=Ce("div",{class:"text-box text-center"},[Ce("h1",{class:"display-4 text-color"},"Bem Vindo à RateMaster"),Ce("p",{class:"lead text-color pb-3"},"Descubra os melhores produtos e compartilhe suas opniões.")],-1)),Ce("div",VL,[Ce("div",kL,[Ce("div",LL,[nt(Yh,null,{title:wt(()=>n[0]||(n[0]=[Gt(" Soluções personalizadas desenvolvidas para atender às suas necessidades específicas. ")])),comment:wt(()=>n[1]||(n[1]=[Gt(" Oferecemos uma gama de produtos que simplificam a avaliação de desempenho. ")])),_:1})]),Ce("div",xL,[nt(Yh,null,{title:wt(()=>n[2]||(n[2]=[Gt(" Nossos serviços garantem qualidade e eficiência em cada projeto. ")])),comment:wt(()=>n[3]||(n[3]=[Gt(" Estamos comprometidos em entregar resultados que superem suas expectativas. ")])),_:1})]),Ce("div",ML,[nt(Yh,null,{title:wt(()=>n[4]||(n[4]=[Gt(" A tecnologia que transforma a maneira como você avalia produtos. ")])),comment:wt(()=>n[5]||(n[5]=[Gt(" Inovação e conveniência são os pilares das nossas soluções. ")])),_:1})])])])]),n[17]||(n[17]=Ce("div",{class:"container-fluid colored-comment-container"},[Ce("div",{class:"text-box text-center p-5"},[Ce("h1",{class:"display-4 text-white text-start pt-5"},"Avalie com confiança."),Ce("p",{class:"lead text-white text-start pb-5"},"Descubra avaliações detalhadas e imparciais para ajudá-lo a tomar decisões de compra informadas.")])],-1)),Ce("div",FL,[Ce("div",$L,[Ce("div",UL,[Ce("div",BL,[nt(Xh,null,{comment:wt(()=>n[7]||(n[7]=[Gt(" Eu simplesmente amei este produto! Qualidade é excepcional e superou minhas expectativas. Vou recomendá-lo aos meus amigos e familiares. ")])),src:wt(()=>n[8]||(n[8]=[Ce("img",{class:"review-logo rounded-pill",src:yL,alt:"review-logo"},null,-1)])),user:wt(()=>n[9]||(n[9]=[Gt(" Carol ")])),_:1})]),Ce("div",jL,[nt(Xh,null,{comment:wt(()=>n[10]||(n[10]=[Gt(" O produto é razoável pelo preço, mas não atendeu totalmente às minhas expectativas. Funciona, mas há espaço para melhorias. ")])),src:wt(()=>n[11]||(n[11]=[Ce("img",{class:"review-logo rounded-pill",src:EL,alt:"review-logo"},null,-1)])),user:wt(()=>n[12]||(n[12]=[Gt(" Maria ")])),_:1})]),Ce("div",HL,[nt(Xh,null,{comment:wt(()=>n[13]||(n[13]=[Gt(" O atendimento ao cliente foi fantástico! Foram rápidos em responder, amigáveis e resolveram meu problema em pouco tempo. Experiência A+! ")])),src:wt(()=>n[14]||(n[14]=[Ce("img",{class:"review-logo rounded-pill",src:TL,alt:"review-logo"},null,-1)])),user:wt(()=>n[15]||(n[15]=[Gt(" Carlos ")])),_:1})])])])]),n[18]||(n[18]=zv('<div class="container-fluid colored-comment-container" data-v-8ac8426c><div class="row" data-v-8ac8426c><div class="col p-5 d-flex justify-content-between align-items-center" data-v-8ac8426c><div data-v-8ac8426c><h1 class="display-4 text-white text-start" data-v-8ac8426c>Entre em contato conosco.</h1><p class="lead text-white text-start" data-v-8ac8426c>Descubra como nossa plataforma pode ajudá-lo.</p></div></div></div></div>',1))],64))}},WL=Zo(qL,[["__scopeId","data-v-8ac8426c"]]);OT();const zT=CR({history:sR("/"),routes:[{path:"/",name:"homepage",component:WL},{path:"/login",name:"login",component:()=>Jr(()=>import("./LoginView-D4RWmTUq.js"),__vite__mapDeps([0,1,2]))},{path:"/reviews",name:"reviews",component:()=>Jr(()=>import("./ProductReviewsView-DWIFNSB1.js"),__vite__mapDeps([3,4]))},{path:"/registerUser",name:"registerUser",component:()=>Jr(()=>import("./RegisterUserView-CO5BACkA.js"),__vite__mapDeps([5,1,6]))},{path:"/registerProduct",name:"registerProduct",meta:{requireAuth:!0,requireShop:!0},component:()=>Jr(()=>import("./RegisterProductView-BB-ph7XE.js"),__vite__mapDeps([7,8]))},{path:"/brand",name:"brands",meta:{requireAuth:!0,requireShop:!0},component:()=>Jr(()=>import("./BrandView-CFFnoUd8.js"),__vite__mapDeps([9,10]))},{path:"/updateProducts/:id",name:"updateProducts",meta:{requireAuth:!0,requireShop:!0},component:()=>Jr(()=>import("./UpdateProductsView-CPH-lLL-.js"),__vite__mapDeps([11,12]))},{path:"/product/:id",name:"productDetail",meta:{requireAuth:!0},component:()=>Jr(()=>import("./ProductDetailsView-D4qUrSol.js"),__vite__mapDeps([13,14]))},{path:"/myProfile",name:"myProfile",meta:{requireAuth:!0},component:()=>Jr(()=>import("./MyProfileView-AvGbK5yk.js"),__vite__mapDeps([15,16]))},{path:"/unauthorized",name:"Unauthorized",component:()=>Jr(()=>import("./UnauthorizedView-Cqgh_u9C.js"),__vite__mapDeps([17,18]))}]});zT.beforeEach((t,e,n)=>{const r=t.matched.some(s=>s.meta.requireAuth),i=t.matched.some(s=>s.meta.requireShop);r?Co.value?!i||i&&Co.value.userType==="business"?n():n("/unauthorized"):n("/login"):n()});var KL=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},zL={exports:{}};/*!
  * Bootstrap v5.3.3 (https://getbootstrap.com/)
  * Copyright 2011-2024 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */(function(t,e){(function(n,r){t.exports=r()})(KL,function(){const n=new Map,r={set(m,l,f){n.has(m)||n.set(m,new Map);const v=n.get(m);if(!v.has(l)&&v.size!==0){console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(v.keys())[0]}.`);return}v.set(l,f)},get(m,l){return n.has(m)&&n.get(m).get(l)||null},remove(m,l){if(!n.has(m))return;const f=n.get(m);f.delete(l),f.size===0&&n.delete(m)}},i=1e6,s=1e3,o="transitionend",c=m=>(m&&window.CSS&&window.CSS.escape&&(m=m.replace(/#([^\s"#']+)/g,(l,f)=>`#${CSS.escape(f)}`)),m),u=m=>m==null?`${m}`:Object.prototype.toString.call(m).match(/\s([a-z]+)/i)[1].toLowerCase(),h=m=>{do m+=Math.floor(Math.random()*i);while(document.getElementById(m));return m},p=m=>{if(!m)return 0;let{transitionDuration:l,transitionDelay:f}=window.getComputedStyle(m);const v=Number.parseFloat(l),C=Number.parseFloat(f);return!v&&!C?0:(l=l.split(",")[0],f=f.split(",")[0],(Number.parseFloat(l)+Number.parseFloat(f))*s)},_=m=>{m.dispatchEvent(new Event(o))},y=m=>!m||typeof m!="object"?!1:(typeof m.jquery<"u"&&(m=m[0]),typeof m.nodeType<"u"),T=m=>y(m)?m.jquery?m[0]:m:typeof m=="string"&&m.length>0?document.querySelector(c(m)):null,x=m=>{if(!y(m)||m.getClientRects().length===0)return!1;const l=getComputedStyle(m).getPropertyValue("visibility")==="visible",f=m.closest("details:not([open])");if(!f)return l;if(f!==m){const v=m.closest("summary");if(v&&v.parentNode!==f||v===null)return!1}return l},H=m=>!m||m.nodeType!==Node.ELEMENT_NODE||m.classList.contains("disabled")?!0:typeof m.disabled<"u"?m.disabled:m.hasAttribute("disabled")&&m.getAttribute("disabled")!=="false",U=m=>{if(!document.documentElement.attachShadow)return null;if(typeof m.getRootNode=="function"){const l=m.getRootNode();return l instanceof ShadowRoot?l:null}return m instanceof ShadowRoot?m:m.parentNode?U(m.parentNode):null},X=()=>{},z=m=>{m.offsetHeight},ne=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,ee=[],be=m=>{document.readyState==="loading"?(ee.length||document.addEventListener("DOMContentLoaded",()=>{for(const l of ee)l()}),ee.push(m)):m()},ge=()=>document.documentElement.dir==="rtl",R=m=>{be(()=>{const l=ne();if(l){const f=m.NAME,v=l.fn[f];l.fn[f]=m.jQueryInterface,l.fn[f].Constructor=m,l.fn[f].noConflict=()=>(l.fn[f]=v,m.jQueryInterface)}})},w=(m,l=[],f=m)=>typeof m=="function"?m(...l):f,b=(m,l,f=!0)=>{if(!f){w(m);return}const C=p(l)+5;let F=!1;const j=({target:K})=>{K===l&&(F=!0,l.removeEventListener(o,j),w(m))};l.addEventListener(o,j),setTimeout(()=>{F||_(l)},C)},P=(m,l,f,v)=>{const C=m.length;let F=m.indexOf(l);return F===-1?!f&&v?m[C-1]:m[0]:(F+=f?1:-1,v&&(F=(F+C)%C),m[Math.max(0,Math.min(F,C-1))])},O=/[^.]*(?=\..*)\.|.*/,V=/\..*/,I=/::\d+$/,Ze={};let ut=1;const Me={mouseenter:"mouseover",mouseleave:"mouseout"},he=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function Ve(m,l){return l&&`${l}::${ut++}`||m.uidEvent||ut++}function yt(m){const l=Ve(m);return m.uidEvent=l,Ze[l]=Ze[l]||{},Ze[l]}function Dt(m,l){return function f(v){return J(v,{delegateTarget:m}),f.oneOff&&N.off(m,v.type,l),l.apply(m,[v])}}function Ut(m,l,f){return function v(C){const F=m.querySelectorAll(l);for(let{target:j}=C;j&&j!==this;j=j.parentNode)for(const K of F)if(K===j)return J(C,{delegateTarget:j}),v.oneOff&&N.off(m,C.type,l,f),f.apply(j,[C])}}function it(m,l,f=null){return Object.values(m).find(v=>v.callable===l&&v.delegationSelector===f)}function ht(m,l,f){const v=typeof l=="string",C=v?f:l||f;let F=B(m);return he.has(F)||(F=m),[v,C,F]}function gt(m,l,f,v,C){if(typeof l!="string"||!m)return;let[F,j,K]=ht(l,f,v);l in Me&&(j=(Et=>function(He){if(!He.relatedTarget||He.relatedTarget!==He.delegateTarget&&!He.delegateTarget.contains(He.relatedTarget))return Et.call(this,He)})(j));const re=yt(m),Te=re[K]||(re[K]={}),oe=it(Te,j,F?f:null);if(oe){oe.oneOff=oe.oneOff&&C;return}const Be=Ve(j,l.replace(O,"")),je=F?Ut(m,f,j):Dt(m,j);je.delegationSelector=F?f:null,je.callable=j,je.oneOff=C,je.uidEvent=Be,Te[Be]=je,m.addEventListener(K,je,F)}function Xt(m,l,f,v,C){const F=it(l[f],v,C);F&&(m.removeEventListener(f,F,!!C),delete l[f][F.uidEvent])}function fe(m,l,f,v){const C=l[f]||{};for(const[F,j]of Object.entries(C))F.includes(v)&&Xt(m,l,f,j.callable,j.delegationSelector)}function B(m){return m=m.replace(V,""),Me[m]||m}const N={on(m,l,f,v){gt(m,l,f,v,!1)},one(m,l,f,v){gt(m,l,f,v,!0)},off(m,l,f,v){if(typeof l!="string"||!m)return;const[C,F,j]=ht(l,f,v),K=j!==l,re=yt(m),Te=re[j]||{},oe=l.startsWith(".");if(typeof F<"u"){if(!Object.keys(Te).length)return;Xt(m,re,j,F,C?f:null);return}if(oe)for(const Be of Object.keys(re))fe(m,re,Be,l.slice(1));for(const[Be,je]of Object.entries(Te)){const Fe=Be.replace(I,"");(!K||l.includes(Fe))&&Xt(m,re,j,je.callable,je.delegationSelector)}},trigger(m,l,f){if(typeof l!="string"||!m)return null;const v=ne(),C=B(l),F=l!==C;let j=null,K=!0,re=!0,Te=!1;F&&v&&(j=v.Event(l,f),v(m).trigger(j),K=!j.isPropagationStopped(),re=!j.isImmediatePropagationStopped(),Te=j.isDefaultPrevented());const oe=J(new Event(l,{bubbles:K,cancelable:!0}),f);return Te&&oe.preventDefault(),re&&m.dispatchEvent(oe),oe.defaultPrevented&&j&&j.preventDefault(),oe}};function J(m,l={}){for(const[f,v]of Object.entries(l))try{m[f]=v}catch{Object.defineProperty(m,f,{configurable:!0,get(){return v}})}return m}function de(m){if(m==="true")return!0;if(m==="false")return!1;if(m===Number(m).toString())return Number(m);if(m===""||m==="null")return null;if(typeof m!="string")return m;try{return JSON.parse(decodeURIComponent(m))}catch{return m}}function Ne(m){return m.replace(/[A-Z]/g,l=>`-${l.toLowerCase()}`)}const Pe={setDataAttribute(m,l,f){m.setAttribute(`data-bs-${Ne(l)}`,f)},removeDataAttribute(m,l){m.removeAttribute(`data-bs-${Ne(l)}`)},getDataAttributes(m){if(!m)return{};const l={},f=Object.keys(m.dataset).filter(v=>v.startsWith("bs")&&!v.startsWith("bsConfig"));for(const v of f){let C=v.replace(/^bs/,"");C=C.charAt(0).toLowerCase()+C.slice(1,C.length),l[C]=de(m.dataset[v])}return l},getDataAttribute(m,l){return de(m.getAttribute(`data-bs-${Ne(l)}`))}};class A{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(l){return l=this._mergeConfigObj(l),l=this._configAfterMerge(l),this._typeCheckConfig(l),l}_configAfterMerge(l){return l}_mergeConfigObj(l,f){const v=y(f)?Pe.getDataAttribute(f,"config"):{};return{...this.constructor.Default,...typeof v=="object"?v:{},...y(f)?Pe.getDataAttributes(f):{},...typeof l=="object"?l:{}}}_typeCheckConfig(l,f=this.constructor.DefaultType){for(const[v,C]of Object.entries(f)){const F=l[v],j=y(F)?"element":u(F);if(!new RegExp(C).test(j))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${v}" provided type "${j}" but expected type "${C}".`)}}}const S="5.3.3";class $ extends A{constructor(l,f){super(),l=T(l),l&&(this._element=l,this._config=this._getConfig(f),r.set(this._element,this.constructor.DATA_KEY,this))}dispose(){r.remove(this._element,this.constructor.DATA_KEY),N.off(this._element,this.constructor.EVENT_KEY);for(const l of Object.getOwnPropertyNames(this))this[l]=null}_queueCallback(l,f,v=!0){b(l,f,v)}_getConfig(l){return l=this._mergeConfigObj(l,this._element),l=this._configAfterMerge(l),this._typeCheckConfig(l),l}static getInstance(l){return r.get(T(l),this.DATA_KEY)}static getOrCreateInstance(l,f={}){return this.getInstance(l)||new this(l,typeof f=="object"?f:null)}static get VERSION(){return S}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(l){return`${l}${this.EVENT_KEY}`}}const Q=m=>{let l=m.getAttribute("data-bs-target");if(!l||l==="#"){let f=m.getAttribute("href");if(!f||!f.includes("#")&&!f.startsWith("."))return null;f.includes("#")&&!f.startsWith("#")&&(f=`#${f.split("#")[1]}`),l=f&&f!=="#"?f.trim():null}return l?l.split(",").map(f=>c(f)).join(","):null},L={find(m,l=document.documentElement){return[].concat(...Element.prototype.querySelectorAll.call(l,m))},findOne(m,l=document.documentElement){return Element.prototype.querySelector.call(l,m)},children(m,l){return[].concat(...m.children).filter(f=>f.matches(l))},parents(m,l){const f=[];let v=m.parentNode.closest(l);for(;v;)f.push(v),v=v.parentNode.closest(l);return f},prev(m,l){let f=m.previousElementSibling;for(;f;){if(f.matches(l))return[f];f=f.previousElementSibling}return[]},next(m,l){let f=m.nextElementSibling;for(;f;){if(f.matches(l))return[f];f=f.nextElementSibling}return[]},focusableChildren(m){const l=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(f=>`${f}:not([tabindex^="-"])`).join(",");return this.find(l,m).filter(f=>!H(f)&&x(f))},getSelectorFromElement(m){const l=Q(m);return l&&L.findOne(l)?l:null},getElementFromSelector(m){const l=Q(m);return l?L.findOne(l):null},getMultipleElementsFromSelector(m){const l=Q(m);return l?L.find(l):[]}},Z=(m,l="hide")=>{const f=`click.dismiss${m.EVENT_KEY}`,v=m.NAME;N.on(document,f,`[data-bs-dismiss="${v}"]`,function(C){if(["A","AREA"].includes(this.tagName)&&C.preventDefault(),H(this))return;const F=L.getElementFromSelector(this)||this.closest(`.${v}`);m.getOrCreateInstance(F)[l]()})},ae="alert",se=".bs.alert",te=`close${se}`,we=`closed${se}`,ue="fade",Ee="show";class pe extends ${static get NAME(){return ae}close(){if(N.trigger(this._element,te).defaultPrevented)return;this._element.classList.remove(Ee);const f=this._element.classList.contains(ue);this._queueCallback(()=>this._destroyElement(),this._element,f)}_destroyElement(){this._element.remove(),N.trigger(this._element,we),this.dispose()}static jQueryInterface(l){return this.each(function(){const f=pe.getOrCreateInstance(this);if(typeof l=="string"){if(f[l]===void 0||l.startsWith("_")||l==="constructor")throw new TypeError(`No method named "${l}"`);f[l](this)}})}}Z(pe,"close"),R(pe);const Ie="button",qe=".bs.button",Vt=".data-api",k="active",D='[data-bs-toggle="button"]',W=`click${qe}${Vt}`;class le extends ${static get NAME(){return Ie}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle(k))}static jQueryInterface(l){return this.each(function(){const f=le.getOrCreateInstance(this);l==="toggle"&&f[l]()})}}N.on(document,W,D,m=>{m.preventDefault();const l=m.target.closest(D);le.getOrCreateInstance(l).toggle()}),R(le);const Ae="swipe",ye=".bs.swipe",ve=`touchstart${ye}`,et=`touchmove${ye}`,At=`touchend${ye}`,kt=`pointerdown${ye}`,tt=`pointerup${ye}`,Ct="touch",Bt="pen",Pt="pointer-event",vr=40,yr={endCallback:null,leftCallback:null,rightCallback:null},gi={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class Dn extends A{constructor(l,f){super(),this._element=l,!(!l||!Dn.isSupported())&&(this._config=this._getConfig(f),this._deltaX=0,this._supportPointerEvents=!!window.PointerEvent,this._initEvents())}static get Default(){return yr}static get DefaultType(){return gi}static get NAME(){return Ae}dispose(){N.off(this._element,ye)}_start(l){if(!this._supportPointerEvents){this._deltaX=l.touches[0].clientX;return}this._eventIsPointerPenTouch(l)&&(this._deltaX=l.clientX)}_end(l){this._eventIsPointerPenTouch(l)&&(this._deltaX=l.clientX-this._deltaX),this._handleSwipe(),w(this._config.endCallback)}_move(l){this._deltaX=l.touches&&l.touches.length>1?0:l.touches[0].clientX-this._deltaX}_handleSwipe(){const l=Math.abs(this._deltaX);if(l<=vr)return;const f=l/this._deltaX;this._deltaX=0,f&&w(f>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(N.on(this._element,kt,l=>this._start(l)),N.on(this._element,tt,l=>this._end(l)),this._element.classList.add(Pt)):(N.on(this._element,ve,l=>this._start(l)),N.on(this._element,et,l=>this._move(l)),N.on(this._element,At,l=>this._end(l)))}_eventIsPointerPenTouch(l){return this._supportPointerEvents&&(l.pointerType===Bt||l.pointerType===Ct)}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const _i="carousel",nr=".bs.carousel",vi=".data-api",ss="ArrowLeft",Wu="ArrowRight",Ku=500,Qn="next",yi="prev",Ei="left",$r="right",Dl=`slide${nr}`,os=`slid${nr}`,zs=`keydown${nr}`,Er=`mouseenter${nr}`,Vl=`mouseleave${nr}`,kl=`dragstart${nr}`,ea=`load${nr}${vi}`,ta=`click${nr}${vi}`,na="carousel",as="active",zu="slide",Gs="carousel-item-end",Ll="carousel-item-start",ra="carousel-item-next",ls="carousel-item-prev",Tr=".active",Qs=".carousel-item",Gu=Tr+Qs,xl=".carousel-item img",Ml=".carousel-indicators",Fl="[data-bs-slide], [data-bs-slide-to]",ia='[data-bs-ride="carousel"]',sa={[ss]:$r,[Wu]:Ei},$l={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},Ul={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class Ti extends ${constructor(l,f){super(l,f),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=L.findOne(Ml,this._element),this._addEventListeners(),this._config.ride===na&&this.cycle()}static get Default(){return $l}static get DefaultType(){return Ul}static get NAME(){return _i}next(){this._slide(Qn)}nextWhenVisible(){!document.hidden&&x(this._element)&&this.next()}prev(){this._slide(yi)}pause(){this._isSliding&&_(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){if(this._config.ride){if(this._isSliding){N.one(this._element,os,()=>this.cycle());return}this.cycle()}}to(l){const f=this._getItems();if(l>f.length-1||l<0)return;if(this._isSliding){N.one(this._element,os,()=>this.to(l));return}const v=this._getItemIndex(this._getActive());if(v===l)return;const C=l>v?Qn:yi;this._slide(C,f[l])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(l){return l.defaultInterval=l.interval,l}_addEventListeners(){this._config.keyboard&&N.on(this._element,zs,l=>this._keydown(l)),this._config.pause==="hover"&&(N.on(this._element,Er,()=>this.pause()),N.on(this._element,Vl,()=>this._maybeEnableCycle())),this._config.touch&&Dn.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const v of L.find(xl,this._element))N.on(v,kl,C=>C.preventDefault());const f={leftCallback:()=>this._slide(this._directionToOrder(Ei)),rightCallback:()=>this._slide(this._directionToOrder($r)),endCallback:()=>{this._config.pause==="hover"&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),Ku+this._config.interval))}};this._swipeHelper=new Dn(this._element,f)}_keydown(l){if(/input|textarea/i.test(l.target.tagName))return;const f=sa[l.key];f&&(l.preventDefault(),this._slide(this._directionToOrder(f)))}_getItemIndex(l){return this._getItems().indexOf(l)}_setActiveIndicatorElement(l){if(!this._indicatorsElement)return;const f=L.findOne(Tr,this._indicatorsElement);f.classList.remove(as),f.removeAttribute("aria-current");const v=L.findOne(`[data-bs-slide-to="${l}"]`,this._indicatorsElement);v&&(v.classList.add(as),v.setAttribute("aria-current","true"))}_updateInterval(){const l=this._activeElement||this._getActive();if(!l)return;const f=Number.parseInt(l.getAttribute("data-bs-interval"),10);this._config.interval=f||this._config.defaultInterval}_slide(l,f=null){if(this._isSliding)return;const v=this._getActive(),C=l===Qn,F=f||P(this._getItems(),v,C,this._config.wrap);if(F===v)return;const j=this._getItemIndex(F),K=Fe=>N.trigger(this._element,Fe,{relatedTarget:F,direction:this._orderToDirection(l),from:this._getItemIndex(v),to:j});if(K(Dl).defaultPrevented||!v||!F)return;const Te=!!this._interval;this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(j),this._activeElement=F;const oe=C?Ll:Gs,Be=C?ra:ls;F.classList.add(Be),z(F),v.classList.add(oe),F.classList.add(oe);const je=()=>{F.classList.remove(oe,Be),F.classList.add(as),v.classList.remove(as,Be,oe),this._isSliding=!1,K(os)};this._queueCallback(je,v,this._isAnimated()),Te&&this.cycle()}_isAnimated(){return this._element.classList.contains(zu)}_getActive(){return L.findOne(Gu,this._element)}_getItems(){return L.find(Qs,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(l){return ge()?l===Ei?yi:Qn:l===Ei?Qn:yi}_orderToDirection(l){return ge()?l===yi?Ei:$r:l===yi?$r:Ei}static jQueryInterface(l){return this.each(function(){const f=Ti.getOrCreateInstance(this,l);if(typeof l=="number"){f.to(l);return}if(typeof l=="string"){if(f[l]===void 0||l.startsWith("_")||l==="constructor")throw new TypeError(`No method named "${l}"`);f[l]()}})}}N.on(document,ta,Fl,function(m){const l=L.getElementFromSelector(this);if(!l||!l.classList.contains(na))return;m.preventDefault();const f=Ti.getOrCreateInstance(l),v=this.getAttribute("data-bs-slide-to");if(v){f.to(v),f._maybeEnableCycle();return}if(Pe.getDataAttribute(this,"slide")==="next"){f.next(),f._maybeEnableCycle();return}f.prev(),f._maybeEnableCycle()}),N.on(window,ea,()=>{const m=L.find(ia);for(const l of m)Ti.getOrCreateInstance(l)}),R(Ti);const Qu="collapse",wi=".bs.collapse",Xu=".data-api",Ur=`show${wi}`,rr=`shown${wi}`,Ys=`hide${wi}`,Xs=`hidden${wi}`,Bl=`click${wi}${Xu}`,dt="show",ir="collapse",wr="collapsing",cs="collapsed",Ju=`:scope .${ir} .${ir}`,jl="collapse-horizontal",Zu="width",eh="height",th=".collapse.show, .collapse.collapsing",oa='[data-bs-toggle="collapse"]',us={parent:null,toggle:!0},Ar={parent:"(null|element)",toggle:"boolean"};class Br extends ${constructor(l,f){super(l,f),this._isTransitioning=!1,this._triggerArray=[];const v=L.find(oa);for(const C of v){const F=L.getSelectorFromElement(C),j=L.find(F).filter(K=>K===this._element);F!==null&&j.length&&this._triggerArray.push(C)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return us}static get DefaultType(){return Ar}static get NAME(){return Qu}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let l=[];if(this._config.parent&&(l=this._getFirstLevelChildren(th).filter(K=>K!==this._element).map(K=>Br.getOrCreateInstance(K,{toggle:!1}))),l.length&&l[0]._isTransitioning||N.trigger(this._element,Ur).defaultPrevented)return;for(const K of l)K.hide();const v=this._getDimension();this._element.classList.remove(ir),this._element.classList.add(wr),this._element.style[v]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const C=()=>{this._isTransitioning=!1,this._element.classList.remove(wr),this._element.classList.add(ir,dt),this._element.style[v]="",N.trigger(this._element,rr)},j=`scroll${v[0].toUpperCase()+v.slice(1)}`;this._queueCallback(C,this._element,!0),this._element.style[v]=`${this._element[j]}px`}hide(){if(this._isTransitioning||!this._isShown()||N.trigger(this._element,Ys).defaultPrevented)return;const f=this._getDimension();this._element.style[f]=`${this._element.getBoundingClientRect()[f]}px`,z(this._element),this._element.classList.add(wr),this._element.classList.remove(ir,dt);for(const C of this._triggerArray){const F=L.getElementFromSelector(C);F&&!this._isShown(F)&&this._addAriaAndCollapsedClass([C],!1)}this._isTransitioning=!0;const v=()=>{this._isTransitioning=!1,this._element.classList.remove(wr),this._element.classList.add(ir),N.trigger(this._element,Xs)};this._element.style[f]="",this._queueCallback(v,this._element,!0)}_isShown(l=this._element){return l.classList.contains(dt)}_configAfterMerge(l){return l.toggle=!!l.toggle,l.parent=T(l.parent),l}_getDimension(){return this._element.classList.contains(jl)?Zu:eh}_initializeChildren(){if(!this._config.parent)return;const l=this._getFirstLevelChildren(oa);for(const f of l){const v=L.getElementFromSelector(f);v&&this._addAriaAndCollapsedClass([f],this._isShown(v))}}_getFirstLevelChildren(l){const f=L.find(Ju,this._config.parent);return L.find(l,this._config.parent).filter(v=>!f.includes(v))}_addAriaAndCollapsedClass(l,f){if(l.length)for(const v of l)v.classList.toggle(cs,!f),v.setAttribute("aria-expanded",f)}static jQueryInterface(l){const f={};return typeof l=="string"&&/show|hide/.test(l)&&(f.toggle=!1),this.each(function(){const v=Br.getOrCreateInstance(this,f);if(typeof l=="string"){if(typeof v[l]>"u")throw new TypeError(`No method named "${l}"`);v[l]()}})}}N.on(document,Bl,oa,function(m){(m.target.tagName==="A"||m.delegateTarget&&m.delegateTarget.tagName==="A")&&m.preventDefault();for(const l of L.getMultipleElementsFromSelector(this))Br.getOrCreateInstance(l,{toggle:!1}).toggle()}),R(Br);var Jt="top",mn="bottom",jt="right",ln="left",Js="auto",Ai=[Jt,mn,jt,ln],gn="start",bi="end",Hl="clippingParents",Ii="viewport",sr="popper",aa="reference",jr=Ai.reduce(function(m,l){return m.concat([l+"-"+gn,l+"-"+bi])},[]),Hr=[].concat(Ai,[Js]).reduce(function(m,l){return m.concat([l,l+"-"+gn,l+"-"+bi])},[]),la="beforeRead",Zs="read",bt="afterRead",ql="beforeMain",Wl="main",ca="afterMain",ua="beforeWrite",ha="write",hs="afterWrite",da=[la,Zs,bt,ql,Wl,ca,ua,ha,hs];function Ht(m){return m?(m.nodeName||"").toLowerCase():null}function _n(m){if(m==null)return window;if(m.toString()!=="[object Window]"){var l=m.ownerDocument;return l&&l.defaultView||window}return m}function qr(m){var l=_n(m).Element;return m instanceof l||m instanceof Element}function Zt(m){var l=_n(m).HTMLElement;return m instanceof l||m instanceof HTMLElement}function eo(m){if(typeof ShadowRoot>"u")return!1;var l=_n(m).ShadowRoot;return m instanceof l||m instanceof ShadowRoot}function fa(m){var l=m.state;Object.keys(l.elements).forEach(function(f){var v=l.styles[f]||{},C=l.attributes[f]||{},F=l.elements[f];!Zt(F)||!Ht(F)||(Object.assign(F.style,v),Object.keys(C).forEach(function(j){var K=C[j];K===!1?F.removeAttribute(j):F.setAttribute(j,K===!0?"":K)}))})}function to(m){var l=m.state,f={popper:{position:l.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(l.elements.popper.style,f.popper),l.styles=f,l.elements.arrow&&Object.assign(l.elements.arrow.style,f.arrow),function(){Object.keys(l.elements).forEach(function(v){var C=l.elements[v],F=l.attributes[v]||{},j=Object.keys(l.styles.hasOwnProperty(v)?l.styles[v]:f[v]),K=j.reduce(function(re,Te){return re[Te]="",re},{});!Zt(C)||!Ht(C)||(Object.assign(C.style,K),Object.keys(F).forEach(function(re){C.removeAttribute(re)}))})}}const no={name:"applyStyles",enabled:!0,phase:"write",fn:fa,effect:to,requires:["computeStyles"]};function In(m){return m.split("-")[0]}var Wr=Math.max,ds=Math.min,Yn=Math.round;function ro(){var m=navigator.userAgentData;return m!=null&&m.brands&&Array.isArray(m.brands)?m.brands.map(function(l){return l.brand+"/"+l.version}).join(" "):navigator.userAgent}function pa(){return!/^((?!chrome|android).)*safari/i.test(ro())}function br(m,l,f){l===void 0&&(l=!1),f===void 0&&(f=!1);var v=m.getBoundingClientRect(),C=1,F=1;l&&Zt(m)&&(C=m.offsetWidth>0&&Yn(v.width)/m.offsetWidth||1,F=m.offsetHeight>0&&Yn(v.height)/m.offsetHeight||1);var j=qr(m)?_n(m):window,K=j.visualViewport,re=!pa()&&f,Te=(v.left+(re&&K?K.offsetLeft:0))/C,oe=(v.top+(re&&K?K.offsetTop:0))/F,Be=v.width/C,je=v.height/F;return{width:Be,height:je,top:oe,right:Te+Be,bottom:oe+je,left:Te,x:Te,y:oe}}function fs(m){var l=br(m),f=m.offsetWidth,v=m.offsetHeight;return Math.abs(l.width-f)<=1&&(f=l.width),Math.abs(l.height-v)<=1&&(v=l.height),{x:m.offsetLeft,y:m.offsetTop,width:f,height:v}}function ma(m,l){var f=l.getRootNode&&l.getRootNode();if(m.contains(l))return!0;if(f&&eo(f)){var v=l;do{if(v&&m.isSameNode(v))return!0;v=v.parentNode||v.host}while(v)}return!1}function Vn(m){return _n(m).getComputedStyle(m)}function Kl(m){return["table","td","th"].indexOf(Ht(m))>=0}function or(m){return((qr(m)?m.ownerDocument:m.document)||window.document).documentElement}function Xn(m){return Ht(m)==="html"?m:m.assignedSlot||m.parentNode||(eo(m)?m.host:null)||or(m)}function ga(m){return!Zt(m)||Vn(m).position==="fixed"?null:m.offsetParent}function zl(m){var l=/firefox/i.test(ro()),f=/Trident/i.test(ro());if(f&&Zt(m)){var v=Vn(m);if(v.position==="fixed")return null}var C=Xn(m);for(eo(C)&&(C=C.host);Zt(C)&&["html","body"].indexOf(Ht(C))<0;){var F=Vn(C);if(F.transform!=="none"||F.perspective!=="none"||F.contain==="paint"||["transform","perspective"].indexOf(F.willChange)!==-1||l&&F.willChange==="filter"||l&&F.filter&&F.filter!=="none")return C;C=C.parentNode}return null}function Si(m){for(var l=_n(m),f=ga(m);f&&Kl(f)&&Vn(f).position==="static";)f=ga(f);return f&&(Ht(f)==="html"||Ht(f)==="body"&&Vn(f).position==="static")?l:f||zl(m)||l}function io(m){return["top","bottom"].indexOf(m)>=0?"x":"y"}function Ir(m,l,f){return Wr(m,ds(l,f))}function Sn(m,l,f){var v=Ir(m,l,f);return v>f?f:v}function _a(){return{top:0,right:0,bottom:0,left:0}}function va(m){return Object.assign({},_a(),m)}function Kr(m,l){return l.reduce(function(f,v){return f[v]=m,f},{})}var a=function(l,f){return l=typeof l=="function"?l(Object.assign({},f.rects,{placement:f.placement})):l,va(typeof l!="number"?l:Kr(l,Ai))};function d(m){var l,f=m.state,v=m.name,C=m.options,F=f.elements.arrow,j=f.modifiersData.popperOffsets,K=In(f.placement),re=io(K),Te=[ln,jt].indexOf(K)>=0,oe=Te?"height":"width";if(!(!F||!j)){var Be=a(C.padding,f),je=fs(F),Fe=re==="y"?Jt:ln,Et=re==="y"?mn:jt,He=f.rects.reference[oe]+f.rects.reference[re]-j[re]-f.rects.popper[oe],rt=j[re]-f.rects.reference[re],It=Si(F),xt=It?re==="y"?It.clientHeight||0:It.clientWidth||0:0,Mt=He/2-rt/2,Ke=Be[Fe],pt=xt-je[oe]-Be[Et],mt=xt/2-je[oe]/2+Mt,Ot=Ir(Ke,mt,pt),cn=re;f.modifiersData[v]=(l={},l[cn]=Ot,l.centerOffset=Ot-mt,l)}}function g(m){var l=m.state,f=m.options,v=f.element,C=v===void 0?"[data-popper-arrow]":v;C!=null&&(typeof C=="string"&&(C=l.elements.popper.querySelector(C),!C)||ma(l.elements.popper,C)&&(l.elements.arrow=C))}const E={name:"arrow",enabled:!0,phase:"main",fn:d,effect:g,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function M(m){return m.split("-")[1]}var q={top:"auto",right:"auto",bottom:"auto",left:"auto"};function ce(m,l){var f=m.x,v=m.y,C=l.devicePixelRatio||1;return{x:Yn(f*C)/C||0,y:Yn(v*C)/C||0}}function at(m){var l,f=m.popper,v=m.popperRect,C=m.placement,F=m.variation,j=m.offsets,K=m.position,re=m.gpuAcceleration,Te=m.adaptive,oe=m.roundOffsets,Be=m.isFixed,je=j.x,Fe=je===void 0?0:je,Et=j.y,He=Et===void 0?0:Et,rt=typeof oe=="function"?oe({x:Fe,y:He}):{x:Fe,y:He};Fe=rt.x,He=rt.y;var It=j.hasOwnProperty("x"),xt=j.hasOwnProperty("y"),Mt=ln,Ke=Jt,pt=window;if(Te){var mt=Si(f),Ot="clientHeight",cn="clientWidth";if(mt===_n(f)&&(mt=or(f),Vn(mt).position!=="static"&&K==="absolute"&&(Ot="scrollHeight",cn="scrollWidth")),mt=mt,C===Jt||(C===ln||C===jt)&&F===bi){Ke=mn;var tn=Be&&mt===pt&&pt.visualViewport?pt.visualViewport.height:mt[Ot];He-=tn-v.height,He*=re?1:-1}if(C===ln||(C===Jt||C===mn)&&F===bi){Mt=jt;var zt=Be&&mt===pt&&pt.visualViewport?pt.visualViewport.width:mt[cn];Fe-=zt-v.width,Fe*=re?1:-1}}var vn=Object.assign({position:K},Te&&q),lr=oe===!0?ce({x:Fe,y:He},_n(f)):{x:Fe,y:He};if(Fe=lr.x,He=lr.y,re){var Rn;return Object.assign({},vn,(Rn={},Rn[Ke]=xt?"0":"",Rn[Mt]=It?"0":"",Rn.transform=(pt.devicePixelRatio||1)<=1?"translate("+Fe+"px, "+He+"px)":"translate3d("+Fe+"px, "+He+"px, 0)",Rn))}return Object.assign({},vn,(l={},l[Ke]=xt?He+"px":"",l[Mt]=It?Fe+"px":"",l.transform="",l))}function Kt(m){var l=m.state,f=m.options,v=f.gpuAcceleration,C=v===void 0?!0:v,F=f.adaptive,j=F===void 0?!0:F,K=f.roundOffsets,re=K===void 0?!0:K,Te={placement:In(l.placement),variation:M(l.placement),popper:l.elements.popper,popperRect:l.rects.popper,gpuAcceleration:C,isFixed:l.options.strategy==="fixed"};l.modifiersData.popperOffsets!=null&&(l.styles.popper=Object.assign({},l.styles.popper,at(Object.assign({},Te,{offsets:l.modifiersData.popperOffsets,position:l.options.strategy,adaptive:j,roundOffsets:re})))),l.modifiersData.arrow!=null&&(l.styles.arrow=Object.assign({},l.styles.arrow,at(Object.assign({},Te,{offsets:l.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:re})))),l.attributes.popper=Object.assign({},l.attributes.popper,{"data-popper-placement":l.placement})}const We={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:Kt,data:{}};var Lt={passive:!0};function en(m){var l=m.state,f=m.instance,v=m.options,C=v.scroll,F=C===void 0?!0:C,j=v.resize,K=j===void 0?!0:j,re=_n(l.elements.popper),Te=[].concat(l.scrollParents.reference,l.scrollParents.popper);return F&&Te.forEach(function(oe){oe.addEventListener("scroll",f.update,Lt)}),K&&re.addEventListener("resize",f.update,Lt),function(){F&&Te.forEach(function(oe){oe.removeEventListener("scroll",f.update,Lt)}),K&&re.removeEventListener("resize",f.update,Lt)}}const Sr={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:en,data:{}};var Un={left:"right",right:"left",bottom:"top",top:"bottom"};function zr(m){return m.replace(/left|right|bottom|top/g,function(l){return Un[l]})}var ya={start:"end",end:"start"};function up(m){return m.replace(/start|end/g,function(l){return ya[l]})}function nh(m){var l=_n(m),f=l.pageXOffset,v=l.pageYOffset;return{scrollLeft:f,scrollTop:v}}function rh(m){return br(or(m)).left+nh(m).scrollLeft}function QT(m,l){var f=_n(m),v=or(m),C=f.visualViewport,F=v.clientWidth,j=v.clientHeight,K=0,re=0;if(C){F=C.width,j=C.height;var Te=pa();(Te||!Te&&l==="fixed")&&(K=C.offsetLeft,re=C.offsetTop)}return{width:F,height:j,x:K+rh(m),y:re}}function YT(m){var l,f=or(m),v=nh(m),C=(l=m.ownerDocument)==null?void 0:l.body,F=Wr(f.scrollWidth,f.clientWidth,C?C.scrollWidth:0,C?C.clientWidth:0),j=Wr(f.scrollHeight,f.clientHeight,C?C.scrollHeight:0,C?C.clientHeight:0),K=-v.scrollLeft+rh(m),re=-v.scrollTop;return Vn(C||f).direction==="rtl"&&(K+=Wr(f.clientWidth,C?C.clientWidth:0)-F),{width:F,height:j,x:K,y:re}}function ih(m){var l=Vn(m),f=l.overflow,v=l.overflowX,C=l.overflowY;return/auto|scroll|overlay|hidden/.test(f+C+v)}function hp(m){return["html","body","#document"].indexOf(Ht(m))>=0?m.ownerDocument.body:Zt(m)&&ih(m)?m:hp(Xn(m))}function Ea(m,l){var f;l===void 0&&(l=[]);var v=hp(m),C=v===((f=m.ownerDocument)==null?void 0:f.body),F=_n(v),j=C?[F].concat(F.visualViewport||[],ih(v)?v:[]):v,K=l.concat(j);return C?K:K.concat(Ea(Xn(j)))}function sh(m){return Object.assign({},m,{left:m.x,top:m.y,right:m.x+m.width,bottom:m.y+m.height})}function XT(m,l){var f=br(m,!1,l==="fixed");return f.top=f.top+m.clientTop,f.left=f.left+m.clientLeft,f.bottom=f.top+m.clientHeight,f.right=f.left+m.clientWidth,f.width=m.clientWidth,f.height=m.clientHeight,f.x=f.left,f.y=f.top,f}function dp(m,l,f){return l===Ii?sh(QT(m,f)):qr(l)?XT(l,f):sh(YT(or(m)))}function JT(m){var l=Ea(Xn(m)),f=["absolute","fixed"].indexOf(Vn(m).position)>=0,v=f&&Zt(m)?Si(m):m;return qr(v)?l.filter(function(C){return qr(C)&&ma(C,v)&&Ht(C)!=="body"}):[]}function ZT(m,l,f,v){var C=l==="clippingParents"?JT(m):[].concat(l),F=[].concat(C,[f]),j=F[0],K=F.reduce(function(re,Te){var oe=dp(m,Te,v);return re.top=Wr(oe.top,re.top),re.right=ds(oe.right,re.right),re.bottom=ds(oe.bottom,re.bottom),re.left=Wr(oe.left,re.left),re},dp(m,j,v));return K.width=K.right-K.left,K.height=K.bottom-K.top,K.x=K.left,K.y=K.top,K}function fp(m){var l=m.reference,f=m.element,v=m.placement,C=v?In(v):null,F=v?M(v):null,j=l.x+l.width/2-f.width/2,K=l.y+l.height/2-f.height/2,re;switch(C){case Jt:re={x:j,y:l.y-f.height};break;case mn:re={x:j,y:l.y+l.height};break;case jt:re={x:l.x+l.width,y:K};break;case ln:re={x:l.x-f.width,y:K};break;default:re={x:l.x,y:l.y}}var Te=C?io(C):null;if(Te!=null){var oe=Te==="y"?"height":"width";switch(F){case gn:re[Te]=re[Te]-(l[oe]/2-f[oe]/2);break;case bi:re[Te]=re[Te]+(l[oe]/2-f[oe]/2);break}}return re}function so(m,l){l===void 0&&(l={});var f=l,v=f.placement,C=v===void 0?m.placement:v,F=f.strategy,j=F===void 0?m.strategy:F,K=f.boundary,re=K===void 0?Hl:K,Te=f.rootBoundary,oe=Te===void 0?Ii:Te,Be=f.elementContext,je=Be===void 0?sr:Be,Fe=f.altBoundary,Et=Fe===void 0?!1:Fe,He=f.padding,rt=He===void 0?0:He,It=va(typeof rt!="number"?rt:Kr(rt,Ai)),xt=je===sr?aa:sr,Mt=m.rects.popper,Ke=m.elements[Et?xt:je],pt=ZT(qr(Ke)?Ke:Ke.contextElement||or(m.elements.popper),re,oe,j),mt=br(m.elements.reference),Ot=fp({reference:mt,element:Mt,strategy:"absolute",placement:C}),cn=sh(Object.assign({},Mt,Ot)),tn=je===sr?cn:mt,zt={top:pt.top-tn.top+It.top,bottom:tn.bottom-pt.bottom+It.bottom,left:pt.left-tn.left+It.left,right:tn.right-pt.right+It.right},vn=m.modifiersData.offset;if(je===sr&&vn){var lr=vn[C];Object.keys(zt).forEach(function(Rn){var Ts=[jt,mn].indexOf(Rn)>=0?1:-1,ws=[Jt,mn].indexOf(Rn)>=0?"y":"x";zt[Rn]+=lr[ws]*Ts})}return zt}function ew(m,l){l===void 0&&(l={});var f=l,v=f.placement,C=f.boundary,F=f.rootBoundary,j=f.padding,K=f.flipVariations,re=f.allowedAutoPlacements,Te=re===void 0?Hr:re,oe=M(v),Be=oe?K?jr:jr.filter(function(Et){return M(Et)===oe}):Ai,je=Be.filter(function(Et){return Te.indexOf(Et)>=0});je.length===0&&(je=Be);var Fe=je.reduce(function(Et,He){return Et[He]=so(m,{placement:He,boundary:C,rootBoundary:F,padding:j})[In(He)],Et},{});return Object.keys(Fe).sort(function(Et,He){return Fe[Et]-Fe[He]})}function tw(m){if(In(m)===Js)return[];var l=zr(m);return[up(m),l,up(l)]}function nw(m){var l=m.state,f=m.options,v=m.name;if(!l.modifiersData[v]._skip){for(var C=f.mainAxis,F=C===void 0?!0:C,j=f.altAxis,K=j===void 0?!0:j,re=f.fallbackPlacements,Te=f.padding,oe=f.boundary,Be=f.rootBoundary,je=f.altBoundary,Fe=f.flipVariations,Et=Fe===void 0?!0:Fe,He=f.allowedAutoPlacements,rt=l.options.placement,It=In(rt),xt=It===rt,Mt=re||(xt||!Et?[zr(rt)]:tw(rt)),Ke=[rt].concat(Mt).reduce(function(lo,Ci){return lo.concat(In(Ci)===Js?ew(l,{placement:Ci,boundary:oe,rootBoundary:Be,padding:Te,flipVariations:Et,allowedAutoPlacements:He}):Ci)},[]),pt=l.rects.reference,mt=l.rects.popper,Ot=new Map,cn=!0,tn=Ke[0],zt=0;zt<Ke.length;zt++){var vn=Ke[zt],lr=In(vn),Rn=M(vn)===gn,Ts=[Jt,mn].indexOf(lr)>=0,ws=Ts?"width":"height",Bn=so(l,{placement:vn,boundary:oe,rootBoundary:Be,altBoundary:je,padding:Te}),cr=Ts?Rn?jt:ln:Rn?mn:Jt;pt[ws]>mt[ws]&&(cr=zr(cr));var nc=zr(cr),As=[];if(F&&As.push(Bn[lr]<=0),K&&As.push(Bn[cr]<=0,Bn[nc]<=0),As.every(function(lo){return lo})){tn=vn,cn=!1;break}Ot.set(vn,As)}if(cn)for(var rc=Et?3:1,yh=function(Ci){var Ia=Ke.find(function(sc){var bs=Ot.get(sc);if(bs)return bs.slice(0,Ci).every(function(Eh){return Eh})});if(Ia)return tn=Ia,"break"},ba=rc;ba>0;ba--){var ic=yh(ba);if(ic==="break")break}l.placement!==tn&&(l.modifiersData[v]._skip=!0,l.placement=tn,l.reset=!0)}}const pp={name:"flip",enabled:!0,phase:"main",fn:nw,requiresIfExists:["offset"],data:{_skip:!1}};function mp(m,l,f){return f===void 0&&(f={x:0,y:0}),{top:m.top-l.height-f.y,right:m.right-l.width+f.x,bottom:m.bottom-l.height+f.y,left:m.left-l.width-f.x}}function gp(m){return[Jt,jt,mn,ln].some(function(l){return m[l]>=0})}function rw(m){var l=m.state,f=m.name,v=l.rects.reference,C=l.rects.popper,F=l.modifiersData.preventOverflow,j=so(l,{elementContext:"reference"}),K=so(l,{altBoundary:!0}),re=mp(j,v),Te=mp(K,C,F),oe=gp(re),Be=gp(Te);l.modifiersData[f]={referenceClippingOffsets:re,popperEscapeOffsets:Te,isReferenceHidden:oe,hasPopperEscaped:Be},l.attributes.popper=Object.assign({},l.attributes.popper,{"data-popper-reference-hidden":oe,"data-popper-escaped":Be})}const _p={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:rw};function iw(m,l,f){var v=In(m),C=[ln,Jt].indexOf(v)>=0?-1:1,F=typeof f=="function"?f(Object.assign({},l,{placement:m})):f,j=F[0],K=F[1];return j=j||0,K=(K||0)*C,[ln,jt].indexOf(v)>=0?{x:K,y:j}:{x:j,y:K}}function sw(m){var l=m.state,f=m.options,v=m.name,C=f.offset,F=C===void 0?[0,0]:C,j=Hr.reduce(function(oe,Be){return oe[Be]=iw(Be,l.rects,F),oe},{}),K=j[l.placement],re=K.x,Te=K.y;l.modifiersData.popperOffsets!=null&&(l.modifiersData.popperOffsets.x+=re,l.modifiersData.popperOffsets.y+=Te),l.modifiersData[v]=j}const vp={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:sw};function ow(m){var l=m.state,f=m.name;l.modifiersData[f]=fp({reference:l.rects.reference,element:l.rects.popper,strategy:"absolute",placement:l.placement})}const oh={name:"popperOffsets",enabled:!0,phase:"read",fn:ow,data:{}};function aw(m){return m==="x"?"y":"x"}function lw(m){var l=m.state,f=m.options,v=m.name,C=f.mainAxis,F=C===void 0?!0:C,j=f.altAxis,K=j===void 0?!1:j,re=f.boundary,Te=f.rootBoundary,oe=f.altBoundary,Be=f.padding,je=f.tether,Fe=je===void 0?!0:je,Et=f.tetherOffset,He=Et===void 0?0:Et,rt=so(l,{boundary:re,rootBoundary:Te,padding:Be,altBoundary:oe}),It=In(l.placement),xt=M(l.placement),Mt=!xt,Ke=io(It),pt=aw(Ke),mt=l.modifiersData.popperOffsets,Ot=l.rects.reference,cn=l.rects.popper,tn=typeof He=="function"?He(Object.assign({},l.rects,{placement:l.placement})):He,zt=typeof tn=="number"?{mainAxis:tn,altAxis:tn}:Object.assign({mainAxis:0,altAxis:0},tn),vn=l.modifiersData.offset?l.modifiersData.offset[l.placement]:null,lr={x:0,y:0};if(mt){if(F){var Rn,Ts=Ke==="y"?Jt:ln,ws=Ke==="y"?mn:jt,Bn=Ke==="y"?"height":"width",cr=mt[Ke],nc=cr+rt[Ts],As=cr-rt[ws],rc=Fe?-cn[Bn]/2:0,yh=xt===gn?Ot[Bn]:cn[Bn],ba=xt===gn?-cn[Bn]:-Ot[Bn],ic=l.elements.arrow,lo=Fe&&ic?fs(ic):{width:0,height:0},Ci=l.modifiersData["arrow#persistent"]?l.modifiersData["arrow#persistent"].padding:_a(),Ia=Ci[Ts],sc=Ci[ws],bs=Ir(0,Ot[Bn],lo[Bn]),Eh=Mt?Ot[Bn]/2-rc-bs-Ia-zt.mainAxis:yh-bs-Ia-zt.mainAxis,eI=Mt?-Ot[Bn]/2+rc+bs+sc+zt.mainAxis:ba+bs+sc+zt.mainAxis,Th=l.elements.arrow&&Si(l.elements.arrow),tI=Th?Ke==="y"?Th.clientTop||0:Th.clientLeft||0:0,om=(Rn=vn==null?void 0:vn[Ke])!=null?Rn:0,nI=cr+Eh-om-tI,rI=cr+eI-om,am=Ir(Fe?ds(nc,nI):nc,cr,Fe?Wr(As,rI):As);mt[Ke]=am,lr[Ke]=am-cr}if(K){var lm,iI=Ke==="x"?Jt:ln,sI=Ke==="x"?mn:jt,Is=mt[pt],oc=pt==="y"?"height":"width",cm=Is+rt[iI],um=Is-rt[sI],wh=[Jt,ln].indexOf(It)!==-1,hm=(lm=vn==null?void 0:vn[pt])!=null?lm:0,dm=wh?cm:Is-Ot[oc]-cn[oc]-hm+zt.altAxis,fm=wh?Is+Ot[oc]+cn[oc]-hm-zt.altAxis:um,pm=Fe&&wh?Sn(dm,Is,fm):Ir(Fe?dm:cm,Is,Fe?fm:um);mt[pt]=pm,lr[pt]=pm-Is}l.modifiersData[v]=lr}}const yp={name:"preventOverflow",enabled:!0,phase:"main",fn:lw,requiresIfExists:["offset"]};function cw(m){return{scrollLeft:m.scrollLeft,scrollTop:m.scrollTop}}function uw(m){return m===_n(m)||!Zt(m)?nh(m):cw(m)}function hw(m){var l=m.getBoundingClientRect(),f=Yn(l.width)/m.offsetWidth||1,v=Yn(l.height)/m.offsetHeight||1;return f!==1||v!==1}function dw(m,l,f){f===void 0&&(f=!1);var v=Zt(l),C=Zt(l)&&hw(l),F=or(l),j=br(m,C,f),K={scrollLeft:0,scrollTop:0},re={x:0,y:0};return(v||!v&&!f)&&((Ht(l)!=="body"||ih(F))&&(K=uw(l)),Zt(l)?(re=br(l,!0),re.x+=l.clientLeft,re.y+=l.clientTop):F&&(re.x=rh(F))),{x:j.left+K.scrollLeft-re.x,y:j.top+K.scrollTop-re.y,width:j.width,height:j.height}}function fw(m){var l=new Map,f=new Set,v=[];m.forEach(function(F){l.set(F.name,F)});function C(F){f.add(F.name);var j=[].concat(F.requires||[],F.requiresIfExists||[]);j.forEach(function(K){if(!f.has(K)){var re=l.get(K);re&&C(re)}}),v.push(F)}return m.forEach(function(F){f.has(F.name)||C(F)}),v}function pw(m){var l=fw(m);return da.reduce(function(f,v){return f.concat(l.filter(function(C){return C.phase===v}))},[])}function mw(m){var l;return function(){return l||(l=new Promise(function(f){Promise.resolve().then(function(){l=void 0,f(m())})})),l}}function gw(m){var l=m.reduce(function(f,v){var C=f[v.name];return f[v.name]=C?Object.assign({},C,v,{options:Object.assign({},C.options,v.options),data:Object.assign({},C.data,v.data)}):v,f},{});return Object.keys(l).map(function(f){return l[f]})}var Ep={placement:"bottom",modifiers:[],strategy:"absolute"};function Tp(){for(var m=arguments.length,l=new Array(m),f=0;f<m;f++)l[f]=arguments[f];return!l.some(function(v){return!(v&&typeof v.getBoundingClientRect=="function")})}function Gl(m){m===void 0&&(m={});var l=m,f=l.defaultModifiers,v=f===void 0?[]:f,C=l.defaultOptions,F=C===void 0?Ep:C;return function(K,re,Te){Te===void 0&&(Te=F);var oe={placement:"bottom",orderedModifiers:[],options:Object.assign({},Ep,F),modifiersData:{},elements:{reference:K,popper:re},attributes:{},styles:{}},Be=[],je=!1,Fe={state:oe,setOptions:function(It){var xt=typeof It=="function"?It(oe.options):It;He(),oe.options=Object.assign({},F,oe.options,xt),oe.scrollParents={reference:qr(K)?Ea(K):K.contextElement?Ea(K.contextElement):[],popper:Ea(re)};var Mt=pw(gw([].concat(v,oe.options.modifiers)));return oe.orderedModifiers=Mt.filter(function(Ke){return Ke.enabled}),Et(),Fe.update()},forceUpdate:function(){if(!je){var It=oe.elements,xt=It.reference,Mt=It.popper;if(Tp(xt,Mt)){oe.rects={reference:dw(xt,Si(Mt),oe.options.strategy==="fixed"),popper:fs(Mt)},oe.reset=!1,oe.placement=oe.options.placement,oe.orderedModifiers.forEach(function(zt){return oe.modifiersData[zt.name]=Object.assign({},zt.data)});for(var Ke=0;Ke<oe.orderedModifiers.length;Ke++){if(oe.reset===!0){oe.reset=!1,Ke=-1;continue}var pt=oe.orderedModifiers[Ke],mt=pt.fn,Ot=pt.options,cn=Ot===void 0?{}:Ot,tn=pt.name;typeof mt=="function"&&(oe=mt({state:oe,options:cn,name:tn,instance:Fe})||oe)}}}},update:mw(function(){return new Promise(function(rt){Fe.forceUpdate(),rt(oe)})}),destroy:function(){He(),je=!0}};if(!Tp(K,re))return Fe;Fe.setOptions(Te).then(function(rt){!je&&Te.onFirstUpdate&&Te.onFirstUpdate(rt)});function Et(){oe.orderedModifiers.forEach(function(rt){var It=rt.name,xt=rt.options,Mt=xt===void 0?{}:xt,Ke=rt.effect;if(typeof Ke=="function"){var pt=Ke({state:oe,name:It,instance:Fe,options:Mt}),mt=function(){};Be.push(pt||mt)}})}function He(){Be.forEach(function(rt){return rt()}),Be=[]}return Fe}}var _w=Gl(),vw=[Sr,oh,We,no],yw=Gl({defaultModifiers:vw}),Ew=[Sr,oh,We,no,vp,pp,yp,E,_p],ah=Gl({defaultModifiers:Ew});const wp=Object.freeze(Object.defineProperty({__proto__:null,afterMain:ca,afterRead:bt,afterWrite:hs,applyStyles:no,arrow:E,auto:Js,basePlacements:Ai,beforeMain:ql,beforeRead:la,beforeWrite:ua,bottom:mn,clippingParents:Hl,computeStyles:We,createPopper:ah,createPopperBase:_w,createPopperLite:yw,detectOverflow:so,end:bi,eventListeners:Sr,flip:pp,hide:_p,left:ln,main:Wl,modifierPhases:da,offset:vp,placements:Hr,popper:sr,popperGenerator:Gl,popperOffsets:oh,preventOverflow:yp,read:Zs,reference:aa,right:jt,start:gn,top:Jt,variationPlacements:jr,viewport:Ii,write:ha},Symbol.toStringTag,{value:"Module"})),Ap="dropdown",ps=".bs.dropdown",lh=".data-api",Tw="Escape",bp="Tab",ww="ArrowUp",Ip="ArrowDown",Aw=2,bw=`hide${ps}`,Iw=`hidden${ps}`,Sw=`show${ps}`,Rw=`shown${ps}`,Sp=`click${ps}${lh}`,Rp=`keydown${ps}${lh}`,Cw=`keyup${ps}${lh}`,oo="show",Pw="dropup",Ow="dropend",Nw="dropstart",Dw="dropup-center",Vw="dropdown-center",ms='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',kw=`${ms}.${oo}`,Ql=".dropdown-menu",Lw=".navbar",xw=".navbar-nav",Mw=".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",Fw=ge()?"top-end":"top-start",$w=ge()?"top-start":"top-end",Uw=ge()?"bottom-end":"bottom-start",Bw=ge()?"bottom-start":"bottom-end",jw=ge()?"left-start":"right-start",Hw=ge()?"right-start":"left-start",qw="top",Ww="bottom",Kw={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},zw={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class ar extends ${constructor(l,f){super(l,f),this._popper=null,this._parent=this._element.parentNode,this._menu=L.next(this._element,Ql)[0]||L.prev(this._element,Ql)[0]||L.findOne(Ql,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return Kw}static get DefaultType(){return zw}static get NAME(){return Ap}toggle(){return this._isShown()?this.hide():this.show()}show(){if(H(this._element)||this._isShown())return;const l={relatedTarget:this._element};if(!N.trigger(this._element,Sw,l).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(xw))for(const v of[].concat(...document.body.children))N.on(v,"mouseover",X);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(oo),this._element.classList.add(oo),N.trigger(this._element,Rw,l)}}hide(){if(H(this._element)||!this._isShown())return;const l={relatedTarget:this._element};this._completeHide(l)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(l){if(!N.trigger(this._element,bw,l).defaultPrevented){if("ontouchstart"in document.documentElement)for(const v of[].concat(...document.body.children))N.off(v,"mouseover",X);this._popper&&this._popper.destroy(),this._menu.classList.remove(oo),this._element.classList.remove(oo),this._element.setAttribute("aria-expanded","false"),Pe.removeDataAttribute(this._menu,"popper"),N.trigger(this._element,Iw,l)}}_getConfig(l){if(l=super._getConfig(l),typeof l.reference=="object"&&!y(l.reference)&&typeof l.reference.getBoundingClientRect!="function")throw new TypeError(`${Ap.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return l}_createPopper(){if(typeof wp>"u")throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");let l=this._element;this._config.reference==="parent"?l=this._parent:y(this._config.reference)?l=T(this._config.reference):typeof this._config.reference=="object"&&(l=this._config.reference);const f=this._getPopperConfig();this._popper=ah(l,this._menu,f)}_isShown(){return this._menu.classList.contains(oo)}_getPlacement(){const l=this._parent;if(l.classList.contains(Ow))return jw;if(l.classList.contains(Nw))return Hw;if(l.classList.contains(Dw))return qw;if(l.classList.contains(Vw))return Ww;const f=getComputedStyle(this._menu).getPropertyValue("--bs-position").trim()==="end";return l.classList.contains(Pw)?f?$w:Fw:f?Bw:Uw}_detectNavbar(){return this._element.closest(Lw)!==null}_getOffset(){const{offset:l}=this._config;return typeof l=="string"?l.split(",").map(f=>Number.parseInt(f,10)):typeof l=="function"?f=>l(f,this._element):l}_getPopperConfig(){const l={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||this._config.display==="static")&&(Pe.setDataAttribute(this._menu,"popper","static"),l.modifiers=[{name:"applyStyles",enabled:!1}]),{...l,...w(this._config.popperConfig,[l])}}_selectMenuItem({key:l,target:f}){const v=L.find(Mw,this._menu).filter(C=>x(C));v.length&&P(v,f,l===Ip,!v.includes(f)).focus()}static jQueryInterface(l){return this.each(function(){const f=ar.getOrCreateInstance(this,l);if(typeof l=="string"){if(typeof f[l]>"u")throw new TypeError(`No method named "${l}"`);f[l]()}})}static clearMenus(l){if(l.button===Aw||l.type==="keyup"&&l.key!==bp)return;const f=L.find(kw);for(const v of f){const C=ar.getInstance(v);if(!C||C._config.autoClose===!1)continue;const F=l.composedPath(),j=F.includes(C._menu);if(F.includes(C._element)||C._config.autoClose==="inside"&&!j||C._config.autoClose==="outside"&&j||C._menu.contains(l.target)&&(l.type==="keyup"&&l.key===bp||/input|select|option|textarea|form/i.test(l.target.tagName)))continue;const K={relatedTarget:C._element};l.type==="click"&&(K.clickEvent=l),C._completeHide(K)}}static dataApiKeydownHandler(l){const f=/input|textarea/i.test(l.target.tagName),v=l.key===Tw,C=[ww,Ip].includes(l.key);if(!C&&!v||f&&!v)return;l.preventDefault();const F=this.matches(ms)?this:L.prev(this,ms)[0]||L.next(this,ms)[0]||L.findOne(ms,l.delegateTarget.parentNode),j=ar.getOrCreateInstance(F);if(C){l.stopPropagation(),j.show(),j._selectMenuItem(l);return}j._isShown()&&(l.stopPropagation(),j.hide(),F.focus())}}N.on(document,Rp,ms,ar.dataApiKeydownHandler),N.on(document,Rp,Ql,ar.dataApiKeydownHandler),N.on(document,Sp,ar.clearMenus),N.on(document,Cw,ar.clearMenus),N.on(document,Sp,ms,function(m){m.preventDefault(),ar.getOrCreateInstance(this).toggle()}),R(ar);const Cp="backdrop",Gw="fade",Pp="show",Op=`mousedown.bs.${Cp}`,Qw={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},Yw={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class Np extends A{constructor(l){super(),this._config=this._getConfig(l),this._isAppended=!1,this._element=null}static get Default(){return Qw}static get DefaultType(){return Yw}static get NAME(){return Cp}show(l){if(!this._config.isVisible){w(l);return}this._append();const f=this._getElement();this._config.isAnimated&&z(f),f.classList.add(Pp),this._emulateAnimation(()=>{w(l)})}hide(l){if(!this._config.isVisible){w(l);return}this._getElement().classList.remove(Pp),this._emulateAnimation(()=>{this.dispose(),w(l)})}dispose(){this._isAppended&&(N.off(this._element,Op),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const l=document.createElement("div");l.className=this._config.className,this._config.isAnimated&&l.classList.add(Gw),this._element=l}return this._element}_configAfterMerge(l){return l.rootElement=T(l.rootElement),l}_append(){if(this._isAppended)return;const l=this._getElement();this._config.rootElement.append(l),N.on(l,Op,()=>{w(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(l){b(l,this._getElement(),this._config.isAnimated)}}const Xw="focustrap",Yl=".bs.focustrap",Jw=`focusin${Yl}`,Zw=`keydown.tab${Yl}`,eA="Tab",tA="forward",Dp="backward",nA={autofocus:!0,trapElement:null},rA={autofocus:"boolean",trapElement:"element"};class Vp extends A{constructor(l){super(),this._config=this._getConfig(l),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return nA}static get DefaultType(){return rA}static get NAME(){return Xw}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),N.off(document,Yl),N.on(document,Jw,l=>this._handleFocusin(l)),N.on(document,Zw,l=>this._handleKeydown(l)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,N.off(document,Yl))}_handleFocusin(l){const{trapElement:f}=this._config;if(l.target===document||l.target===f||f.contains(l.target))return;const v=L.focusableChildren(f);v.length===0?f.focus():this._lastTabNavDirection===Dp?v[v.length-1].focus():v[0].focus()}_handleKeydown(l){l.key===eA&&(this._lastTabNavDirection=l.shiftKey?Dp:tA)}}const kp=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",Lp=".sticky-top",Xl="padding-right",xp="margin-right";class ch{constructor(){this._element=document.body}getWidth(){const l=document.documentElement.clientWidth;return Math.abs(window.innerWidth-l)}hide(){const l=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,Xl,f=>f+l),this._setElementAttributes(kp,Xl,f=>f+l),this._setElementAttributes(Lp,xp,f=>f-l)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,Xl),this._resetElementAttributes(kp,Xl),this._resetElementAttributes(Lp,xp)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(l,f,v){const C=this.getWidth(),F=j=>{if(j!==this._element&&window.innerWidth>j.clientWidth+C)return;this._saveInitialAttribute(j,f);const K=window.getComputedStyle(j).getPropertyValue(f);j.style.setProperty(f,`${v(Number.parseFloat(K))}px`)};this._applyManipulationCallback(l,F)}_saveInitialAttribute(l,f){const v=l.style.getPropertyValue(f);v&&Pe.setDataAttribute(l,f,v)}_resetElementAttributes(l,f){const v=C=>{const F=Pe.getDataAttribute(C,f);if(F===null){C.style.removeProperty(f);return}Pe.removeDataAttribute(C,f),C.style.setProperty(f,F)};this._applyManipulationCallback(l,v)}_applyManipulationCallback(l,f){if(y(l)){f(l);return}for(const v of L.find(l,this._element))f(v)}}const iA="modal",Jn=".bs.modal",sA=".data-api",oA="Escape",aA=`hide${Jn}`,lA=`hidePrevented${Jn}`,Mp=`hidden${Jn}`,Fp=`show${Jn}`,cA=`shown${Jn}`,uA=`resize${Jn}`,hA=`click.dismiss${Jn}`,dA=`mousedown.dismiss${Jn}`,fA=`keydown.dismiss${Jn}`,pA=`click${Jn}${sA}`,$p="modal-open",mA="fade",Up="show",uh="modal-static",gA=".modal.show",_A=".modal-dialog",vA=".modal-body",yA='[data-bs-toggle="modal"]',EA={backdrop:!0,focus:!0,keyboard:!0},TA={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class gs extends ${constructor(l,f){super(l,f),this._dialog=L.findOne(_A,this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new ch,this._addEventListeners()}static get Default(){return EA}static get DefaultType(){return TA}static get NAME(){return iA}toggle(l){return this._isShown?this.hide():this.show(l)}show(l){this._isShown||this._isTransitioning||N.trigger(this._element,Fp,{relatedTarget:l}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add($p),this._adjustDialog(),this._backdrop.show(()=>this._showElement(l)))}hide(){!this._isShown||this._isTransitioning||N.trigger(this._element,aA).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(Up),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated()))}dispose(){N.off(window,Jn),N.off(this._dialog,Jn),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new Np({isVisible:!!this._config.backdrop,isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new Vp({trapElement:this._element})}_showElement(l){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const f=L.findOne(vA,this._dialog);f&&(f.scrollTop=0),z(this._element),this._element.classList.add(Up);const v=()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,N.trigger(this._element,cA,{relatedTarget:l})};this._queueCallback(v,this._dialog,this._isAnimated())}_addEventListeners(){N.on(this._element,fA,l=>{if(l.key===oA){if(this._config.keyboard){this.hide();return}this._triggerBackdropTransition()}}),N.on(window,uA,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),N.on(this._element,dA,l=>{N.one(this._element,hA,f=>{if(!(this._element!==l.target||this._element!==f.target)){if(this._config.backdrop==="static"){this._triggerBackdropTransition();return}this._config.backdrop&&this.hide()}})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove($p),this._resetAdjustments(),this._scrollBar.reset(),N.trigger(this._element,Mp)})}_isAnimated(){return this._element.classList.contains(mA)}_triggerBackdropTransition(){if(N.trigger(this._element,lA).defaultPrevented)return;const f=this._element.scrollHeight>document.documentElement.clientHeight,v=this._element.style.overflowY;v==="hidden"||this._element.classList.contains(uh)||(f||(this._element.style.overflowY="hidden"),this._element.classList.add(uh),this._queueCallback(()=>{this._element.classList.remove(uh),this._queueCallback(()=>{this._element.style.overflowY=v},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const l=this._element.scrollHeight>document.documentElement.clientHeight,f=this._scrollBar.getWidth(),v=f>0;if(v&&!l){const C=ge()?"paddingLeft":"paddingRight";this._element.style[C]=`${f}px`}if(!v&&l){const C=ge()?"paddingRight":"paddingLeft";this._element.style[C]=`${f}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(l,f){return this.each(function(){const v=gs.getOrCreateInstance(this,l);if(typeof l=="string"){if(typeof v[l]>"u")throw new TypeError(`No method named "${l}"`);v[l](f)}})}}N.on(document,pA,yA,function(m){const l=L.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&m.preventDefault(),N.one(l,Fp,C=>{C.defaultPrevented||N.one(l,Mp,()=>{x(this)&&this.focus()})});const f=L.findOne(gA);f&&gs.getInstance(f).hide(),gs.getOrCreateInstance(l).toggle(this)}),Z(gs),R(gs);const wA="offcanvas",Gr=".bs.offcanvas",Bp=".data-api",AA=`load${Gr}${Bp}`,bA="Escape",jp="show",Hp="showing",qp="hiding",IA="offcanvas-backdrop",Wp=".offcanvas.show",SA=`show${Gr}`,RA=`shown${Gr}`,CA=`hide${Gr}`,Kp=`hidePrevented${Gr}`,zp=`hidden${Gr}`,PA=`resize${Gr}`,OA=`click${Gr}${Bp}`,NA=`keydown.dismiss${Gr}`,DA='[data-bs-toggle="offcanvas"]',VA={backdrop:!0,keyboard:!0,scroll:!1},kA={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class Qr extends ${constructor(l,f){super(l,f),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return VA}static get DefaultType(){return kA}static get NAME(){return wA}toggle(l){return this._isShown?this.hide():this.show(l)}show(l){if(this._isShown||N.trigger(this._element,SA,{relatedTarget:l}).defaultPrevented)return;this._isShown=!0,this._backdrop.show(),this._config.scroll||new ch().hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(Hp);const v=()=>{(!this._config.scroll||this._config.backdrop)&&this._focustrap.activate(),this._element.classList.add(jp),this._element.classList.remove(Hp),N.trigger(this._element,RA,{relatedTarget:l})};this._queueCallback(v,this._element,!0)}hide(){if(!this._isShown||N.trigger(this._element,CA).defaultPrevented)return;this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(qp),this._backdrop.hide();const f=()=>{this._element.classList.remove(jp,qp),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||new ch().reset(),N.trigger(this._element,zp)};this._queueCallback(f,this._element,!0)}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const l=()=>{if(this._config.backdrop==="static"){N.trigger(this._element,Kp);return}this.hide()},f=!!this._config.backdrop;return new Np({className:IA,isVisible:f,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:f?l:null})}_initializeFocusTrap(){return new Vp({trapElement:this._element})}_addEventListeners(){N.on(this._element,NA,l=>{if(l.key===bA){if(this._config.keyboard){this.hide();return}N.trigger(this._element,Kp)}})}static jQueryInterface(l){return this.each(function(){const f=Qr.getOrCreateInstance(this,l);if(typeof l=="string"){if(f[l]===void 0||l.startsWith("_")||l==="constructor")throw new TypeError(`No method named "${l}"`);f[l](this)}})}}N.on(document,OA,DA,function(m){const l=L.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&m.preventDefault(),H(this))return;N.one(l,zp,()=>{x(this)&&this.focus()});const f=L.findOne(Wp);f&&f!==l&&Qr.getInstance(f).hide(),Qr.getOrCreateInstance(l).toggle(this)}),N.on(window,AA,()=>{for(const m of L.find(Wp))Qr.getOrCreateInstance(m).show()}),N.on(window,PA,()=>{for(const m of L.find("[aria-modal][class*=show][class*=offcanvas-]"))getComputedStyle(m).position!=="fixed"&&Qr.getOrCreateInstance(m).hide()}),Z(Qr),R(Qr);const Gp={"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],dd:[],div:[],dl:[],dt:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},LA=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),xA=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i,MA=(m,l)=>{const f=m.nodeName.toLowerCase();return l.includes(f)?LA.has(f)?!!xA.test(m.nodeValue):!0:l.filter(v=>v instanceof RegExp).some(v=>v.test(f))};function FA(m,l,f){if(!m.length)return m;if(f&&typeof f=="function")return f(m);const C=new window.DOMParser().parseFromString(m,"text/html"),F=[].concat(...C.body.querySelectorAll("*"));for(const j of F){const K=j.nodeName.toLowerCase();if(!Object.keys(l).includes(K)){j.remove();continue}const re=[].concat(...j.attributes),Te=[].concat(l["*"]||[],l[K]||[]);for(const oe of re)MA(oe,Te)||j.removeAttribute(oe.nodeName)}return C.body.innerHTML}const $A="TemplateFactory",UA={allowList:Gp,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},BA={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},jA={entry:"(string|element|function|null)",selector:"(string|element)"};class HA extends A{constructor(l){super(),this._config=this._getConfig(l)}static get Default(){return UA}static get DefaultType(){return BA}static get NAME(){return $A}getContent(){return Object.values(this._config.content).map(l=>this._resolvePossibleFunction(l)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(l){return this._checkContent(l),this._config.content={...this._config.content,...l},this}toHtml(){const l=document.createElement("div");l.innerHTML=this._maybeSanitize(this._config.template);for(const[C,F]of Object.entries(this._config.content))this._setContent(l,F,C);const f=l.children[0],v=this._resolvePossibleFunction(this._config.extraClass);return v&&f.classList.add(...v.split(" ")),f}_typeCheckConfig(l){super._typeCheckConfig(l),this._checkContent(l.content)}_checkContent(l){for(const[f,v]of Object.entries(l))super._typeCheckConfig({selector:f,entry:v},jA)}_setContent(l,f,v){const C=L.findOne(v,l);if(C){if(f=this._resolvePossibleFunction(f),!f){C.remove();return}if(y(f)){this._putElementInTemplate(T(f),C);return}if(this._config.html){C.innerHTML=this._maybeSanitize(f);return}C.textContent=f}}_maybeSanitize(l){return this._config.sanitize?FA(l,this._config.allowList,this._config.sanitizeFn):l}_resolvePossibleFunction(l){return w(l,[this])}_putElementInTemplate(l,f){if(this._config.html){f.innerHTML="",f.append(l);return}f.textContent=l.textContent}}const qA="tooltip",WA=new Set(["sanitize","allowList","sanitizeFn"]),hh="fade",KA="modal",Jl="show",zA=".tooltip-inner",Qp=`.${KA}`,Yp="hide.bs.modal",Ta="hover",dh="focus",GA="click",QA="manual",YA="hide",XA="hidden",JA="show",ZA="shown",eb="inserted",tb="click",nb="focusin",rb="focusout",ib="mouseenter",sb="mouseleave",ob={AUTO:"auto",TOP:"top",RIGHT:ge()?"left":"right",BOTTOM:"bottom",LEFT:ge()?"right":"left"},ab={allowList:Gp,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},lb={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class _s extends ${constructor(l,f){if(typeof wp>"u")throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");super(l,f),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return ab}static get DefaultType(){return lb}static get NAME(){return qA}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){if(this._isEnabled){if(this._activeTrigger.click=!this._activeTrigger.click,this._isShown()){this._leave();return}this._enter()}}dispose(){clearTimeout(this._timeout),N.off(this._element.closest(Qp),Yp,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if(this._element.style.display==="none")throw new Error("Please use show on visible elements");if(!(this._isWithContent()&&this._isEnabled))return;const l=N.trigger(this._element,this.constructor.eventName(JA)),v=(U(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(l.defaultPrevented||!v)return;this._disposePopper();const C=this._getTipElement();this._element.setAttribute("aria-describedby",C.getAttribute("id"));const{container:F}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(F.append(C),N.trigger(this._element,this.constructor.eventName(eb))),this._popper=this._createPopper(C),C.classList.add(Jl),"ontouchstart"in document.documentElement)for(const K of[].concat(...document.body.children))N.on(K,"mouseover",X);const j=()=>{N.trigger(this._element,this.constructor.eventName(ZA)),this._isHovered===!1&&this._leave(),this._isHovered=!1};this._queueCallback(j,this.tip,this._isAnimated())}hide(){if(!this._isShown()||N.trigger(this._element,this.constructor.eventName(YA)).defaultPrevented)return;if(this._getTipElement().classList.remove(Jl),"ontouchstart"in document.documentElement)for(const C of[].concat(...document.body.children))N.off(C,"mouseover",X);this._activeTrigger[GA]=!1,this._activeTrigger[dh]=!1,this._activeTrigger[Ta]=!1,this._isHovered=null;const v=()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),N.trigger(this._element,this.constructor.eventName(XA)))};this._queueCallback(v,this.tip,this._isAnimated())}update(){this._popper&&this._popper.update()}_isWithContent(){return!!this._getTitle()}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(l){const f=this._getTemplateFactory(l).toHtml();if(!f)return null;f.classList.remove(hh,Jl),f.classList.add(`bs-${this.constructor.NAME}-auto`);const v=h(this.constructor.NAME).toString();return f.setAttribute("id",v),this._isAnimated()&&f.classList.add(hh),f}setContent(l){this._newContent=l,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(l){return this._templateFactory?this._templateFactory.changeContent(l):this._templateFactory=new HA({...this._config,content:l,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{[zA]:this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(l){return this.constructor.getOrCreateInstance(l.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(hh)}_isShown(){return this.tip&&this.tip.classList.contains(Jl)}_createPopper(l){const f=w(this._config.placement,[this,l,this._element]),v=ob[f.toUpperCase()];return ah(this._element,l,this._getPopperConfig(v))}_getOffset(){const{offset:l}=this._config;return typeof l=="string"?l.split(",").map(f=>Number.parseInt(f,10)):typeof l=="function"?f=>l(f,this._element):l}_resolvePossibleFunction(l){return w(l,[this._element])}_getPopperConfig(l){const f={placement:l,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:v=>{this._getTipElement().setAttribute("data-popper-placement",v.state.placement)}}]};return{...f,...w(this._config.popperConfig,[f])}}_setListeners(){const l=this._config.trigger.split(" ");for(const f of l)if(f==="click")N.on(this._element,this.constructor.eventName(tb),this._config.selector,v=>{this._initializeOnDelegatedTarget(v).toggle()});else if(f!==QA){const v=f===Ta?this.constructor.eventName(ib):this.constructor.eventName(nb),C=f===Ta?this.constructor.eventName(sb):this.constructor.eventName(rb);N.on(this._element,v,this._config.selector,F=>{const j=this._initializeOnDelegatedTarget(F);j._activeTrigger[F.type==="focusin"?dh:Ta]=!0,j._enter()}),N.on(this._element,C,this._config.selector,F=>{const j=this._initializeOnDelegatedTarget(F);j._activeTrigger[F.type==="focusout"?dh:Ta]=j._element.contains(F.relatedTarget),j._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},N.on(this._element.closest(Qp),Yp,this._hideModalHandler)}_fixTitle(){const l=this._element.getAttribute("title");l&&(!this._element.getAttribute("aria-label")&&!this._element.textContent.trim()&&this._element.setAttribute("aria-label",l),this._element.setAttribute("data-bs-original-title",l),this._element.removeAttribute("title"))}_enter(){if(this._isShown()||this._isHovered){this._isHovered=!0;return}this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show)}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(l,f){clearTimeout(this._timeout),this._timeout=setTimeout(l,f)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(l){const f=Pe.getDataAttributes(this._element);for(const v of Object.keys(f))WA.has(v)&&delete f[v];return l={...f,...typeof l=="object"&&l?l:{}},l=this._mergeConfigObj(l),l=this._configAfterMerge(l),this._typeCheckConfig(l),l}_configAfterMerge(l){return l.container=l.container===!1?document.body:T(l.container),typeof l.delay=="number"&&(l.delay={show:l.delay,hide:l.delay}),typeof l.title=="number"&&(l.title=l.title.toString()),typeof l.content=="number"&&(l.content=l.content.toString()),l}_getDelegateConfig(){const l={};for(const[f,v]of Object.entries(this._config))this.constructor.Default[f]!==v&&(l[f]=v);return l.selector=!1,l.trigger="manual",l}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(l){return this.each(function(){const f=_s.getOrCreateInstance(this,l);if(typeof l=="string"){if(typeof f[l]>"u")throw new TypeError(`No method named "${l}"`);f[l]()}})}}R(_s);const cb="popover",ub=".popover-header",hb=".popover-body",db={..._s.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},fb={..._s.DefaultType,content:"(null|string|element|function)"};class Zl extends _s{static get Default(){return db}static get DefaultType(){return fb}static get NAME(){return cb}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{[ub]:this._getTitle(),[hb]:this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(l){return this.each(function(){const f=Zl.getOrCreateInstance(this,l);if(typeof l=="string"){if(typeof f[l]>"u")throw new TypeError(`No method named "${l}"`);f[l]()}})}}R(Zl);const pb="scrollspy",fh=".bs.scrollspy",mb=".data-api",gb=`activate${fh}`,Xp=`click${fh}`,_b=`load${fh}${mb}`,vb="dropdown-item",ao="active",yb='[data-bs-spy="scroll"]',ph="[href]",Eb=".nav, .list-group",Jp=".nav-link",Tb=`${Jp}, .nav-item > ${Jp}, .list-group-item`,wb=".dropdown",Ab=".dropdown-toggle",bb={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},Ib={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class wa extends ${constructor(l,f){super(l,f),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement=getComputedStyle(this._element).overflowY==="visible"?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return bb}static get DefaultType(){return Ib}static get NAME(){return pb}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const l of this._observableSections.values())this._observer.observe(l)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(l){return l.target=T(l.target)||document.body,l.rootMargin=l.offset?`${l.offset}px 0px -30%`:l.rootMargin,typeof l.threshold=="string"&&(l.threshold=l.threshold.split(",").map(f=>Number.parseFloat(f))),l}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(N.off(this._config.target,Xp),N.on(this._config.target,Xp,ph,l=>{const f=this._observableSections.get(l.target.hash);if(f){l.preventDefault();const v=this._rootElement||window,C=f.offsetTop-this._element.offsetTop;if(v.scrollTo){v.scrollTo({top:C,behavior:"smooth"});return}v.scrollTop=C}}))}_getNewObserver(){const l={root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin};return new IntersectionObserver(f=>this._observerCallback(f),l)}_observerCallback(l){const f=j=>this._targetLinks.get(`#${j.target.id}`),v=j=>{this._previousScrollData.visibleEntryTop=j.target.offsetTop,this._process(f(j))},C=(this._rootElement||document.documentElement).scrollTop,F=C>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=C;for(const j of l){if(!j.isIntersecting){this._activeTarget=null,this._clearActiveClass(f(j));continue}const K=j.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(F&&K){if(v(j),!C)return;continue}!F&&!K&&v(j)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const l=L.find(ph,this._config.target);for(const f of l){if(!f.hash||H(f))continue;const v=L.findOne(decodeURI(f.hash),this._element);x(v)&&(this._targetLinks.set(decodeURI(f.hash),f),this._observableSections.set(f.hash,v))}}_process(l){this._activeTarget!==l&&(this._clearActiveClass(this._config.target),this._activeTarget=l,l.classList.add(ao),this._activateParents(l),N.trigger(this._element,gb,{relatedTarget:l}))}_activateParents(l){if(l.classList.contains(vb)){L.findOne(Ab,l.closest(wb)).classList.add(ao);return}for(const f of L.parents(l,Eb))for(const v of L.prev(f,Tb))v.classList.add(ao)}_clearActiveClass(l){l.classList.remove(ao);const f=L.find(`${ph}.${ao}`,l);for(const v of f)v.classList.remove(ao)}static jQueryInterface(l){return this.each(function(){const f=wa.getOrCreateInstance(this,l);if(typeof l=="string"){if(f[l]===void 0||l.startsWith("_")||l==="constructor")throw new TypeError(`No method named "${l}"`);f[l]()}})}}N.on(window,_b,()=>{for(const m of L.find(yb))wa.getOrCreateInstance(m)}),R(wa);const Sb="tab",vs=".bs.tab",Rb=`hide${vs}`,Cb=`hidden${vs}`,Pb=`show${vs}`,Ob=`shown${vs}`,Nb=`click${vs}`,Db=`keydown${vs}`,Vb=`load${vs}`,kb="ArrowLeft",Zp="ArrowRight",Lb="ArrowUp",em="ArrowDown",mh="Home",tm="End",ys="active",nm="fade",gh="show",xb="dropdown",rm=".dropdown-toggle",Mb=".dropdown-menu",_h=`:not(${rm})`,Fb='.list-group, .nav, [role="tablist"]',$b=".nav-item, .list-group-item",Ub=`.nav-link${_h}, .list-group-item${_h}, [role="tab"]${_h}`,im='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',vh=`${Ub}, ${im}`,Bb=`.${ys}[data-bs-toggle="tab"], .${ys}[data-bs-toggle="pill"], .${ys}[data-bs-toggle="list"]`;class Es extends ${constructor(l){super(l),this._parent=this._element.closest(Fb),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),N.on(this._element,Db,f=>this._keydown(f)))}static get NAME(){return Sb}show(){const l=this._element;if(this._elemIsActive(l))return;const f=this._getActiveElem(),v=f?N.trigger(f,Rb,{relatedTarget:l}):null;N.trigger(l,Pb,{relatedTarget:f}).defaultPrevented||v&&v.defaultPrevented||(this._deactivate(f,l),this._activate(l,f))}_activate(l,f){if(!l)return;l.classList.add(ys),this._activate(L.getElementFromSelector(l));const v=()=>{if(l.getAttribute("role")!=="tab"){l.classList.add(gh);return}l.removeAttribute("tabindex"),l.setAttribute("aria-selected",!0),this._toggleDropDown(l,!0),N.trigger(l,Ob,{relatedTarget:f})};this._queueCallback(v,l,l.classList.contains(nm))}_deactivate(l,f){if(!l)return;l.classList.remove(ys),l.blur(),this._deactivate(L.getElementFromSelector(l));const v=()=>{if(l.getAttribute("role")!=="tab"){l.classList.remove(gh);return}l.setAttribute("aria-selected",!1),l.setAttribute("tabindex","-1"),this._toggleDropDown(l,!1),N.trigger(l,Cb,{relatedTarget:f})};this._queueCallback(v,l,l.classList.contains(nm))}_keydown(l){if(![kb,Zp,Lb,em,mh,tm].includes(l.key))return;l.stopPropagation(),l.preventDefault();const f=this._getChildren().filter(C=>!H(C));let v;if([mh,tm].includes(l.key))v=f[l.key===mh?0:f.length-1];else{const C=[Zp,em].includes(l.key);v=P(f,l.target,C,!0)}v&&(v.focus({preventScroll:!0}),Es.getOrCreateInstance(v).show())}_getChildren(){return L.find(vh,this._parent)}_getActiveElem(){return this._getChildren().find(l=>this._elemIsActive(l))||null}_setInitialAttributes(l,f){this._setAttributeIfNotExists(l,"role","tablist");for(const v of f)this._setInitialAttributesOnChild(v)}_setInitialAttributesOnChild(l){l=this._getInnerElement(l);const f=this._elemIsActive(l),v=this._getOuterElement(l);l.setAttribute("aria-selected",f),v!==l&&this._setAttributeIfNotExists(v,"role","presentation"),f||l.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(l,"role","tab"),this._setInitialAttributesOnTargetPanel(l)}_setInitialAttributesOnTargetPanel(l){const f=L.getElementFromSelector(l);f&&(this._setAttributeIfNotExists(f,"role","tabpanel"),l.id&&this._setAttributeIfNotExists(f,"aria-labelledby",`${l.id}`))}_toggleDropDown(l,f){const v=this._getOuterElement(l);if(!v.classList.contains(xb))return;const C=(F,j)=>{const K=L.findOne(F,v);K&&K.classList.toggle(j,f)};C(rm,ys),C(Mb,gh),v.setAttribute("aria-expanded",f)}_setAttributeIfNotExists(l,f,v){l.hasAttribute(f)||l.setAttribute(f,v)}_elemIsActive(l){return l.classList.contains(ys)}_getInnerElement(l){return l.matches(vh)?l:L.findOne(vh,l)}_getOuterElement(l){return l.closest($b)||l}static jQueryInterface(l){return this.each(function(){const f=Es.getOrCreateInstance(this);if(typeof l=="string"){if(f[l]===void 0||l.startsWith("_")||l==="constructor")throw new TypeError(`No method named "${l}"`);f[l]()}})}}N.on(document,Nb,im,function(m){["A","AREA"].includes(this.tagName)&&m.preventDefault(),!H(this)&&Es.getOrCreateInstance(this).show()}),N.on(window,Vb,()=>{for(const m of L.find(Bb))Es.getOrCreateInstance(m)}),R(Es);const jb="toast",Ri=".bs.toast",Hb=`mouseover${Ri}`,qb=`mouseout${Ri}`,Wb=`focusin${Ri}`,Kb=`focusout${Ri}`,zb=`hide${Ri}`,Gb=`hidden${Ri}`,Qb=`show${Ri}`,Yb=`shown${Ri}`,Xb="fade",sm="hide",ec="show",tc="showing",Jb={animation:"boolean",autohide:"boolean",delay:"number"},Zb={animation:!0,autohide:!0,delay:5e3};class Aa extends ${constructor(l,f){super(l,f),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return Zb}static get DefaultType(){return Jb}static get NAME(){return jb}show(){if(N.trigger(this._element,Qb).defaultPrevented)return;this._clearTimeout(),this._config.animation&&this._element.classList.add(Xb);const f=()=>{this._element.classList.remove(tc),N.trigger(this._element,Yb),this._maybeScheduleHide()};this._element.classList.remove(sm),z(this._element),this._element.classList.add(ec,tc),this._queueCallback(f,this._element,this._config.animation)}hide(){if(!this.isShown()||N.trigger(this._element,zb).defaultPrevented)return;const f=()=>{this._element.classList.add(sm),this._element.classList.remove(tc,ec),N.trigger(this._element,Gb)};this._element.classList.add(tc),this._queueCallback(f,this._element,this._config.animation)}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(ec),super.dispose()}isShown(){return this._element.classList.contains(ec)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(l,f){switch(l.type){case"mouseover":case"mouseout":{this._hasMouseInteraction=f;break}case"focusin":case"focusout":{this._hasKeyboardInteraction=f;break}}if(f){this._clearTimeout();return}const v=l.relatedTarget;this._element===v||this._element.contains(v)||this._maybeScheduleHide()}_setListeners(){N.on(this._element,Hb,l=>this._onInteraction(l,!0)),N.on(this._element,qb,l=>this._onInteraction(l,!1)),N.on(this._element,Wb,l=>this._onInteraction(l,!0)),N.on(this._element,Kb,l=>this._onInteraction(l,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(l){return this.each(function(){const f=Aa.getOrCreateInstance(this,l);if(typeof l=="string"){if(typeof f[l]>"u")throw new TypeError(`No method named "${l}"`);f[l](this)}})}}return Z(Aa),R(Aa),{Alert:pe,Button:le,Carousel:Ti,Collapse:Br,Dropdown:ar,Modal:gs,Offcanvas:Qr,Popover:Zl,ScrollSpy:wa,Tab:Es,Toast:Aa,Tooltip:_s}})})(zL);const GT=SS(mL);GT.use(zT);GT.mount("#app");export{Kd as A,ax as B,O_ as C,PT as D,gx as E,px as F,Fn as G,lx as H,TS as I,zv as J,Zo as _,Ce as a,nt as b,Or as c,Nh as d,Gt as e,mx as f,OR as g,u0 as h,Ue as i,of as j,sx as k,ES as l,H0 as m,zd as n,Mn as o,Kn as p,ox as q,Pn as r,wS as s,Q_ as t,Ye as u,qm as v,wt as w,yN as x,ux as y,cx as z};
